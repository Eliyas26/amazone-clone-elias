var kO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mX=kO((bX,Jh)=>{function PO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pA={exports:{}},hp={},mA={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),xO=Symbol.for("react.portal"),bO=Symbol.for("react.fragment"),NO=Symbol.for("react.strict_mode"),DO=Symbol.for("react.profiler"),OO=Symbol.for("react.provider"),MO=Symbol.for("react.context"),VO=Symbol.for("react.forward_ref"),LO=Symbol.for("react.suspense"),FO=Symbol.for("react.memo"),UO=Symbol.for("react.lazy"),aI=Symbol.iterator;function $O(t){return t===null||typeof t!="object"?null:(t=aI&&t[aI]||t["@@iterator"],typeof t=="function"?t:null)}var gA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA=Object.assign,_A={};function vl(t,e,n){this.props=t,this.context=e,this.refs=_A,this.updater=n||gA}vl.prototype.isReactComponent={};vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vA(){}vA.prototype=vl.prototype;function Tv(t,e,n){this.props=t,this.context=e,this.refs=_A,this.updater=n||gA}var Sv=Tv.prototype=new vA;Sv.constructor=Tv;yA(Sv,vl.prototype);Sv.isPureReactComponent=!0;var lI=Array.isArray,wA=Object.prototype.hasOwnProperty,Av={current:null},EA={key:!0,ref:!0,__self:!0,__source:!0};function IA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wA.call(e,r)&&!EA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yc,type:t,key:s,ref:o,props:i,_owner:Av.current}}function jO(t,e){return{$$typeof:Yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yc}function BO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uI=/\/+/g;function ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BO(""+t.key):e.toString(36)}function mh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yc:case xO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ng(o,0):r,lI(i)?(n="",t!=null&&(n=t.replace(uI,"$&/")+"/"),mh(i,e,n,"",function(u){return u})):i!=null&&(Rv(i)&&(i=jO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ng(s,a);o+=mh(s,e,n,l,i)}else if(l=$O(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ng(s,a++),o+=mh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vd(t,e,n){if(t==null)return t;var r=[],i=0;return mh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},gh={transition:null},WO={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:gh,ReactCurrentOwner:Av};se.Children={map:Vd,forEach:function(t,e,n){Vd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vd(t,function(){e++}),e},toArray:function(t){return Vd(t,function(e){return e})||[]},only:function(t){if(!Rv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=vl;se.Fragment=bO;se.Profiler=DO;se.PureComponent=Tv;se.StrictMode=NO;se.Suspense=LO;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WO;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Av.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wA.call(e,l)&&!EA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yc,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:MO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OO,_context:t},t.Consumer=t};se.createElement=IA;se.createFactory=function(t){var e=IA.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:VO,render:t}};se.isValidElement=Rv;se.lazy=function(t){return{$$typeof:UO,_payload:{_status:-1,_result:t},_init:zO}};se.memo=function(t,e){return{$$typeof:FO,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=gh.transition;gh.transition={};try{t()}finally{gh.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return un.current.useCallback(t,e)};se.useContext=function(t){return un.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return un.current.useDeferredValue(t)};se.useEffect=function(t,e){return un.current.useEffect(t,e)};se.useId=function(){return un.current.useId()};se.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return un.current.useMemo(t,e)};se.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};se.useRef=function(t){return un.current.useRef(t)};se.useState=function(t){return un.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return un.current.useTransition()};se.version="18.2.0";mA.exports=se;var P=mA.exports;const de=Iv(P),Zh=PO({__proto__:null,default:de},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=P,GO=Symbol.for("react.element"),HO=Symbol.for("react.fragment"),KO=Object.prototype.hasOwnProperty,YO=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QO={key:!0,ref:!0,__self:!0,__source:!0};function TA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KO.call(e,r)&&!QO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GO,type:t,key:s,ref:o,props:i,_owner:YO.current}}hp.Fragment=HO;hp.jsx=TA;hp.jsxs=TA;pA.exports=hp;var v=pA.exports,my={},SA={exports:{}},Vn={},AA={exports:{}},RA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var X=B.length;B.push(K);e:for(;0<X;){var Oe=X-1>>>1,He=B[Oe];if(0<i(He,K))B[Oe]=K,B[X]=He,X=Oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],X=B.pop();if(X!==K){B[0]=X;e:for(var Oe=0,He=B.length,xi=He>>>1;Oe<xi;){var $n=2*(Oe+1)-1,zl=B[$n],Kr=$n+1,Ls=B[Kr];if(0>i(zl,X))Kr<He&&0>i(Ls,zl)?(B[Oe]=Ls,B[Kr]=X,Oe=Kr):(B[Oe]=zl,B[$n]=X,Oe=$n);else if(Kr<He&&0>i(Ls,X))B[Oe]=Ls,B[Kr]=X,Oe=Kr;else break e}}return K}function i(B,K){var X=B.sortIndex-K.sortIndex;return X!==0?X:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=B)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function E(B){if(p=!1,_(B),!m)if(n(l)!==null)m=!0,zo(S);else{var K=n(u);K!==null&&at(E,K.startTime-B)}}function S(B,K){m=!1,p&&(p=!1,y(L),L=-1),f=!0;var X=h;try{for(_(K),d=n(l);d!==null&&(!(d.expirationTime>K)||B&&!Ge());){var Oe=d.callback;if(typeof Oe=="function"){d.callback=null,h=d.priorityLevel;var He=Oe(d.expirationTime<=K);K=t.unstable_now(),typeof He=="function"?d.callback=He:d===n(l)&&r(l),_(K)}else r(l);d=n(l)}if(d!==null)var xi=!0;else{var $n=n(u);$n!==null&&at(E,$n.startTime-K),xi=!1}return xi}finally{d=null,h=X,f=!1}}var R=!1,A=null,L=-1,te=5,j=-1;function Ge(){return!(t.unstable_now()-j<te)}function dn(){if(A!==null){var B=t.unstable_now();j=B;var K=!0;try{K=A(!0,B)}finally{K?Sn():(R=!1,A=null)}}else R=!1}var Sn;if(typeof g=="function")Sn=function(){g(dn)};else if(typeof MessageChannel<"u"){var Hr=new MessageChannel,Vs=Hr.port2;Hr.port1.onmessage=dn,Sn=function(){Vs.postMessage(null)}}else Sn=function(){w(dn,0)};function zo(B){A=B,R||(R=!0,Sn())}function at(B,K){L=w(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,zo(S))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var X=h;h=K;try{return B()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=h;h=B;try{return K()}finally{h=X}},t.unstable_scheduleCallback=function(B,K,X){var Oe=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Oe+X:Oe):X=Oe,B){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=X+He,B={id:c++,callback:K,priorityLevel:B,startTime:X,expirationTime:He,sortIndex:-1},X>Oe?(B.sortIndex=X,e(u,B),n(l)===null&&B===n(u)&&(p?(y(L),L=-1):p=!0,at(E,X-Oe))):(B.sortIndex=He,e(l,B),m||f||(m=!0,zo(S))),B},t.unstable_shouldYield=Ge,t.unstable_wrapCallback=function(B){var K=h;return function(){var X=h;h=K;try{return B.apply(this,arguments)}finally{h=X}}}})(RA);AA.exports=RA;var XO=AA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA=P,Dn=XO;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PA=new Set,Ku={};function xo(t,e){Ga(t,e),Ga(t+"Capture",e)}function Ga(t,e){for(Ku[t]=e,t=0;t<e.length;t++)PA.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gy=Object.prototype.hasOwnProperty,JO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cI={},dI={};function ZO(t){return gy.call(dI,t)?!0:gy.call(cI,t)?!1:JO.test(t)?dI[t]=!0:(cI[t]=!0,!1)}function e2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function t2(t,e,n,r){if(e===null||typeof e>"u"||e2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kv=/[\-:]([a-z])/g;function Pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kv,Pv);Ut[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kv,Pv);Ut[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kv,Pv);Ut[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(t2(e,n,i,r)&&(n=null),r||i===null?ZO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ei=kA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),da=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),_y=Symbol.for("react.suspense"),vy=Symbol.for("react.suspense_list"),Nv=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),bA=Symbol.for("react.offscreen"),hI=Symbol.iterator;function Wl(t){return t===null||typeof t!="object"?null:(t=hI&&t[hI]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,rg;function pu(t){if(rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rg=e&&e[1]||""}return`
`+rg+t}var ig=!1;function sg(t,e){if(!t||ig)return"";ig=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ig=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function n2(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=sg(t.type,!1),t;case 11:return t=sg(t.type.render,!1),t;case 1:return t=sg(t.type,!0),t;default:return""}}function wy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case da:return"Portal";case yy:return"Profiler";case xv:return"StrictMode";case _y:return"Suspense";case vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xA:return(t.displayName||"Context")+".Consumer";case CA:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nv:return e=t.displayName||null,e!==null?e:wy(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return wy(t(e))}catch{}}return null}function r2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wy(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function i2(t){var e=NA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fd(t){t._valueTracker||(t._valueTracker=i2(t))}function DA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ey(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OA(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Iy(t,e){OA(t,e);var n=us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ty(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ty(t,e.type,us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ty(t,e,n){(e!=="number"||ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mu=Array.isArray;function Ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(mu(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:us(n)}}function MA(t,e){var n=us(e.value),r=us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ud,LA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s2=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(t){s2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ru[e]=Ru[t]})});function FA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ru.hasOwnProperty(t)&&Ru[t]?(""+e).trim():e+"px"}function UA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var o2=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(t,e){if(e){if(o2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function Dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cy=null,ka=null,Pa=null;function yI(t){if(t=Jc(t)){if(typeof Cy!="function")throw Error(b(280));var e=t.stateNode;e&&(e=yp(e),Cy(t.stateNode,t.type,e))}}function $A(t){ka?Pa?Pa.push(t):Pa=[t]:ka=t}function jA(){if(ka){var t=ka,e=Pa;if(Pa=ka=null,yI(t),e)for(t=0;t<e.length;t++)yI(e[t])}}function BA(t,e){return t(e)}function zA(){}var og=!1;function WA(t,e,n){if(og)return t(e,n);og=!0;try{return BA(t,e,n)}finally{og=!1,(ka!==null||Pa!==null)&&(zA(),jA())}}function Qu(t,e){var n=t.stateNode;if(n===null)return null;var r=yp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var xy=!1;if(hi)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){xy=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{xy=!1}function a2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ku=!1,tf=null,nf=!1,by=null,l2={onError:function(t){ku=!0,tf=t}};function u2(t,e,n,r,i,s,o,a,l){ku=!1,tf=null,a2.apply(l2,arguments)}function c2(t,e,n,r,i,s,o,a,l){if(u2.apply(this,arguments),ku){if(ku){var u=tf;ku=!1,tf=null}else throw Error(b(198));nf||(nf=!0,by=u)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _I(t){if(bo(t)!==t)throw Error(b(188))}function d2(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _I(i),t;if(s===r)return _I(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function GA(t){return t=d2(t),t!==null?HA(t):null}function HA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HA(t);if(e!==null)return e;t=t.sibling}return null}var KA=Dn.unstable_scheduleCallback,vI=Dn.unstable_cancelCallback,h2=Dn.unstable_shouldYield,f2=Dn.unstable_requestPaint,rt=Dn.unstable_now,p2=Dn.unstable_getCurrentPriorityLevel,Ov=Dn.unstable_ImmediatePriority,YA=Dn.unstable_UserBlockingPriority,rf=Dn.unstable_NormalPriority,m2=Dn.unstable_LowPriority,QA=Dn.unstable_IdlePriority,fp=null,Dr=null;function g2(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(fp,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:v2,y2=Math.log,_2=Math.LN2;function v2(t){return t>>>=0,t===0?32:31-(y2(t)/_2|0)|0}var $d=64,jd=4194304;function gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gu(a):(s&=o,s!==0&&(r=gu(s)))}else o=n&~i,o!==0?r=gu(o):s!==0&&(r=gu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function w2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=w2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ny(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XA(){var t=$d;return $d<<=1,!($d&4194240)&&($d=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function I2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function JA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZA,Vv,eR,tR,nR,Dy=!1,Bd=[],Xi=null,Ji=null,Zi=null,Xu=new Map,Ju=new Map,Ui=[],T2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wI(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function Gl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jc(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function S2(t,e,n,r,i){switch(e){case"focusin":return Xi=Gl(Xi,t,e,n,r,i),!0;case"dragenter":return Ji=Gl(Ji,t,e,n,r,i),!0;case"mouseover":return Zi=Gl(Zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xu.set(s,Gl(Xu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ju.set(s,Gl(Ju.get(s)||null,t,e,n,r,i)),!0}return!1}function rR(t){var e=Ys(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=qA(n),e!==null){t.blockedOn=e,nR(t.priority,function(){eR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=Jc(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function EI(t,e,n){yh(t)&&n.delete(e)}function A2(){Dy=!1,Xi!==null&&yh(Xi)&&(Xi=null),Ji!==null&&yh(Ji)&&(Ji=null),Zi!==null&&yh(Zi)&&(Zi=null),Xu.forEach(EI),Ju.forEach(EI)}function Hl(t,e){t.blockedOn===e&&(t.blockedOn=null,Dy||(Dy=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,A2)))}function Zu(t){function e(i){return Hl(i,t)}if(0<Bd.length){Hl(Bd[0],t);for(var n=1;n<Bd.length;n++){var r=Bd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&Hl(Xi,t),Ji!==null&&Hl(Ji,t),Zi!==null&&Hl(Zi,t),Xu.forEach(e),Ju.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)rR(n),n.blockedOn===null&&Ui.shift()}var Ca=Ei.ReactCurrentBatchConfig,of=!0;function R2(t,e,n,r){var i=we,s=Ca.transition;Ca.transition=null;try{we=1,Lv(t,e,n,r)}finally{we=i,Ca.transition=s}}function k2(t,e,n,r){var i=we,s=Ca.transition;Ca.transition=null;try{we=4,Lv(t,e,n,r)}finally{we=i,Ca.transition=s}}function Lv(t,e,n,r){if(of){var i=Oy(t,e,n,r);if(i===null)yg(t,e,r,af,n),wI(t,r);else if(S2(i,t,e,n,r))r.stopPropagation();else if(wI(t,r),e&4&&-1<T2.indexOf(t)){for(;i!==null;){var s=Jc(i);if(s!==null&&ZA(s),s=Oy(t,e,n,r),s===null&&yg(t,e,r,af,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yg(t,e,r,null,n)}}var af=null;function Oy(t,e,n,r){if(af=null,t=Dv(r),t=Ys(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return af=t,null}function iR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p2()){case Ov:return 1;case YA:return 4;case rf:case m2:return 16;case QA:return 536870912;default:return 16}default:return 16}}var zi=null,Fv=null,_h=null;function sR(){if(_h)return _h;var t,e=Fv,n=e.length,r,i="value"in zi?zi.value:zi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _h=i.slice(t,1<r?1-r:void 0)}function vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zd(){return!0}function II(){return!1}function Ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zd:II,this.isPropagationStopped=II,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zd)},persist:function(){},isPersistent:zd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=Ln(wl),Xc=We({},wl,{view:0,detail:0}),P2=Ln(Xc),lg,ug,Kl,pp=We({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(lg=t.screenX-Kl.screenX,ug=t.screenY-Kl.screenY):ug=lg=0,Kl=t),lg)},movementY:function(t){return"movementY"in t?t.movementY:ug}}),TI=Ln(pp),C2=We({},pp,{dataTransfer:0}),x2=Ln(C2),b2=We({},Xc,{relatedTarget:0}),cg=Ln(b2),N2=We({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),D2=Ln(N2),O2=We({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M2=Ln(O2),V2=We({},wl,{data:0}),SI=Ln(V2),L2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U2[t])?!!e[t]:!1}function $v(){return $2}var j2=We({},Xc,{key:function(t){if(t.key){var e=L2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B2=Ln(j2),z2=We({},pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AI=Ln(z2),W2=We({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),q2=Ln(W2),G2=We({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),H2=Ln(G2),K2=We({},pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y2=Ln(K2),Q2=[9,13,27,32],jv=hi&&"CompositionEvent"in window,Pu=null;hi&&"documentMode"in document&&(Pu=document.documentMode);var X2=hi&&"TextEvent"in window&&!Pu,oR=hi&&(!jv||Pu&&8<Pu&&11>=Pu),RI=String.fromCharCode(32),kI=!1;function aR(t,e){switch(t){case"keyup":return Q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function J2(t,e){switch(t){case"compositionend":return lR(e);case"keypress":return e.which!==32?null:(kI=!0,RI);case"textInput":return t=e.data,t===RI&&kI?null:t;default:return null}}function Z2(t,e){if(fa)return t==="compositionend"||!jv&&aR(t,e)?(t=sR(),_h=Fv=zi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oR&&e.locale!=="ko"?null:e.data;default:return null}}var eM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eM[t.type]:e==="textarea"}function uR(t,e,n,r){$A(r),e=lf(e,"onChange"),0<e.length&&(n=new Uv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cu=null,ec=null;function tM(t){wR(t,0)}function mp(t){var e=ga(t);if(DA(e))return t}function nM(t,e){if(t==="change")return e}var cR=!1;if(hi){var dg;if(hi){var hg="oninput"in document;if(!hg){var CI=document.createElement("div");CI.setAttribute("oninput","return;"),hg=typeof CI.oninput=="function"}dg=hg}else dg=!1;cR=dg&&(!document.documentMode||9<document.documentMode)}function xI(){Cu&&(Cu.detachEvent("onpropertychange",dR),ec=Cu=null)}function dR(t){if(t.propertyName==="value"&&mp(ec)){var e=[];uR(e,ec,t,Dv(t)),WA(tM,e)}}function rM(t,e,n){t==="focusin"?(xI(),Cu=e,ec=n,Cu.attachEvent("onpropertychange",dR)):t==="focusout"&&xI()}function iM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mp(ec)}function sM(t,e){if(t==="click")return mp(e)}function oM(t,e){if(t==="input"||t==="change")return mp(e)}function aM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:aM;function tc(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gy.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function bI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NI(t,e){var n=bI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bI(n)}}function hR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fR(){for(var t=window,e=ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ef(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lM(t){var e=fR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hR(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=NI(n,s);var o=NI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uM=hi&&"documentMode"in document&&11>=document.documentMode,pa=null,My=null,xu=null,Vy=!1;function DI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vy||pa==null||pa!==ef(r)||(r=pa,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xu&&tc(xu,r)||(xu=r,r=lf(My,"onSelect"),0<r.length&&(e=new Uv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},fg={},pR={};hi&&(pR=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function gp(t){if(fg[t])return fg[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pR)return fg[t]=e[n];return t}var mR=gp("animationend"),gR=gp("animationiteration"),yR=gp("animationstart"),_R=gp("transitionend"),vR=new Map,OI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){vR.set(t,e),xo(e,[t])}for(var pg=0;pg<OI.length;pg++){var mg=OI[pg],cM=mg.toLowerCase(),dM=mg[0].toUpperCase()+mg.slice(1);Ss(cM,"on"+dM)}Ss(mR,"onAnimationEnd");Ss(gR,"onAnimationIteration");Ss(yR,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(_R,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hM=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function MI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,c2(r,e,void 0,t),t.currentTarget=null}function wR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;MI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;MI(i,a,u),s=l}}}if(nf)throw t=by,nf=!1,by=null,t}function ke(t,e){var n=e[jy];n===void 0&&(n=e[jy]=new Set);var r=t+"__bubble";n.has(r)||(ER(e,t,2,!1),n.add(r))}function gg(t,e,n){var r=0;e&&(r|=4),ER(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function nc(t){if(!t[qd]){t[qd]=!0,PA.forEach(function(n){n!=="selectionchange"&&(hM.has(n)||gg(n,!1,t),gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,gg("selectionchange",!1,e))}}function ER(t,e,n,r){switch(iR(e)){case 1:var i=R2;break;case 4:i=k2;break;default:i=Lv}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WA(function(){var u=s,c=Dv(n),d=[];e:{var h=vR.get(t);if(h!==void 0){var f=Uv,m=t;switch(t){case"keypress":if(vh(n)===0)break e;case"keydown":case"keyup":f=B2;break;case"focusin":m="focus",f=cg;break;case"focusout":m="blur",f=cg;break;case"beforeblur":case"afterblur":f=cg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=TI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=x2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=q2;break;case mR:case gR:case yR:f=D2;break;case _R:f=H2;break;case"scroll":f=P2;break;case"wheel":f=Y2;break;case"copy":case"cut":case"paste":f=M2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=AI}var p=(e&4)!==0,w=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,_;g!==null;){_=g;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=Qu(g,y),E!=null&&p.push(rc(g,E,_)))),w)break;g=g.return}0<p.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Py&&(m=n.relatedTarget||n.fromElement)&&(Ys(m)||m[fi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Ys(m):null,m!==null&&(w=bo(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=TI,E="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=AI,E="onPointerLeave",y="onPointerEnter",g="pointer"),w=f==null?h:ga(f),_=m==null?h:ga(m),h=new p(E,g+"leave",f,n,c),h.target=w,h.relatedTarget=_,E=null,Ys(c)===u&&(p=new p(y,g+"enter",m,n,c),p.target=_,p.relatedTarget=w,E=p),w=E,f&&m)t:{for(p=f,y=m,g=0,_=p;_;_=Wo(_))g++;for(_=0,E=y;E;E=Wo(E))_++;for(;0<g-_;)p=Wo(p),g--;for(;0<_-g;)y=Wo(y),_--;for(;g--;){if(p===y||y!==null&&p===y.alternate)break t;p=Wo(p),y=Wo(y)}p=null}else p=null;f!==null&&VI(d,h,f,p,!1),m!==null&&w!==null&&VI(d,w,m,p,!0)}}e:{if(h=u?ga(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=nM;else if(PI(h))if(cR)S=oM;else{S=iM;var R=rM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sM);if(S&&(S=S(t,u))){uR(d,S,n,c);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Ty(h,"number",h.value)}switch(R=u?ga(u):window,t){case"focusin":(PI(R)||R.contentEditable==="true")&&(pa=R,My=u,xu=null);break;case"focusout":xu=My=pa=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,DI(d,n,c);break;case"selectionchange":if(uM)break;case"keydown":case"keyup":DI(d,n,c)}var A;if(jv)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else fa?aR(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(oR&&n.locale!=="ko"&&(fa||L!=="onCompositionStart"?L==="onCompositionEnd"&&fa&&(A=sR()):(zi=c,Fv="value"in zi?zi.value:zi.textContent,fa=!0)),R=lf(u,L),0<R.length&&(L=new SI(L,t,null,n,c),d.push({event:L,listeners:R}),A?L.data=A:(A=lR(n),A!==null&&(L.data=A)))),(A=X2?J2(t,n):Z2(t,n))&&(u=lf(u,"onBeforeInput"),0<u.length&&(c=new SI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}wR(d,e)})}function rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qu(t,n),s!=null&&r.unshift(rc(t,s,i)),s=Qu(t,e),s!=null&&r.push(rc(t,s,i))),t=t.return}return r}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qu(n,s),l!=null&&o.unshift(rc(n,l,a))):i||(l=Qu(n,s),l!=null&&o.push(rc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fM=/\r\n?/g,pM=/\u0000|\uFFFD/g;function LI(t){return(typeof t=="string"?t:""+t).replace(fM,`
`).replace(pM,"")}function Gd(t,e,n){if(e=LI(e),LI(t)!==e&&n)throw Error(b(425))}function uf(){}var Ly=null,Fy=null;function Uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,mM=typeof clearTimeout=="function"?clearTimeout:void 0,FI=typeof Promise=="function"?Promise:void 0,gM=typeof queueMicrotask=="function"?queueMicrotask:typeof FI<"u"?function(t){return FI.resolve(null).then(t).catch(yM)}:$y;function yM(t){setTimeout(function(){throw t})}function _g(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zu(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),vr="__reactFiber$"+El,ic="__reactProps$"+El,fi="__reactContainer$"+El,jy="__reactEvents$"+El,_M="__reactListeners$"+El,vM="__reactHandles$"+El;function Ys(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UI(t);t!==null;){if(n=t[vr])return n;t=UI(t)}return e}t=n,n=t.parentNode}return null}function Jc(t){return t=t[vr]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function yp(t){return t[ic]||null}var By=[],ya=-1;function As(t){return{current:t}}function be(t){0>ya||(t.current=By[ya],By[ya]=null,ya--)}function Se(t,e){ya++,By[ya]=t.current,t.current=e}var cs={},Yt=As(cs),wn=As(!1),ho=cs;function Ha(t,e){var n=t.type.contextTypes;if(!n)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function cf(){be(wn),be(Yt)}function $I(t,e,n){if(Yt.current!==cs)throw Error(b(168));Se(Yt,e),Se(wn,n)}function IR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,r2(t)||"Unknown",i));return We({},n,r)}function df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,ho=Yt.current,Se(Yt,t),Se(wn,wn.current),!0}function jI(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=IR(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,be(wn),be(Yt),Se(Yt,t)):be(wn),Se(wn,n)}var Jr=null,_p=!1,vg=!1;function TR(t){Jr===null?Jr=[t]:Jr.push(t)}function wM(t){_p=!0,TR(t)}function Rs(){if(!vg&&Jr!==null){vg=!0;var t=0,e=we;try{var n=Jr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,_p=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(t+1)),KA(Ov,Rs),i}finally{we=e,vg=!1}}return null}var _a=[],va=0,hf=null,ff=0,jn=[],Bn=0,fo=null,Zr=1,ei="";function $s(t,e){_a[va++]=ff,_a[va++]=hf,hf=t,ff=e}function SR(t,e,n){jn[Bn++]=Zr,jn[Bn++]=ei,jn[Bn++]=fo,fo=t;var r=Zr;t=ei;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zr=1<<32-or(e)+i|n<<i|r,ei=s+t}else Zr=1<<s|n<<i|r,ei=t}function zv(t){t.return!==null&&($s(t,1),SR(t,1,0))}function Wv(t){for(;t===hf;)hf=_a[--va],_a[va]=null,ff=_a[--va],_a[va]=null;for(;t===fo;)fo=jn[--Bn],jn[Bn]=null,ei=jn[--Bn],jn[Bn]=null,Zr=jn[--Bn],jn[Bn]=null}var bn=null,Cn=null,Fe=!1,rr=null;function AR(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,Cn=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Zr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,Cn=null,!0):!1;default:return!1}}function zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wy(t){if(Fe){var e=Cn;if(e){var n=e;if(!BI(t,e)){if(zy(t))throw Error(b(418));e=es(n.nextSibling);var r=bn;e&&BI(t,e)?AR(r,n):(t.flags=t.flags&-4097|2,Fe=!1,bn=t)}}else{if(zy(t))throw Error(b(418));t.flags=t.flags&-4097|2,Fe=!1,bn=t}}}function zI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Hd(t){if(t!==bn)return!1;if(!Fe)return zI(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uy(t.type,t.memoizedProps)),e&&(e=Cn)){if(zy(t))throw RR(),Error(b(418));for(;e;)AR(t,e),e=es(e.nextSibling)}if(zI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=bn?es(t.stateNode.nextSibling):null;return!0}function RR(){for(var t=Cn;t;)t=es(t.nextSibling)}function Ka(){Cn=bn=null,Fe=!1}function qv(t){rr===null?rr=[t]:rr.push(t)}var EM=Ei.ReactCurrentBatchConfig;function tr(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pf=As(null),mf=null,wa=null,Gv=null;function Hv(){Gv=wa=mf=null}function Kv(t){var e=pf.current;be(pf),t._currentValue=e}function qy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){mf=t,Gv=wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(Gv!==t)if(t={context:t,memoizedValue:e,next:null},wa===null){if(mf===null)throw Error(b(308));wa=t,mf.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var Qs=null;function Yv(t){Qs===null?Qs=[t]:Qs.push(t)}function kR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function Qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pi(t,n)}return i=r.interleaved,i===null?(e.next=e,Yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,pi(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}function WI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gf(t,e,n,r){var i=t.updateQueue;Fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(h=e,f=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=We({},d,h);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=d}}function qI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var CR=new kA.Component().refs;function Gy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vp={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=rs(t),s=oi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(ar(e,t,i,r),wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=rs(t),s=oi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(ar(e,t,i,r),wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=rs(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ts(t,i,r),e!==null&&(ar(e,t,r,n),wh(e,t,r))}};function GI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!tc(n,r)||!tc(i,s):!0}function xR(t,e,n){var r=!1,i=cs,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=En(e)?ho:Yt.current,r=e.contextTypes,s=(r=r!=null)?Ha(t,i):cs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function Hy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=CR,Qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=En(e)?ho:Yt.current,i.context=Ha(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vp.enqueueReplaceState(i,i.state,null),gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===CR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KI(t){var e=t._init;return e(t._payload)}function bR(t){function e(y,g){if(t){var _=y.deletions;_===null?(y.deletions=[g],y.flags|=16):_.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=is(y,g),y.index=0,y.sibling=null,y}function s(y,g,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<g?(y.flags|=2,g):_):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,_,E){return g===null||g.tag!==6?(g=Rg(_,y.mode,E),g.return=y,g):(g=i(g,_),g.return=y,g)}function l(y,g,_,E){var S=_.type;return S===ha?c(y,g,_.props.children,E,_.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&KI(S)===g.type)?(E=i(g,_.props),E.ref=Yl(y,g,_),E.return=y,E):(E=Rh(_.type,_.key,_.props,null,y.mode,E),E.ref=Yl(y,g,_),E.return=y,E)}function u(y,g,_,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=kg(_,y.mode,E),g.return=y,g):(g=i(g,_.children||[]),g.return=y,g)}function c(y,g,_,E,S){return g===null||g.tag!==7?(g=so(_,y.mode,E,S),g.return=y,g):(g=i(g,_),g.return=y,g)}function d(y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Rg(""+g,y.mode,_),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ld:return _=Rh(g.type,g.key,g.props,null,y.mode,_),_.ref=Yl(y,null,g),_.return=y,_;case da:return g=kg(g,y.mode,_),g.return=y,g;case Li:var E=g._init;return d(y,E(g._payload),_)}if(mu(g)||Wl(g))return g=so(g,y.mode,_,null),g.return=y,g;Kd(y,g)}return null}function h(y,g,_,E){var S=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(y,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:return _.key===S?l(y,g,_,E):null;case da:return _.key===S?u(y,g,_,E):null;case Li:return S=_._init,h(y,g,S(_._payload),E)}if(mu(_)||Wl(_))return S!==null?null:c(y,g,_,E,null);Kd(y,_)}return null}function f(y,g,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,a(g,y,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ld:return y=y.get(E.key===null?_:E.key)||null,l(g,y,E,S);case da:return y=y.get(E.key===null?_:E.key)||null,u(g,y,E,S);case Li:var R=E._init;return f(y,g,_,R(E._payload),S)}if(mu(E)||Wl(E))return y=y.get(_)||null,c(g,y,E,S,null);Kd(g,E)}return null}function m(y,g,_,E){for(var S=null,R=null,A=g,L=g=0,te=null;A!==null&&L<_.length;L++){A.index>L?(te=A,A=null):te=A.sibling;var j=h(y,A,_[L],E);if(j===null){A===null&&(A=te);break}t&&A&&j.alternate===null&&e(y,A),g=s(j,g,L),R===null?S=j:R.sibling=j,R=j,A=te}if(L===_.length)return n(y,A),Fe&&$s(y,L),S;if(A===null){for(;L<_.length;L++)A=d(y,_[L],E),A!==null&&(g=s(A,g,L),R===null?S=A:R.sibling=A,R=A);return Fe&&$s(y,L),S}for(A=r(y,A);L<_.length;L++)te=f(A,y,L,_[L],E),te!==null&&(t&&te.alternate!==null&&A.delete(te.key===null?L:te.key),g=s(te,g,L),R===null?S=te:R.sibling=te,R=te);return t&&A.forEach(function(Ge){return e(y,Ge)}),Fe&&$s(y,L),S}function p(y,g,_,E){var S=Wl(_);if(typeof S!="function")throw Error(b(150));if(_=S.call(_),_==null)throw Error(b(151));for(var R=S=null,A=g,L=g=0,te=null,j=_.next();A!==null&&!j.done;L++,j=_.next()){A.index>L?(te=A,A=null):te=A.sibling;var Ge=h(y,A,j.value,E);if(Ge===null){A===null&&(A=te);break}t&&A&&Ge.alternate===null&&e(y,A),g=s(Ge,g,L),R===null?S=Ge:R.sibling=Ge,R=Ge,A=te}if(j.done)return n(y,A),Fe&&$s(y,L),S;if(A===null){for(;!j.done;L++,j=_.next())j=d(y,j.value,E),j!==null&&(g=s(j,g,L),R===null?S=j:R.sibling=j,R=j);return Fe&&$s(y,L),S}for(A=r(y,A);!j.done;L++,j=_.next())j=f(A,y,L,j.value,E),j!==null&&(t&&j.alternate!==null&&A.delete(j.key===null?L:j.key),g=s(j,g,L),R===null?S=j:R.sibling=j,R=j);return t&&A.forEach(function(dn){return e(y,dn)}),Fe&&$s(y,L),S}function w(y,g,_,E){if(typeof _=="object"&&_!==null&&_.type===ha&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:e:{for(var S=_.key,R=g;R!==null;){if(R.key===S){if(S=_.type,S===ha){if(R.tag===7){n(y,R.sibling),g=i(R,_.props.children),g.return=y,y=g;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&KI(S)===R.type){n(y,R.sibling),g=i(R,_.props),g.ref=Yl(y,R,_),g.return=y,y=g;break e}n(y,R);break}else e(y,R);R=R.sibling}_.type===ha?(g=so(_.props.children,y.mode,E,_.key),g.return=y,y=g):(E=Rh(_.type,_.key,_.props,null,y.mode,E),E.ref=Yl(y,g,_),E.return=y,y=E)}return o(y);case da:e:{for(R=_.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(y,g.sibling),g=i(g,_.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=kg(_,y.mode,E),g.return=y,y=g}return o(y);case Li:return R=_._init,w(y,g,R(_._payload),E)}if(mu(_))return m(y,g,_,E);if(Wl(_))return p(y,g,_,E);Kd(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,_),g.return=y,y=g):(n(y,g),g=Rg(_,y.mode,E),g.return=y,y=g),o(y)):n(y,g)}return w}var Ya=bR(!0),NR=bR(!1),Zc={},Or=As(Zc),sc=As(Zc),oc=As(Zc);function Xs(t){if(t===Zc)throw Error(b(174));return t}function Xv(t,e){switch(Se(oc,e),Se(sc,t),Se(Or,Zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ay(e,t)}be(Or),Se(Or,e)}function Qa(){be(Or),be(sc),be(oc)}function DR(t){Xs(oc.current);var e=Xs(Or.current),n=Ay(e,t.type);e!==n&&(Se(sc,t),Se(Or,n))}function Jv(t){sc.current===t&&(be(Or),be(sc))}var je=As(0);function yf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wg=[];function Zv(){for(var t=0;t<wg.length;t++)wg[t]._workInProgressVersionPrimary=null;wg.length=0}var Eh=Ei.ReactCurrentDispatcher,Eg=Ei.ReactCurrentBatchConfig,po=0,Be=null,_t=null,Tt=null,_f=!1,bu=!1,ac=0,IM=0;function jt(){throw Error(b(321))}function e0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function t0(t,e,n,r,i,s){if(po=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eh.current=t===null||t.memoizedState===null?RM:kM,t=n(r,i),bu){s=0;do{if(bu=!1,ac=0,25<=s)throw Error(b(301));s+=1,Tt=_t=null,e.updateQueue=null,Eh.current=PM,t=n(r,i)}while(bu)}if(Eh.current=vf,e=_t!==null&&_t.next!==null,po=0,Tt=_t=Be=null,_f=!1,e)throw Error(b(300));return t}function n0(){var t=ac!==0;return ac=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Be.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Qn(){if(_t===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Tt===null?Be.memoizedState:Tt.next;if(e!==null)Tt=e,_t=t;else{if(t===null)throw Error(b(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Tt===null?Be.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function lc(t,e){return typeof e=="function"?e(t):e}function Ig(t){var e=Qn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((po&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Be.lanes|=c,mo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,mo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tg(t){var e=Qn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OR(){}function MR(t,e){var n=Be,r=Qn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,r0(FR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,uc(9,LR.bind(null,n,r,i,e),void 0,null),At===null)throw Error(b(349));po&30||VR(n,e,i)}return i}function VR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LR(t,e,n,r){e.value=n,e.getSnapshot=r,UR(e)&&$R(t)}function FR(t,e,n){return n(function(){UR(e)&&$R(t)})}function UR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function $R(t){var e=pi(t,1);e!==null&&ar(e,t,1,-1)}function YI(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:t},e.queue=t,t=t.dispatch=AM.bind(null,Be,t),[e.memoizedState,t]}function uc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jR(){return Qn().memoizedState}function Ih(t,e,n,r){var i=gr();Be.flags|=t,i.memoizedState=uc(1|e,n,void 0,r===void 0?null:r)}function wp(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&e0(r,o.deps)){i.memoizedState=uc(e,n,s,r);return}}Be.flags|=t,i.memoizedState=uc(1|e,n,s,r)}function QI(t,e){return Ih(8390656,8,t,e)}function r0(t,e){return wp(2048,8,t,e)}function BR(t,e){return wp(4,2,t,e)}function zR(t,e){return wp(4,4,t,e)}function WR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qR(t,e,n){return n=n!=null?n.concat([t]):null,wp(4,4,WR.bind(null,e,t),n)}function i0(){}function GR(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HR(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KR(t,e,n){return po&21?(lr(n,e)||(n=XA(),Be.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function TM(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Eg.transition;Eg.transition={};try{t(!1),e()}finally{we=n,Eg.transition=r}}function YR(){return Qn().memoizedState}function SM(t,e,n){var r=rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QR(t))XR(e,n);else if(n=kR(t,e,n,r),n!==null){var i=rn();ar(n,t,r,i),JR(n,e,r)}}function AM(t,e,n){var r=rs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QR(t))XR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,Yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kR(t,e,i,r),n!==null&&(i=rn(),ar(n,t,r,i),JR(n,e,r))}}function QR(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function XR(t,e){bu=_f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}var vf={readContext:Yn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},RM={readContext:Yn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:QI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4194308,4,WR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ih(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SM.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:YI,useDebugValue:i0,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=YI(!1),e=t[0];return t=TM.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=gr();if(Fe){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),At===null)throw Error(b(349));po&30||VR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,QI(FR.bind(null,r,s,t),[t]),r.flags|=2048,uc(9,LR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=At.identifierPrefix;if(Fe){var n=ei,r=Zr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kM={readContext:Yn,useCallback:GR,useContext:Yn,useEffect:r0,useImperativeHandle:qR,useInsertionEffect:BR,useLayoutEffect:zR,useMemo:HR,useReducer:Ig,useRef:jR,useState:function(){return Ig(lc)},useDebugValue:i0,useDeferredValue:function(t){var e=Qn();return KR(e,_t.memoizedState,t)},useTransition:function(){var t=Ig(lc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:MR,useId:YR,unstable_isNewReconciler:!1},PM={readContext:Yn,useCallback:GR,useContext:Yn,useEffect:r0,useImperativeHandle:qR,useInsertionEffect:BR,useLayoutEffect:zR,useMemo:HR,useReducer:Tg,useRef:jR,useState:function(){return Tg(lc)},useDebugValue:i0,useDeferredValue:function(t){var e=Qn();return _t===null?e.memoizedState=t:KR(e,_t.memoizedState,t)},useTransition:function(){var t=Tg(lc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:OR,useSyncExternalStore:MR,useId:YR,unstable_isNewReconciler:!1};function Xa(t,e){try{var n="",r=e;do n+=n2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ky(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CM=typeof WeakMap=="function"?WeakMap:Map;function ZR(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ef||(Ef=!0,i_=r),Ky(t,e)},n}function ek(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ky(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ky(t,e),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zM.bind(null,t,e,n),e.then(t,t))}function JI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ts(n,e,1))),n.lanes|=1),t)}var xM=Ei.ReactCurrentOwner,gn=!1;function Zt(t,e,n,r){e.child=t===null?NR(e,null,n,r):Ya(e,t.child,n,r)}function eT(t,e,n,r,i){n=n.render;var s=e.ref;return xa(e,i),r=t0(t,e,n,r,s,i),n=n0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Fe&&n&&zv(e),e.flags|=1,Zt(t,e,r,i),e.child)}function tT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tk(t,e,s,r,i)):(t=Rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:tc,n(o,r)&&t.ref===e.ref)return mi(t,e,i)}return e.flags|=1,t=is(s,r),t.ref=e.ref,t.return=e,e.child=t}function tk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tc(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,mi(t,e,i)}return Yy(t,e,n,r,i)}function nk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ia,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ia,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Ia,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Ia,An),An|=r;return Zt(t,e,i,n),e.child}function rk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yy(t,e,n,r,i){var s=En(n)?ho:Yt.current;return s=Ha(e,s),xa(e,i),n=t0(t,e,n,r,s,i),r=n0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Fe&&r&&zv(e),e.flags|=1,Zt(t,e,n,i),e.child)}function nT(t,e,n,r,i){if(En(n)){var s=!0;df(e)}else s=!1;if(xa(e,i),e.stateNode===null)Th(t,e),xR(e,n,r),Hy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=En(n)?ho:Yt.current,u=Ha(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&HI(e,o,r,u),Fi=!1;var h=e.memoizedState;o.state=h,gf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||wn.current||Fi?(typeof c=="function"&&(Gy(e,n,c,r),l=e.memoizedState),(a=Fi||GI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=En(n)?ho:Yt.current,l=Ha(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&HI(e,o,r,l),Fi=!1,h=e.memoizedState,o.state=h,gf(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||wn.current||Fi?(typeof f=="function"&&(Gy(e,n,f,r),m=e.memoizedState),(u=Fi||GI(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Qy(t,e,n,r,s,i)}function Qy(t,e,n,r,i,s){rk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jI(e,n,!1),mi(t,e,s);r=e.stateNode,xM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ya(e,t.child,null,s),e.child=Ya(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&jI(e,n,!0),e.child}function ik(t){var e=t.stateNode;e.pendingContext?$I(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$I(t,e.context,!1),Xv(t,e.containerInfo)}function rT(t,e,n,r,i){return Ka(),qv(i),e.flags|=256,Zt(t,e,n,r),e.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Jy(t){return{baseLanes:t,cachePool:null,transitions:null}}function sk(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(je,i&1),t===null)return Wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tp(o,r,0,null),t=so(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jy(n),e.memoizedState=Xy,t):s0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=is(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=is(a,s):(s=so(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xy,r}return s=t.child,t=s.sibling,r=is(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s0(t,e){return e=Tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yd(t,e,n,r){return r!==null&&qv(r),Ya(e,t.child,null,n),t=s0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sg(Error(b(422))),Yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tp({mode:"visible",children:r.children},i,0,null),s=so(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ya(e,t.child,null,o),e.child.memoizedState=Jy(o),e.memoizedState=Xy,s);if(!(e.mode&1))return Yd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=Sg(s,r,void 0),Yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(t,i),ar(r,t,i,-1))}return d0(),r=Sg(Error(b(421))),Yd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=es(i.nextSibling),bn=e,Fe=!0,rr=null,t!==null&&(jn[Bn++]=Zr,jn[Bn++]=ei,jn[Bn++]=fo,Zr=t.id,ei=t.overflow,fo=e),e=s0(e,r.children),e.flags|=4096,e)}function iT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qy(t.return,e,n)}function Ag(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ok(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iT(t,n,e);else if(t.tag===19)iT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ag(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ag(e,!0,n,null,s);break;case"together":Ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Th(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NM(t,e,n){switch(e.tag){case 3:ik(e),Ka();break;case 5:DR(e);break;case 1:En(e.type)&&df(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(pf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?sk(t,e,n):(Se(je,je.current&1),t=mi(t,e,n),t!==null?t.sibling:null);Se(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ok(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,nk(t,e,n)}return mi(t,e,n)}var ak,Zy,lk,uk;ak=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zy=function(){};lk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xs(Or.current);var s=null;switch(n){case"input":i=Ey(t,i),r=Ey(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=Sy(t,i),r=Sy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uf)}Ry(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ku.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};uk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DM(t,e,n){var r=e.pendingProps;switch(Wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return En(e.type)&&cf(),Bt(e),null;case 3:return r=e.stateNode,Qa(),be(wn),be(Yt),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(a_(rr),rr=null))),Zy(t,e),Bt(e),null;case 5:Jv(e);var i=Xs(oc.current);if(n=e.type,t!==null&&e.stateNode!=null)lk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Bt(e),null}if(t=Xs(Or.current),Hd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[ic]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<yu.length;i++)ke(yu[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":fI(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":mI(r,s),ke("invalid",r)}Ry(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",""+a]):Ku.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Fd(r),pI(r,s,!0);break;case"textarea":Fd(r),gI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[ic]=r,ak(t,e,!1,!1),e.stateNode=t;e:{switch(o=ky(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<yu.length;i++)ke(yu[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":fI(t,r),i=Ey(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),ke("invalid",t);break;case"textarea":mI(t,r),i=Sy(t,r),ke("invalid",t);break;default:i=r}Ry(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yu(t,l):typeof l=="number"&&Yu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ku.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&Cv(t,s,l,o))}switch(n){case"input":Fd(t),pI(t,r,!1);break;case"textarea":Fd(t),gI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ra(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)uk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Xs(oc.current),Xs(Or.current),Hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Bt(e),null;case 13:if(be(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Cn!==null&&e.mode&1&&!(e.flags&128))RR(),Ka(),e.flags|=98560,s=!1;else if(s=Hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[vr]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),s=!1}else rr!==null&&(a_(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?vt===0&&(vt=3):d0())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Qa(),Zy(t,e),t===null&&nc(e.stateNode.containerInfo),Bt(e),null;case 10:return Kv(e.type._context),Bt(e),null;case 17:return En(e.type)&&cf(),Bt(e),null;case 19:if(be(je),s=e.memoizedState,s===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ql(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yf(t),o!==null){for(e.flags|=128,Ql(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>Ja&&(e.flags|=128,r=!0,Ql(s,!1),e.lanes=4194304)}else{if(!r)if(t=yf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Bt(e),null}else 2*rt()-s.renderingStartTime>Ja&&n!==1073741824&&(e.flags|=128,r=!0,Ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=je.current,Se(je,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return c0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function OM(t,e){switch(Wv(e),e.tag){case 1:return En(e.type)&&cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),be(wn),be(Yt),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(be(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(je),null;case 4:return Qa(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var Qd=!1,qt=!1,MM=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function e_(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var sT=!1;function VM(t,e){if(Ly=of,t=fR(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fy={focusedElem:t,selectionRange:n},of=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,w=m.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:tr(e.type,p),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){Qe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return m=sT,sT=!1,m}function Nu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&e_(e,n,s)}i=i.next}while(i!==r)}}function Ep(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function t_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ck(t){var e=t.alternate;e!==null&&(t.alternate=null,ck(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[ic],delete e[jy],delete e[_M],delete e[vM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dk(t){return t.tag===5||t.tag===3||t.tag===4}function oT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uf));else if(r!==4&&(t=t.child,t!==null))for(n_(t,e,n),t=t.sibling;t!==null;)n_(t,e,n),t=t.sibling}function r_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(r_(t,e,n),t=t.sibling;t!==null;)r_(t,e,n),t=t.sibling}var bt=null,nr=!1;function bi(t,e,n){for(n=n.child;n!==null;)hk(t,e,n),n=n.sibling}function hk(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(fp,n)}catch{}switch(n.tag){case 5:qt||Ea(n,e);case 6:var r=bt,i=nr;bt=null,bi(t,e,n),bt=r,nr=i,bt!==null&&(nr?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(nr?(t=bt,n=n.stateNode,t.nodeType===8?_g(t.parentNode,n):t.nodeType===1&&_g(t,n),Zu(t)):_g(bt,n.stateNode));break;case 4:r=bt,i=nr,bt=n.stateNode.containerInfo,nr=!0,bi(t,e,n),bt=r,nr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&e_(n,e,o),i=i.next}while(i!==r)}bi(t,e,n);break;case 1:if(!qt&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}bi(t,e,n);break;case 21:bi(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,bi(t,e,n),qt=r):bi(t,e,n);break;default:bi(t,e,n)}}function aT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MM),e.forEach(function(r){var i=qM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,nr=!1;break e;case 3:bt=a.stateNode.containerInfo,nr=!0;break e;case 4:bt=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(bt===null)throw Error(b(160));hk(s,o,i),bt=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fk(e,t),e=e.sibling}function fk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),mr(t),r&4){try{Nu(3,t,t.return),Ep(3,t)}catch(p){Qe(t,t.return,p)}try{Nu(5,t,t.return)}catch(p){Qe(t,t.return,p)}}break;case 1:er(e,t),mr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(er(e,t),mr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{Yu(i,"")}catch(p){Qe(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OA(i,s),ky(a,o);var u=ky(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?UA(i,d):c==="dangerouslySetInnerHTML"?LA(i,d):c==="children"?Yu(i,d):Cv(i,c,d,u)}switch(a){case"input":Iy(i,s);break;case"textarea":MA(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ra(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ra(i,!!s.multiple,s.defaultValue,!0):Ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[ic]=s}catch(p){Qe(t,t.return,p)}}break;case 6:if(er(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Qe(t,t.return,p)}}break;case 3:if(er(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(p){Qe(t,t.return,p)}break;case 4:er(e,t),mr(t);break;case 13:er(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l0=rt())),r&4&&aT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||c,er(e,t),qt=u):er(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(d=z=c;z!==null;){switch(h=z,f=h.child,h.tag){case 0:case 11:case 14:case 15:Nu(4,h,h.return);break;case 1:Ea(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Qe(r,n,p)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){uT(d);continue}}f!==null?(f.return=h,z=f):uT(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FA("display",o))}catch(p){Qe(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Qe(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:er(e,t),mr(t),r&4&&aT(t);break;case 21:break;default:er(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dk(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yu(i,""),r.flags&=-33);var s=oT(t);r_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oT(t);n_(t,a,o);break;default:throw Error(b(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LM(t,e,n){z=t,pk(t)}function pk(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Qd;var u=qt;if(Qd=o,(qt=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?cT(i):l!==null?(l.return=o,z=l):cT(i);for(;s!==null;)z=s,pk(s),s=s.sibling;z=i,Qd=a,qt=u}lT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):lT(t)}}function lT(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ep(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}qt||e.flags&512&&t_(e)}catch(h){Qe(e,e.return,h)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function uT(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function cT(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ep(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{t_(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{t_(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var FM=Math.ceil,wf=Ei.ReactCurrentDispatcher,o0=Ei.ReactCurrentOwner,Hn=Ei.ReactCurrentBatchConfig,he=0,At=null,dt=null,Vt=0,An=0,Ia=As(0),vt=0,cc=null,mo=0,Ip=0,a0=0,Du=null,mn=null,l0=0,Ja=1/0,Qr=null,Ef=!1,i_=null,ns=null,Xd=!1,Wi=null,If=0,Ou=0,s_=null,Sh=-1,Ah=0;function rn(){return he&6?rt():Sh!==-1?Sh:Sh=rt()}function rs(t){return t.mode&1?he&2&&Vt!==0?Vt&-Vt:EM.transition!==null?(Ah===0&&(Ah=XA()),Ah):(t=we,t!==0||(t=window.event,t=t===void 0?16:iR(t.type)),t):1}function ar(t,e,n,r){if(50<Ou)throw Ou=0,s_=null,Error(b(185));Qc(t,n,r),(!(he&2)||t!==At)&&(t===At&&(!(he&2)&&(Ip|=n),vt===4&&$i(t,Vt)),In(t,r),n===1&&he===0&&!(e.mode&1)&&(Ja=rt()+500,_p&&Rs()))}function In(t,e){var n=t.callbackNode;E2(t,e);var r=sf(t,t===At?Vt:0);if(r===0)n!==null&&vI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vI(n),e===1)t.tag===0?wM(dT.bind(null,t)):TR(dT.bind(null,t)),gM(function(){!(he&6)&&Rs()}),n=null;else{switch(JA(r)){case 1:n=Ov;break;case 4:n=YA;break;case 16:n=rf;break;case 536870912:n=QA;break;default:n=rf}n=Ik(n,mk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mk(t,e){if(Sh=-1,Ah=0,he&6)throw Error(b(327));var n=t.callbackNode;if(ba()&&t.callbackNode!==n)return null;var r=sf(t,t===At?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tf(t,r);else{e=r;var i=he;he|=2;var s=yk();(At!==t||Vt!==e)&&(Qr=null,Ja=rt()+500,io(t,e));do try{jM();break}catch(a){gk(t,a)}while(1);Hv(),wf.current=s,he=i,dt!==null?e=0:(At=null,Vt=0,e=vt)}if(e!==0){if(e===2&&(i=Ny(t),i!==0&&(r=i,e=o_(t,i))),e===1)throw n=cc,io(t,0),$i(t,r),In(t,rt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!UM(i)&&(e=Tf(t,r),e===2&&(s=Ny(t),s!==0&&(r=s,e=o_(t,s))),e===1))throw n=cc,io(t,0),$i(t,r),In(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:js(t,mn,Qr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=l0+500-rt(),10<e)){if(sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(js.bind(null,t,mn,Qr),e);break}js(t,mn,Qr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=$y(js.bind(null,t,mn,Qr),r);break}js(t,mn,Qr);break;case 5:js(t,mn,Qr);break;default:throw Error(b(329))}}}return In(t,rt()),t.callbackNode===n?mk.bind(null,t):null}function o_(t,e){var n=Du;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Tf(t,e),t!==2&&(e=mn,mn=n,e!==null&&a_(e)),t}function a_(t){mn===null?mn=t:mn.push.apply(mn,t)}function UM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~a0,e&=~Ip,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function dT(t){if(he&6)throw Error(b(327));ba();var e=sf(t,0);if(!(e&1))return In(t,rt()),null;var n=Tf(t,e);if(t.tag!==0&&n===2){var r=Ny(t);r!==0&&(e=r,n=o_(t,r))}if(n===1)throw n=cc,io(t,0),$i(t,e),In(t,rt()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,mn,Qr),In(t,rt()),null}function u0(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ja=rt()+500,_p&&Rs())}}function go(t){Wi!==null&&Wi.tag===0&&!(he&6)&&ba();var e=he;he|=1;var n=Hn.transition,r=we;try{if(Hn.transition=null,we=1,t)return t()}finally{we=r,Hn.transition=n,he=e,!(he&6)&&Rs()}}function c0(){An=Ia.current,be(Ia)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mM(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cf();break;case 3:Qa(),be(wn),be(Yt),Zv();break;case 5:Jv(r);break;case 4:Qa();break;case 13:be(je);break;case 19:be(je);break;case 10:Kv(r.type._context);break;case 22:case 23:c0()}n=n.return}if(At=t,dt=t=is(t.current,null),Vt=An=e,vt=0,cc=null,a0=Ip=mo=0,mn=Du=null,Qs!==null){for(e=0;e<Qs.length;e++)if(n=Qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qs=null}return t}function gk(t,e){do{var n=dt;try{if(Hv(),Eh.current=vf,_f){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_f=!1}if(po=0,Tt=_t=Be=null,bu=!1,ac=0,o0.current=null,n===null||n.return===null){vt=1,cc=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=JI(o);if(f!==null){f.flags&=-257,ZI(f,o,a,s,e),f.mode&1&&XI(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){XI(s,u,e),d0();break e}l=Error(b(426))}}else if(Fe&&a.mode&1){var w=JI(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ZI(w,o,a,s,e),qv(Xa(l,a));break e}}s=l=Xa(l,a),vt!==4&&(vt=2),Du===null?Du=[s]:Du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=ZR(s,l,e);WI(s,y);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ns===null||!ns.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=ek(s,a,e);WI(s,E);break e}}s=s.return}while(s!==null)}vk(n)}catch(S){e=S,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function yk(){var t=wf.current;return wf.current=vf,t===null?vf:t}function d0(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||!(mo&268435455)&&!(Ip&268435455)||$i(At,Vt)}function Tf(t,e){var n=he;he|=2;var r=yk();(At!==t||Vt!==e)&&(Qr=null,io(t,e));do try{$M();break}catch(i){gk(t,i)}while(1);if(Hv(),he=n,wf.current=r,dt!==null)throw Error(b(261));return At=null,Vt=0,vt}function $M(){for(;dt!==null;)_k(dt)}function jM(){for(;dt!==null&&!h2();)_k(dt)}function _k(t){var e=Ek(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?vk(t):dt=e,o0.current=null}function vk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OM(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,dt=null;return}}else if(n=DM(n,e,An),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);vt===0&&(vt=5)}function js(t,e,n){var r=we,i=Hn.transition;try{Hn.transition=null,we=1,BM(t,e,n,r)}finally{Hn.transition=i,we=r}return null}function BM(t,e,n,r){do ba();while(Wi!==null);if(he&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(I2(t,s),t===At&&(dt=At=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,Ik(rf,function(){return ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=we;we=1;var a=he;he|=4,o0.current=null,VM(t,n),fk(n,t),lM(Fy),of=!!Ly,Fy=Ly=null,t.current=n,LM(n),f2(),he=a,we=o,Hn.transition=s}else t.current=n;if(Xd&&(Xd=!1,Wi=t,If=i),s=t.pendingLanes,s===0&&(ns=null),g2(n.stateNode),In(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=i_,i_=null,t;return If&1&&t.tag!==0&&ba(),s=t.pendingLanes,s&1?t===s_?Ou++:(Ou=0,s_=t):Ou=0,Rs(),null}function ba(){if(Wi!==null){var t=JA(If),e=Hn.transition,n=we;try{if(Hn.transition=null,we=16>t?16:t,Wi===null)var r=!1;else{if(t=Wi,Wi=null,If=0,he&6)throw Error(b(331));var i=he;for(he|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Nu(8,c,s)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var h=c.sibling,f=c.return;if(ck(c),c===u){z=null;break}if(h!==null){h.return=f,z=h;break}z=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,z=y;break e}z=s.return}}var g=t.current;for(z=g;z!==null;){o=z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,z=_;else e:for(o=g;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ep(9,a)}}catch(S){Qe(a,a.return,S)}if(a===o){z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,z=E;break e}z=a.return}}if(he=i,Rs(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(fp,t)}catch{}r=!0}return r}finally{we=n,Hn.transition=e}}return!1}function hT(t,e,n){e=Xa(n,e),e=ZR(t,e,1),t=ts(t,e,1),e=rn(),t!==null&&(Qc(t,1,e),In(t,e))}function Qe(t,e,n){if(t.tag===3)hT(t,t,n);else for(;e!==null;){if(e.tag===3){hT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){t=Xa(n,t),t=ek(e,t,1),e=ts(e,t,1),t=rn(),e!==null&&(Qc(e,1,t),In(e,t));break}}e=e.return}}function zM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Vt&n)===n&&(vt===4||vt===3&&(Vt&130023424)===Vt&&500>rt()-l0?io(t,0):a0|=n),In(t,e)}function wk(t,e){e===0&&(t.mode&1?(e=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):e=1);var n=rn();t=pi(t,e),t!==null&&(Qc(t,e,n),In(t,n))}function WM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wk(t,n)}function qM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),wk(t,n)}var Ek;Ek=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,NM(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Fe&&e.flags&1048576&&SR(e,ff,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Th(t,e),t=e.pendingProps;var i=Ha(e,Yt.current);xa(e,n),i=t0(null,e,r,t,i,n);var s=n0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,df(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(e),i.updater=vp,e.stateNode=i,i._reactInternals=e,Hy(e,r,t,n),e=Qy(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&zv(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Th(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HM(r),t=tr(r,t),i){case 0:e=Yy(null,e,r,t,n);break e;case 1:e=nT(null,e,r,t,n);break e;case 11:e=eT(null,e,r,t,n);break e;case 14:e=tT(null,e,r,tr(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Yy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),nT(t,e,r,i,n);case 3:e:{if(ik(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PR(t,e),gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xa(Error(b(423)),e),e=rT(t,e,r,n,i);break e}else if(r!==i){i=Xa(Error(b(424)),e),e=rT(t,e,r,n,i);break e}else for(Cn=es(e.stateNode.containerInfo.firstChild),bn=e,Fe=!0,rr=null,n=NR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){e=mi(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return DR(e),t===null&&Wy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uy(r,i)?o=null:s!==null&&Uy(r,s)&&(e.flags|=32),rk(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Wy(e),null;case 13:return sk(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),eT(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(pf,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!wn.current){e=mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=oi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=Yn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=tr(r,e.pendingProps),i=tr(r.type,i),tT(t,e,r,i,n);case 15:return tk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Th(t,e),e.tag=1,En(r)?(t=!0,df(e)):t=!1,xa(e,n),xR(e,r,i),Hy(e,r,i,n),Qy(null,e,r,!0,t,n);case 19:return ok(t,e,n);case 22:return nk(t,e,n)}throw Error(b(156,e.tag))};function Ik(t,e){return KA(t,e)}function GM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new GM(t,e,n,r)}function h0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HM(t){if(typeof t=="function")return h0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===Nv)return 14}return 2}function is(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ha:return so(n.children,i,s,e);case xv:o=8,i|=8;break;case yy:return t=qn(12,n,e,i|2),t.elementType=yy,t.lanes=s,t;case _y:return t=qn(13,n,e,i),t.elementType=_y,t.lanes=s,t;case vy:return t=qn(19,n,e,i),t.elementType=vy,t.lanes=s,t;case bA:return Tp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CA:o=10;break e;case xA:o=9;break e;case bv:o=11;break e;case Nv:o=14;break e;case Li:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function so(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Tp(t,e,n,r){return t=qn(22,t,r,e),t.elementType=bA,t.lanes=n,t.stateNode={isHidden:!1},t}function Rg(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function kg(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f0(t,e,n,r,i,s,o,a,l){return t=new KM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(s),t}function YM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tk(t){if(!t)return cs;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(En(n))return IR(t,n,e)}return e}function Sk(t,e,n,r,i,s,o,a,l){return t=f0(n,r,!0,t,i,s,o,a,l),t.context=Tk(null),n=t.current,r=rn(),i=rs(n),s=oi(r,i),s.callback=e??null,ts(n,s,i),t.current.lanes=i,Qc(t,i,r),In(t,r),t}function Sp(t,e,n,r){var i=e.current,s=rn(),o=rs(i);return n=Tk(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ts(i,e,o),t!==null&&(ar(t,i,o,s),wh(t,i,o)),o}function Sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p0(t,e){fT(t,e),(t=t.alternate)&&fT(t,e)}function QM(){return null}var Ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function m0(t){this._internalRoot=t}Ap.prototype.render=m0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Sp(t,e,null,null)};Ap.prototype.unmount=m0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){Sp(null,t,null,null)}),e[fi]=null}};function Ap(t){this._internalRoot=t}Ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=tR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&rR(t)}};function g0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function XM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sf(o);s.call(u)}}var o=Sk(e,r,t,0,null,!1,!1,"",pT);return t._reactRootContainer=o,t[fi]=o.current,nc(t.nodeType===8?t.parentNode:t),go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sf(l);a.call(u)}}var l=f0(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=l,t[fi]=l.current,nc(t.nodeType===8?t.parentNode:t),go(function(){Sp(e,l,n,r)}),l}function kp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sf(o);a.call(l)}}Sp(e,o,t,i)}else o=XM(n,e,t,i,r);return Sf(o)}ZA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gu(e.pendingLanes);n!==0&&(Mv(e,n|1),In(e,rt()),!(he&6)&&(Ja=rt()+500,Rs()))}break;case 13:go(function(){var r=pi(t,1);if(r!==null){var i=rn();ar(r,t,1,i)}}),p0(t,1)}};Vv=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=rn();ar(e,t,134217728,n)}p0(t,134217728)}};eR=function(t){if(t.tag===13){var e=rs(t),n=pi(t,e);if(n!==null){var r=rn();ar(n,t,e,r)}p0(t,e)}};tR=function(){return we};nR=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Cy=function(t,e,n){switch(e){case"input":if(Iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yp(r);if(!i)throw Error(b(90));DA(r),Iy(r,i)}}}break;case"textarea":MA(t,n);break;case"select":e=n.value,e!=null&&Ra(t,!!n.multiple,e,!1)}};BA=u0;zA=go;var JM={usingClientEntryPoint:!1,Events:[Jc,ga,yp,$A,jA,u0]},Xl={findFiberByHostInstance:Ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZM={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GA(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||QM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{fp=Jd.inject(ZM),Dr=Jd}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JM;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(e))throw Error(b(200));return YM(t,e,null,n)};Vn.createRoot=function(t,e){if(!g0(t))throw Error(b(299));var n=!1,r="",i=Ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f0(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,nc(t.nodeType===8?t.parentNode:t),new m0(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=GA(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return go(t)};Vn.hydrate=function(t,e,n){if(!Rp(e))throw Error(b(200));return kp(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!g0(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ak;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sk(e,null,t,1,n??null,i,!1,s,o),t[fi]=e.current,nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ap(e)};Vn.render=function(t,e,n){if(!Rp(e))throw Error(b(200));return kp(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Rp(t))throw Error(b(40));return t._reactRootContainer?(go(function(){kp(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Vn.unstable_batchedUpdates=u0;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rp(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return kp(t,e,n,!1,r)};Vn.version="18.2.0-next-9e3b772b8-20220608";function Rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rk)}catch(t){console.error(t)}}Rk(),SA.exports=Vn;var eV=SA.exports,mT=eV;my.createRoot=mT.createRoot,my.hydrateRoot=mT.hydrateRoot;const tV={basket:[],user:null},nV=(t,e)=>{switch(e.type){case"ADD_TO_BASKET":return{...t,basket:[...t.basket,e.item]};case"EMPTY_BASKET":return{...t,basket:[]};case"REMOVE_FROM_BASKET":const n=t.basket.findIndex(i=>i.id===e.id);let r=[...t.basket];return n>=0?r.splice(n,1):console.warn(`Cant remove product (id: ${e.id}) as its not in basket!`),{...t,basket:r};case"SET_USER":return{...t,user:e.user};default:return t}},kk=P.createContext(),rV=({reducer:t,initialState:e,children:n})=>v.jsx(kk.Provider,{value:P.useReducer(t,e),children:n}),ks=()=>P.useContext(kk);var y0={},Pk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Pk);var Pp=Pk.exports,Pg={};function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},re.apply(this,arguments)}function ra(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Ck(t){if(!ra(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Ck(t[n])}),e}function ai(t,e,n={clone:!0}){const r=n.clone?re({},t):t;return ra(t)&&ra(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ra(e[i])&&i in t&&ra(t[i])?r[i]=ai(t[i],e[i],n):n.clone?r[i]=ra(e[i])?Ck(e[i]):e[i]:r[i]=e[i])}),r}var xk={exports:{}},iV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sV=iV,oV=sV;function bk(){}function Nk(){}Nk.resetWarningCache=bk;var aV=function(){function t(r,i,s,o,a,l){if(l!==oV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Nk,resetWarningCache:bk};return n.PropTypes=n,n};xk.exports=aV();var Dk=xk.exports;const Pe=Iv(Dk);function Za(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Mr(t){if(typeof t!="string")throw new Error(Za(7));return t.charAt(0).toUpperCase()+t.slice(1)}function lV(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function uV(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function cV(t,e){return()=>null}function dV(t,e){return P.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Ok(t){return t&&t.ownerDocument||document}function hV(t){return Ok(t).defaultView||window}function fV(t,e){return()=>null}function Mk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const pV=typeof window<"u"?P.useLayoutEffect:P.useEffect,Vk=pV;let gT=0;function mV(t){const[e,n]=P.useState(t),r=t||e;return P.useEffect(()=>{e==null&&(gT+=1,n(`mui-${gT}`))},[e]),r}const yT=Zh["useId".toString()];function gV(t){if(yT!==void 0){const e=yT();return t??e}return mV(t)}function yV(t,e,n,r,i){return null}function _V({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=P.useRef(t!==void 0),[s,o]=P.useState(e),a=i?t:s,l=P.useCallback(u=>{i||o(u)},[]);return[a,l]}function vV(t){const e=P.useRef(t);return Vk(()=>{e.current=t}),P.useCallback((...n)=>(0,e.current)(...n),[])}function wV(...t){return P.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Mk(n,e)})},t)}let Cp=!0,l_=!1,_T;const EV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function IV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&EV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function TV(t){t.metaKey||t.altKey||t.ctrlKey||(Cp=!0)}function Cg(){Cp=!1}function SV(){this.visibilityState==="hidden"&&l_&&(Cp=!0)}function AV(t){t.addEventListener("keydown",TV,!0),t.addEventListener("mousedown",Cg,!0),t.addEventListener("pointerdown",Cg,!0),t.addEventListener("touchstart",Cg,!0),t.addEventListener("visibilitychange",SV,!0)}function RV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Cp||IV(e)}function kV(){const t=P.useCallback(i=>{i!=null&&AV(i.ownerDocument)},[]),e=P.useRef(!1);function n(){return e.current?(l_=!0,window.clearTimeout(_T),_T=window.setTimeout(()=>{l_=!1},100),e.current=!1,!0):!1}function r(i){return RV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Lk(t,e){const n=re({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=re({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=re({},s),Object.keys(i).forEach(o=>{n[r][o]=Lk(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function PV(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const vT=t=>t,CV=()=>{let t=vT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=vT}}},xV=CV(),Fk=xV,bV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Uk(t,e,n="Mui"){const r=bV[e];return r?`${n}-${r}`:`${Fk.generate(t)}-${e}`}function NV(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Uk(t,i,n)}),r}function Ii(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $k(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=$k(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function DV(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=$k(t))&&(r&&(r+=" "),r+=e);return r}function jk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var OV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,MV=jk(function(t){return OV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function VV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function LV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var FV=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=VV(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Wt="-ms-",Af="-moz-",ge="-webkit-",Bk="comm",_0="rule",v0="decl",UV="@import",zk="@keyframes",$V="@layer",jV=Math.abs,xp=String.fromCharCode,BV=Object.assign;function zV(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function Wk(t){return t.trim()}function WV(t,e){return(t=e.exec(t))?t[0]:t}function ye(t,e,n){return t.replace(e,n)}function u_(t,e){return t.indexOf(e)}function Dt(t,e){return t.charCodeAt(e)|0}function dc(t,e,n){return t.slice(e,n)}function yr(t){return t.length}function w0(t){return t.length}function Zd(t,e){return e.push(t),t}function qV(t,e){return t.map(e).join("")}var bp=1,el=1,qk=0,Tn=0,ct=0,Il="";function Np(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:bp,column:el,length:o,return:""}}function Jl(t,e){return BV(Np("",null,null,"",null,null,0),t,{length:-t.length},e)}function GV(){return ct}function HV(){return ct=Tn>0?Dt(Il,--Tn):0,el--,ct===10&&(el=1,bp--),ct}function Nn(){return ct=Tn<qk?Dt(Il,Tn++):0,el++,ct===10&&(el=1,bp++),ct}function Vr(){return Dt(Il,Tn)}function kh(){return Tn}function ed(t,e){return dc(Il,t,e)}function hc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gk(t){return bp=el=1,qk=yr(Il=t),Tn=0,[]}function Hk(t){return Il="",t}function Ph(t){return Wk(ed(Tn-1,c_(t===91?t+2:t===40?t+1:t)))}function KV(t){for(;(ct=Vr())&&ct<33;)Nn();return hc(t)>2||hc(ct)>3?"":" "}function YV(t,e){for(;--e&&Nn()&&!(ct<48||ct>102||ct>57&&ct<65||ct>70&&ct<97););return ed(t,kh()+(e<6&&Vr()==32&&Nn()==32))}function c_(t){for(;Nn();)switch(ct){case t:return Tn;case 34:case 39:t!==34&&t!==39&&c_(ct);break;case 40:t===41&&c_(t);break;case 92:Nn();break}return Tn}function QV(t,e){for(;Nn()&&t+ct!==47+10;)if(t+ct===42+42&&Vr()===47)break;return"/*"+ed(e,Tn-1)+"*"+xp(t===47?t:Nn())}function XV(t){for(;!hc(Vr());)Nn();return ed(t,Tn)}function JV(t){return Hk(Ch("",null,null,null,[""],t=Gk(t),0,[0],t))}function Ch(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,m=0,p=1,w=1,y=1,g=0,_="",E=i,S=s,R=r,A=_;w;)switch(m=g,g=Nn()){case 40:if(m!=108&&Dt(A,d-1)==58){u_(A+=ye(Ph(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:A+=Ph(g);break;case 9:case 10:case 13:case 32:A+=KV(m);break;case 92:A+=YV(kh()-1,7);continue;case 47:switch(Vr()){case 42:case 47:Zd(ZV(QV(Nn(),kh()),e,n),l);break;default:A+="/"}break;case 123*p:a[u++]=yr(A)*y;case 125*p:case 59:case 0:switch(g){case 0:case 125:w=0;case 59+c:y==-1&&(A=ye(A,/\f/g,"")),f>0&&yr(A)-d&&Zd(f>32?ET(A+";",r,n,d-1):ET(ye(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(Zd(R=wT(A,e,n,u,c,i,a,_,E=[],S=[],d),s),g===123)if(c===0)Ch(A,e,R,R,E,s,d,a,S);else switch(h===99&&Dt(A,3)===110?100:h){case 100:case 108:case 109:case 115:Ch(t,R,R,r&&Zd(wT(t,R,R,0,0,i,a,_,i,E=[],d),S),i,S,d,a,r?E:S);break;default:Ch(A,R,R,R,[""],S,0,a,S)}}u=c=f=0,p=y=1,_=A="",d=o;break;case 58:d=1+yr(A),f=m;default:if(p<1){if(g==123)--p;else if(g==125&&p++==0&&HV()==125)continue}switch(A+=xp(g),g*p){case 38:y=c>0?1:(A+="\f",-1);break;case 44:a[u++]=(yr(A)-1)*y,y=1;break;case 64:Vr()===45&&(A+=Ph(Nn())),h=Vr(),c=d=yr(_=A+=XV(kh())),g++;break;case 45:m===45&&yr(A)==2&&(p=0)}}return s}function wT(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=w0(h),m=0,p=0,w=0;m<r;++m)for(var y=0,g=dc(t,d+1,d=jV(p=o[m])),_=t;y<f;++y)(_=Wk(p>0?h[y]+" "+g:ye(g,/&\f/g,h[y])))&&(l[w++]=_);return Np(t,e,n,i===0?_0:a,l,u,c)}function ZV(t,e,n){return Np(t,e,n,Bk,xp(GV()),dc(t,2,-2),0)}function ET(t,e,n,r){return Np(t,e,n,v0,dc(t,0,r),dc(t,r+1,-1),r)}function Na(t,e){for(var n="",r=w0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function eL(t,e,n,r){switch(t.type){case $V:if(t.children.length)break;case UV:case v0:return t.return=t.return||t.value;case Bk:return"";case zk:return t.return=t.value+"{"+Na(t.children,r)+"}";case _0:t.value=t.props.join(",")}return yr(n=Na(t.children,r))?t.return=t.value+"{"+n+"}":""}function tL(t){var e=w0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function nL(t){return function(e){e.root||(e=e.return)&&t(e)}}var rL=function(e,n,r){for(var i=0,s=0;i=s,s=Vr(),i===38&&s===12&&(n[r]=1),!hc(s);)Nn();return ed(e,Tn)},iL=function(e,n){var r=-1,i=44;do switch(hc(i)){case 0:i===38&&Vr()===12&&(n[r]=1),e[r]+=rL(Tn-1,n,r);break;case 2:e[r]+=Ph(i);break;case 4:if(i===44){e[++r]=Vr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xp(i)}while(i=Nn());return e},sL=function(e,n){return Hk(iL(Gk(e),n))},IT=new WeakMap,oL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!IT.get(r))&&!i){IT.set(e,!0);for(var s=[],o=sL(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},aL=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kk(t,e){switch(zV(t,e)){case 5103:return ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ge+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ge+t+Af+t+Wt+t+t;case 6828:case 4268:return ge+t+Wt+t+t;case 6165:return ge+t+Wt+"flex-"+t+t;case 5187:return ge+t+ye(t,/(\w+).+(:[^]+)/,ge+"box-$1$2"+Wt+"flex-$1$2")+t;case 5443:return ge+t+Wt+"flex-item-"+ye(t,/flex-|-self/,"")+t;case 4675:return ge+t+Wt+"flex-line-pack"+ye(t,/align-content|flex-|-self/,"")+t;case 5548:return ge+t+Wt+ye(t,"shrink","negative")+t;case 5292:return ge+t+Wt+ye(t,"basis","preferred-size")+t;case 6060:return ge+"box-"+ye(t,"-grow","")+ge+t+Wt+ye(t,"grow","positive")+t;case 4554:return ge+ye(t,/([^-])(transform)/g,"$1"+ge+"$2")+t;case 6187:return ye(ye(ye(t,/(zoom-|grab)/,ge+"$1"),/(image-set)/,ge+"$1"),t,"")+t;case 5495:case 3959:return ye(t,/(image-set\([^]*)/,ge+"$1$`$1");case 4968:return ye(ye(t,/(.+:)(flex-)?(.*)/,ge+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ge+t+t;case 4095:case 3583:case 4068:case 2532:return ye(t,/(.+)-inline(.+)/,ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yr(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return ye(t,/(.+:)(.+)-([^]+)/,"$1"+ge+"$2-$3$1"+Af+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~u_(t,"stretch")?Kk(ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dt(t,e+1)!==115)break;case 6444:switch(Dt(t,yr(t)-3-(~u_(t,"!important")&&10))){case 107:return ye(t,":",":"+ge)+t;case 101:return ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ge+(Dt(t,14)===45?"inline-":"")+"box$3$1"+ge+"$2$3$1"+Wt+"$2box$3")+t}break;case 5936:switch(Dt(t,e+11)){case 114:return ge+t+Wt+ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ge+t+Wt+ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ge+t+Wt+ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ge+t+Wt+t+t}return t}var lL=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case v0:e.return=Kk(e.value,e.length);break;case zk:return Na([Jl(e,{value:ye(e.value,"@","@"+ge)})],i);case _0:if(e.length)return qV(e.props,function(s){switch(WV(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Na([Jl(e,{props:[ye(s,/:(read-\w+)/,":"+Af+"$1")]})],i);case"::placeholder":return Na([Jl(e,{props:[ye(s,/:(plac\w+)/,":"+ge+"input-$1")]}),Jl(e,{props:[ye(s,/:(plac\w+)/,":"+Af+"$1")]}),Jl(e,{props:[ye(s,/:(plac\w+)/,Wt+"input-$1")]})],i)}return""})}},uL=[lL],cL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var w=p.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||uL,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var w=p.getAttribute("data-emotion").split(" "),y=1;y<w.length;y++)s[w[y]]=!0;a.push(p)});var l,u=[oL,aL];{var c,d=[eL,nL(function(p){c.insert(p)})],h=tL(u.concat(i,d)),f=function(w){return Na(JV(w),h)};l=function(w,y,g,_){c=g,f(w?w+"{"+y.styles+"}":y.styles),_&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new FV({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},dL=!0;function hL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Yk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||dL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fL=function(e,n,r){Yk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function pL(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gL=/[A-Z]|^ms/g,yL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qk=function(e){return e.charCodeAt(1)===45},TT=function(e){return e!=null&&typeof e!="boolean"},xg=jk(function(t){return Qk(t)?t:t.replace(gL,"-$&").toLowerCase()}),ST=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yL,function(r,i,s){return _r={name:i,styles:s,next:_r},i})}return mL[e]!==1&&!Qk(e)&&typeof n=="number"&&n!==0?n+"px":n};function fc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _r={name:n.name,styles:n.styles,next:_r},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_r={name:r.name,styles:r.styles,next:_r},r=r.next;var i=n.styles+";";return i}return _L(t,e,n)}case"function":{if(t!==void 0){var s=_r,o=n(t);return _r=s,fc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function _L(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":TT(o)&&(r+=xg(s)+":"+ST(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)TT(o[a])&&(r+=xg(s)+":"+ST(s,o[a])+";");else{var l=fc(t,e,o);switch(s){case"animation":case"animationName":{r+=xg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var AT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_r,vL=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";_r=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=fc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=fc(r,n,e[a]),i&&(s+=o[a]);AT.lastIndex=0;for(var l="",u;(u=AT.exec(s))!==null;)l+="-"+u[1];var c=pL(s)+l;return{name:c,styles:s,next:_r}},wL=function(e){return e()},EL=Zh["useInsertionEffect"]?Zh["useInsertionEffect"]:!1,IL=EL||wL,Xk=P.createContext(typeof HTMLElement<"u"?cL({key:"css"}):null);Xk.Provider;var TL=function(e){return P.forwardRef(function(n,r){var i=P.useContext(Xk);return e(n,i,r)})},Jk=P.createContext({}),SL=MV,AL=function(e){return e!=="theme"},RT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SL:AL},kT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},RL=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Yk(n,r,i),IL(function(){return fL(n,r,i)}),null},kL=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=kT(e,n,r),l=a||RT(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var m=TL(function(p,w,y){var g=u&&p.as||i,_="",E=[],S=p;if(p.theme==null){S={};for(var R in p)S[R]=p[R];S.theme=P.useContext(Jk)}typeof p.className=="string"?_=hL(w.registered,E,p.className):p.className!=null&&(_=p.className+" ");var A=vL(d.concat(E),w.registered,S);_+=w.key+"-"+A.name,o!==void 0&&(_+=" "+o);var L=u&&a===void 0?RT(g):l,te={};for(var j in p)u&&j==="as"||L(j)&&(te[j]=p[j]);return te.className=_,te.ref=y,P.createElement(P.Fragment,null,P.createElement(RL,{cache:w,serialized:A,isStringTag:typeof g=="string"}),P.createElement(g,te))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(p,w){return t(p,re({},n,w,{shouldForwardProp:kT(m,w,!0)})).apply(void 0,d)},m}},PL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],d_=kL.bind();PL.forEach(function(t){d_[t]=d_(t)});/**
 * @mui/styled-engine v5.14.10
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function CL(t,e){return d_(t,e)}const xL=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},bL=["values","unit","step"],NL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>re({},n,{[r.key]:r.val}),{})};function DL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ii(t,bL),s=NL(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const m=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return re({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const OL={borderRadius:4},ML=OL;function Mu(t,e){return e?ai(t,e,{clone:!1}):t}const E0={xs:0,sm:600,md:900,lg:1200,xl:1536},PT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${E0[t]}px)`};function gi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||PT;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||PT;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||E0).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function VL(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function LL(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Dp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Rf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Dp(t,n)||r,e&&(i=e(i,r,t)),i}function _e(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Dp(l,r)||{};return gi(o,a,d=>{let h=Rf(u,i,d);return d===h&&typeof d=="string"&&(h=Rf(u,i,`${e}${d==="default"?"":Mr(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function FL(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const UL={m:"margin",p:"padding"},$L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jL=FL(t=>{if(t.length>2)if(CT[t])t=CT[t];else return[t];const[e,n]=t.split(""),r=UL[e],i=$L[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),I0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],T0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...I0,...T0];function td(t,e,n,r){var i;const s=(i=Dp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Zk(t){return td(t,"spacing",8)}function nd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function BL(t,e){return n=>t.reduce((r,i)=>(r[i]=nd(e,n),r),{})}function zL(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=jL(n),s=BL(i,r),o=t[n];return gi(t,o,s)}function eP(t,e){const n=Zk(t.theme);return Object.keys(t).map(r=>zL(t,e,r,n)).reduce(Mu,{})}function Ke(t){return eP(t,I0)}Ke.propTypes={};Ke.filterProps=I0;function Ye(t){return eP(t,T0)}Ye.propTypes={};Ye.filterProps=T0;function WL(t=8){if(t.mui)return t;const e=Zk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Op(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Mu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function wr(t){return typeof t!="number"?t:`${t}px solid`}const qL=_e({prop:"border",themeKey:"borders",transform:wr}),GL=_e({prop:"borderTop",themeKey:"borders",transform:wr}),HL=_e({prop:"borderRight",themeKey:"borders",transform:wr}),KL=_e({prop:"borderBottom",themeKey:"borders",transform:wr}),YL=_e({prop:"borderLeft",themeKey:"borders",transform:wr}),QL=_e({prop:"borderColor",themeKey:"palette"}),XL=_e({prop:"borderTopColor",themeKey:"palette"}),JL=_e({prop:"borderRightColor",themeKey:"palette"}),ZL=_e({prop:"borderBottomColor",themeKey:"palette"}),eF=_e({prop:"borderLeftColor",themeKey:"palette"}),Mp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=td(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:nd(e,r)});return gi(t,t.borderRadius,n)}return null};Mp.propTypes={};Mp.filterProps=["borderRadius"];Op(qL,GL,HL,KL,YL,QL,XL,JL,ZL,eF,Mp);const Vp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=td(t.theme,"spacing",8),n=r=>({gap:nd(e,r)});return gi(t,t.gap,n)}return null};Vp.propTypes={};Vp.filterProps=["gap"];const Lp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=td(t.theme,"spacing",8),n=r=>({columnGap:nd(e,r)});return gi(t,t.columnGap,n)}return null};Lp.propTypes={};Lp.filterProps=["columnGap"];const Fp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=td(t.theme,"spacing",8),n=r=>({rowGap:nd(e,r)});return gi(t,t.rowGap,n)}return null};Fp.propTypes={};Fp.filterProps=["rowGap"];const tF=_e({prop:"gridColumn"}),nF=_e({prop:"gridRow"}),rF=_e({prop:"gridAutoFlow"}),iF=_e({prop:"gridAutoColumns"}),sF=_e({prop:"gridAutoRows"}),oF=_e({prop:"gridTemplateColumns"}),aF=_e({prop:"gridTemplateRows"}),lF=_e({prop:"gridTemplateAreas"}),uF=_e({prop:"gridArea"});Op(Vp,Lp,Fp,tF,nF,rF,iF,sF,oF,aF,lF,uF);function Da(t,e){return e==="grey"?e:t}const cF=_e({prop:"color",themeKey:"palette",transform:Da}),dF=_e({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Da}),hF=_e({prop:"backgroundColor",themeKey:"palette",transform:Da});Op(cF,dF,hF);function Pn(t){return t<=1&&t!==0?`${t*100}%`:t}const fF=_e({prop:"width",transform:Pn}),S0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||E0[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Pn(n)}};return gi(t,t.maxWidth,e)}return null};S0.filterProps=["maxWidth"];const pF=_e({prop:"minWidth",transform:Pn}),mF=_e({prop:"height",transform:Pn}),gF=_e({prop:"maxHeight",transform:Pn}),yF=_e({prop:"minHeight",transform:Pn});_e({prop:"size",cssProperty:"width",transform:Pn});_e({prop:"size",cssProperty:"height",transform:Pn});const _F=_e({prop:"boxSizing"});Op(fF,S0,pF,mF,gF,yF,_F);const vF={border:{themeKey:"borders",transform:wr},borderTop:{themeKey:"borders",transform:wr},borderRight:{themeKey:"borders",transform:wr},borderBottom:{themeKey:"borders",transform:wr},borderLeft:{themeKey:"borders",transform:wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mp},color:{themeKey:"palette",transform:Da},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Da},backgroundColor:{themeKey:"palette",transform:Da},p:{style:Ye},pt:{style:Ye},pr:{style:Ye},pb:{style:Ye},pl:{style:Ye},px:{style:Ye},py:{style:Ye},padding:{style:Ye},paddingTop:{style:Ye},paddingRight:{style:Ye},paddingBottom:{style:Ye},paddingLeft:{style:Ye},paddingX:{style:Ye},paddingY:{style:Ye},paddingInline:{style:Ye},paddingInlineStart:{style:Ye},paddingInlineEnd:{style:Ye},paddingBlock:{style:Ye},paddingBlockStart:{style:Ye},paddingBlockEnd:{style:Ye},m:{style:Ke},mt:{style:Ke},mr:{style:Ke},mb:{style:Ke},ml:{style:Ke},mx:{style:Ke},my:{style:Ke},margin:{style:Ke},marginTop:{style:Ke},marginRight:{style:Ke},marginBottom:{style:Ke},marginLeft:{style:Ke},marginX:{style:Ke},marginY:{style:Ke},marginInline:{style:Ke},marginInlineStart:{style:Ke},marginInlineEnd:{style:Ke},marginBlock:{style:Ke},marginBlockStart:{style:Ke},marginBlockEnd:{style:Ke},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vp},rowGap:{style:Fp},columnGap:{style:Lp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pn},maxWidth:{style:S0},minWidth:{transform:Pn},height:{transform:Pn},maxHeight:{transform:Pn},minHeight:{transform:Pn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},A0=vF;function wF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function EF(t,e){return typeof t=="function"?t(e):t}function IF(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Dp(i,u)||{};return d?d(o):gi(o,r,m=>{let p=Rf(h,c,m);return m===p&&typeof m=="string"&&(p=Rf(h,c,`${n}${m==="default"?"":Mr(m)}`,m)),l===!1?p:{[l]:p}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:A0;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=VL(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const m=EF(u[f],s);if(m!=null)if(typeof m=="object")if(o[f])h=Mu(h,t(f,m,s,o));else{const p=gi({theme:s},m,w=>({[f]:w}));wF(p,m)?h[f]=e({sx:m,theme:s}):h=Mu(h,p)}else h=Mu(h,t(f,m,s,o))}),LL(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const tP=IF();tP.filterProps=["sx"];const R0=tP,TF=["breakpoints","palette","spacing","shape"];function k0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ii(t,TF),a=DL(n),l=WL(i);let u=ai({breakpoints:a,direction:"ltr",components:{},palette:re({mode:"light"},r),spacing:l,shape:re({},ML,s)},o);return u=e.reduce((c,d)=>ai(c,d),u),u.unstable_sxConfig=re({},A0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return R0({sx:d,theme:this})},u}function SF(t){return Object.keys(t).length===0}function AF(t=null){const e=P.useContext(Jk);return!e||SF(e)?t:e}const RF=k0();function kF(t=RF){return AF(t)}const PF=["variant"];function xT(t){return t.length===0}function nP(t){const{variant:e}=t,n=Ii(t,PF);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=xT(r)?t[i]:Mr(t[i]):r+=`${xT(r)?i:Mr(i)}${Mr(t[i].toString())}`}),r}const CF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function xF(t){return Object.keys(t).length===0}function bF(t){return typeof t=="string"&&t.charCodeAt(0)>96}const NF=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,DF=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=nP(i.props);r[s]=i.style}),r},OF=(t,e,n,r)=>{var i;const{ownerState:s={}}=t,o=[],a=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return a&&a.forEach(l=>{let u=!0;Object.keys(l.props).forEach(c=>{s[c]!==l.props[c]&&t[c]!==l.props[c]&&(u=!1)}),u&&o.push(e[nP(l.props)])}),o};function xh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const MF=k0(),VF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Zl({defaultTheme:t,theme:e,themeId:n}){return xF(e)?t:e[n]||e}function LF(t){return t?(e,n)=>n[t]:null}function FF(t={}){const{themeId:e,defaultTheme:n=MF,rootShouldForwardProp:r=xh,slotShouldForwardProp:i=xh}=t,s=o=>R0(re({},o,{theme:Zl(re({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{xL(o,E=>E.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=LF(VF(u))}=a,f=Ii(a,CF),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,p=d||!1;let w,y=xh;u==="Root"||u==="root"?y=r:u?y=i:bF(o)&&(y=void 0);const g=CL(o,re({shouldForwardProp:y,label:w},f)),_=(E,...S)=>{const R=S?S.map(j=>typeof j=="function"&&j.__emotion_real!==j?Ge=>j(re({},Ge,{theme:Zl(re({},Ge,{defaultTheme:n,themeId:e}))})):j):[];let A=E;l&&h&&R.push(j=>{const Ge=Zl(re({},j,{defaultTheme:n,themeId:e})),dn=NF(l,Ge);if(dn){const Sn={};return Object.entries(dn).forEach(([Hr,Vs])=>{Sn[Hr]=typeof Vs=="function"?Vs(re({},j,{theme:Ge})):Vs}),h(j,Sn)}return null}),l&&!m&&R.push(j=>{const Ge=Zl(re({},j,{defaultTheme:n,themeId:e}));return OF(j,DF(l,Ge),Ge,l)}),p||R.push(s);const L=R.length-S.length;if(Array.isArray(E)&&L>0){const j=new Array(L).fill("");A=[...E,...j],A.raw=[...E.raw,...j]}else typeof E=="function"&&E.__emotion_real!==E&&(A=j=>E(re({},j,{theme:Zl(re({},j,{defaultTheme:n,themeId:e}))})));const te=g(A,...R);return o.muiName&&(te.muiName=o.muiName),te};return g.withConfig&&(_.withConfig=g.withConfig),_}}function UF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Lk(e.components[n].defaultProps,r)}function $F({props:t,name:e,defaultTheme:n,themeId:r}){let i=kF(n);return r&&(i=i[r]||i),UF({theme:i,name:e,props:t})}function rP(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function jF(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function tl(t){if(t.type)return t;if(t.charAt(0)==="#")return tl(jF(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Za(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Za(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function P0(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function BF(t){t=tl(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),P0({type:a,values:l})}function bT(t){t=tl(t);let e=t.type==="hsl"||t.type==="hsla"?tl(BF(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function zF(t,e){const n=bT(t),r=bT(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function WF(t,e){if(t=tl(t),e=rP(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return P0(t)}function qF(t,e){if(t=tl(t),e=rP(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return P0(t)}function GF(t,e){return re({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const HF={black:"#000",white:"#fff"},pc=HF,KF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},YF=KF,QF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qo=QF,XF={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Go=XF,JF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},eu=JF,ZF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ho=ZF,e4={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ko=e4,t4={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Yo=t4,n4=["mode","contrastThreshold","tonalOffset"],NT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pc.white,default:pc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bg={text:{primary:pc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DT(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qF(t.main,i):e==="dark"&&(t.dark=WF(t.main,s)))}function r4(t="light"){return t==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[700],light:Ho[400],dark:Ho[800]}}function i4(t="light"){return t==="dark"?{main:qo[200],light:qo[50],dark:qo[400]}:{main:qo[500],light:qo[300],dark:qo[700]}}function s4(t="light"){return t==="dark"?{main:Go[500],light:Go[300],dark:Go[700]}:{main:Go[700],light:Go[400],dark:Go[800]}}function o4(t="light"){return t==="dark"?{main:Ko[400],light:Ko[300],dark:Ko[700]}:{main:Ko[700],light:Ko[500],dark:Ko[900]}}function a4(t="light"){return t==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[800],light:Yo[500],dark:Yo[900]}}function l4(t="light"){return t==="dark"?{main:eu[400],light:eu[300],dark:eu[700]}:{main:"#ed6c02",light:eu[500],dark:eu[900]}}function u4(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ii(t,n4),s=t.primary||r4(e),o=t.secondary||i4(e),a=t.error||s4(e),l=t.info||o4(e),u=t.success||a4(e),c=t.warning||l4(e);function d(p){return zF(p,bg.text.primary)>=n?bg.text.primary:NT.text.primary}const h=({color:p,name:w,mainShade:y=500,lightShade:g=300,darkShade:_=700})=>{if(p=re({},p),!p.main&&p[y]&&(p.main=p[y]),!p.hasOwnProperty("main"))throw new Error(Za(11,w?` (${w})`:"",y));if(typeof p.main!="string")throw new Error(Za(12,w?` (${w})`:"",JSON.stringify(p.main)));return DT(p,"light",g,r),DT(p,"dark",_,r),p.contrastText||(p.contrastText=d(p.main)),p},f={dark:bg,light:NT};return ai(re({common:re({},pc),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:YF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const c4=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function d4(t){return Math.round(t*1e5)/1e5}const OT={textTransform:"uppercase"},MT='"Roboto", "Helvetica", "Arial", sans-serif';function h4(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=MT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=Ii(n,c4),f=i/14,m=d||(y=>`${y/u*f}rem`),p=(y,g,_,E,S)=>re({fontFamily:r,fontWeight:y,fontSize:m(g),lineHeight:_},r===MT?{letterSpacing:`${d4(E/g)}em`}:{},S,c),w={h1:p(s,96,1.167,-1.5),h2:p(s,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,OT),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,OT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ai(re({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const f4=.2,p4=.14,m4=.12;function Me(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${f4})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${p4})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${m4})`].join(",")}const g4=["none",Me(0,2,1,-1,0,1,1,0,0,1,3,0),Me(0,3,1,-2,0,2,2,0,0,1,5,0),Me(0,3,3,-2,0,3,4,0,0,1,8,0),Me(0,2,4,-1,0,4,5,0,0,1,10,0),Me(0,3,5,-1,0,5,8,0,0,1,14,0),Me(0,3,5,-1,0,6,10,0,0,1,18,0),Me(0,4,5,-2,0,7,10,1,0,2,16,1),Me(0,5,5,-3,0,8,10,1,0,3,14,2),Me(0,5,6,-3,0,9,12,1,0,3,16,2),Me(0,6,6,-3,0,10,14,1,0,4,18,3),Me(0,6,7,-4,0,11,15,1,0,4,20,3),Me(0,7,8,-4,0,12,17,2,0,5,22,4),Me(0,7,8,-4,0,13,19,2,0,5,24,4),Me(0,7,9,-4,0,14,21,2,0,5,26,4),Me(0,8,9,-5,0,15,22,2,0,6,28,5),Me(0,8,10,-5,0,16,24,2,0,6,30,5),Me(0,8,11,-5,0,17,26,2,0,6,32,5),Me(0,9,11,-5,0,18,28,2,0,7,34,6),Me(0,9,12,-6,0,19,29,2,0,7,36,6),Me(0,10,13,-6,0,20,31,3,0,8,38,7),Me(0,10,13,-6,0,21,33,3,0,8,40,7),Me(0,10,14,-6,0,22,35,3,0,8,42,7),Me(0,11,14,-7,0,23,36,3,0,9,44,8),Me(0,11,15,-7,0,24,38,3,0,9,46,8)],y4=g4,_4=["duration","easing","delay"],v4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},w4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function VT(t){return`${Math.round(t)}ms`}function E4(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function I4(t){const e=re({},v4,t.easing),n=re({},w4,t.duration);return re({getAutoHeightDuration:E4,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Ii(s,_4),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:VT(o)} ${a} ${typeof l=="string"?l:VT(l)}`).join(",")}},t,{easing:e,duration:n})}const T4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},S4=T4,A4=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function R4(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ii(t,A4);if(t.vars)throw new Error(Za(18));const a=u4(r),l=k0(t);let u=ai(l,{mixins:GF(l.breakpoints,n),palette:a,shadows:y4.slice(),typography:h4(a,s),transitions:I4(i),zIndex:re({},S4)});return u=ai(u,o),u=e.reduce((c,d)=>ai(c,d),u),u.unstable_sxConfig=re({},A0,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return R0({sx:d,theme:this})},u}const k4=R4(),iP=k4,sP="$$material";function P4({props:t,name:e}){return $F({props:t,name:e,defaultTheme:iP,themeId:sP})}const C4=t=>xh(t)&&t!=="classes",x4=FF({themeId:sP,defaultTheme:iP,rootShouldForwardProp:C4}),b4=x4;function N4(t){return Uk("MuiSvgIcon",t)}NV("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const D4=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],O4=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Mr(e)}`,`fontSize${Mr(n)}`]};return PV(i,N4,r)},M4=b4("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Mr(n.color)}`],e[`fontSize${Mr(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),oP=P.forwardRef(function(e,n){const r=P4({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=Ii(r,D4),m=P.isValidElement(i)&&i.type==="svg",p=re({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),w={};c||(w.viewBox=h);const y=O4(p);return v.jsxs(M4,re({as:a,className:DV(y.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},w,f,m&&i.props,{ownerState:p,children:[m?i.props.children:i,d?v.jsx("title",{children:d}):null]}))});oP.muiName="SvgIcon";const LT=oP;function V4(t,e){function n(r,i){return v.jsx(LT,re({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=LT.muiName,P.memo(P.forwardRef(n))}const L4={configure:t=>{Fk.configure(t)}},F4=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Mr,createChainedFunction:lV,createSvgIcon:V4,debounce:uV,deprecatedPropType:cV,isMuiElement:dV,ownerDocument:Ok,ownerWindow:hV,requirePropFactory:fV,setRef:Mk,unstable_ClassNameGenerator:L4,unstable_useEnhancedEffect:Vk,unstable_useId:gV,unsupportedProp:yV,useControlled:_V,useEventCallback:vV,useForkRef:wV,useIsFocusVisible:kV},Symbol.toStringTag,{value:"Module"})),U4=CO(F4);var FT;function Up(){return FT||(FT=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=U4}(Pg)),Pg}var $4=Pp;Object.defineProperty(y0,"__esModule",{value:!0});var aP=y0.default=void 0,j4=$4(Up()),B4=v,z4=(0,j4.default)((0,B4.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");aP=y0.default=z4;var C0={},W4=Pp;Object.defineProperty(C0,"__esModule",{value:!0});var lP=C0.default=void 0,q4=W4(Up()),G4=v,H4=(0,q4.default)((0,G4.jsx)("path",{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}),"ProductionQuantityLimits");lP=C0.default=H4;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const UT="popstate";function K4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return h_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kf(i)}return Q4(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y4(){return Math.random().toString(36).substr(2,8)}function $T(t,e){return{usr:t.state,key:t.key,idx:e}}function h_(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tl(e):e,{state:n,key:e&&e.key||r||Y4()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(mc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=qi.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:a,location:p.location,delta:y})}function h(w,y){a=qi.Push;let g=h_(p.location,w,y);n&&n(g,w),u=c()+1;let _=$T(g,u),E=p.createHref(g);try{o.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function f(w,y){a=qi.Replace;let g=h_(p.location,w,y);n&&n(g,w),u=c();let _=$T(g,u),E=p.createHref(g);o.replaceState(_,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function m(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:kf(w);return ht(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let p={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(UT,d),l=w,()=>{i.removeEventListener(UT,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(w){return o.go(w)}};return p}var jT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jT||(jT={}));function X4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Tl(e):e,i=b0(r.pathname||"/",n);if(i==null)return null;let s=uP(t);J4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=aU(s[a],cU(i));return o}function uP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ss([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cP(s.path))i(s,o,l)}),e}function cP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Z4=/^:\w+$/,eU=3,tU=2,nU=1,rU=10,iU=-2,BT=t=>t==="*";function sU(t,e){let n=t.split("/"),r=n.length;return n.some(BT)&&(r+=iU),e&&(r+=tU),n.filter(i=>!BT(i)).reduce((i,s)=>i+(Z4.test(s)?eU:s===""?nU:rU),r)}function oU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=lU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ss([i,c.pathname]),pathnameBase:pU(ss([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ss([i,c.pathnameBase]))}return s}function lU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=dU(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function uU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cU(t){try{return decodeURI(t)}catch(e){return x0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dU(t,e){try{return decodeURIComponent(t)}catch(n){return x0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function b0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tl(t):t;return{pathname:n?n.startsWith("/")?n:fU(n,e):e,search:mU(r),hash:gU(i)}}function fU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ng(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Tl(t):(i=mc({},t),ht(!i.pathname||!i.pathname.includes("?"),Ng("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Ng("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Ng("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=hU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),pU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fP=["post","put","patch","delete"];new Set(fP);const _U=["get",...fP];new Set(_U);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}const N0=P.createContext(null),vU=P.createContext(null),Sl=P.createContext(null),$p=P.createContext(null),No=P.createContext({outlet:null,matches:[],isDataRoute:!1}),pP=P.createContext(null);function wU(t,e){let{relative:n}=e===void 0?{}:e;rd()||ht(!1);let{basename:r,navigator:i}=P.useContext(Sl),{hash:s,pathname:o,search:a}=gP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function rd(){return P.useContext($p)!=null}function jp(){return rd()||ht(!1),P.useContext($p).location}function mP(t){P.useContext(Sl).static||P.useLayoutEffect(t)}function Bp(){let{isDataRoute:t}=P.useContext(No);return t?DU():EU()}function EU(){rd()||ht(!1);let t=P.useContext(N0),{basename:e,navigator:n}=P.useContext(Sl),{matches:r}=P.useContext(No),{pathname:i}=jp(),s=JSON.stringify(dP(r).map(l=>l.pathnameBase)),o=P.useRef(!1);return mP(()=>{o.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=hP(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ss([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function gP(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(No),{pathname:i}=jp(),s=JSON.stringify(dP(r).map(o=>o.pathnameBase));return P.useMemo(()=>hP(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function IU(t,e){return TU(t,e)}function TU(t,e,n){rd()||ht(!1);let{navigator:r}=P.useContext(Sl),{matches:i}=P.useContext(No),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=jp(),u;if(e){var c;let p=typeof e=="string"?Tl(e):e;a==="/"||(c=p.pathname)!=null&&c.startsWith(a)||ht(!1),u=p}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=X4(t,{pathname:h}),m=PU(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:ss([a,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:ss([a,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n);return e&&m?P.createElement($p.Provider,{value:{location:Pf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qi.Pop}},m):m}function SU(){let t=NU(),e=yU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}const AU=P.createElement(SU,null);class RU extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(No.Provider,{value:this.props.routeContext},P.createElement(pP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kU(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(N0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(No.Provider,{value:e},r)}function PU(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ht(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||AU);let h=e.concat(s.slice(0,u+1)),f=()=>{let m;return c?m=d:l.route.Component?m=P.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,P.createElement(kU,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?P.createElement(RU,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var yP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yP||{}),Cf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cf||{});function CU(t){let e=P.useContext(N0);return e||ht(!1),e}function xU(t){let e=P.useContext(vU);return e||ht(!1),e}function bU(t){let e=P.useContext(No);return e||ht(!1),e}function _P(t){let e=bU(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function NU(){var t;let e=P.useContext(pP),n=xU(Cf.UseRouteError),r=_P(Cf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function DU(){let{router:t}=CU(yP.UseNavigateStable),e=_P(Cf.UseNavigateStable),n=P.useRef(!1);return mP(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pf({fromRouteId:e},s)))},[t,e])}function ia(t){ht(!1)}function OU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:s,static:o=!1}=t;rd()&&ht(!1);let a=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Tl(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,m=P.useMemo(()=>{let p=b0(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return m==null?null:P.createElement(Sl.Provider,{value:l},P.createElement($p.Provider,{children:n,value:m}))}function MU(t){let{children:e,location:n}=t;return IU(f_(e),n)}new Promise(()=>{});function f_(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,f_(r.props.children,s));return}r.type!==ia&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=f_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function VU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FU(t,e){return t.button===0&&(!e||e==="_self")&&!LU(t)}const UU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],$U="startTransition",zT=Zh[$U];function jU(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=K4({window:i,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=P.useCallback(d=>{u&&zT?zT(()=>l(d)):l(d)},[l,u]);return P.useLayoutEffect(()=>o.listen(c),[o,c]),P.createElement(OU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const BU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gi=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=VU(e,UU),{basename:h}=P.useContext(Sl),f,m=!1;if(typeof u=="string"&&zU.test(u)&&(f=u,BU))try{let g=new URL(window.location.href),_=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=b0(_.pathname,h);_.origin===g.origin&&E!=null?u=E+_.search+_.hash:m=!0}catch{}let p=wU(u,{relative:i}),w=WU(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(g){r&&r(g),g.defaultPrevented||w(g)}return P.createElement("a",p_({},d,{href:f||p,onClick:m||s?r:y,ref:n,target:l}))});var WT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(WT||(WT={}));var qT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qT||(qT={}));function WU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Bp(),l=jp(),u=gP(t,{relative:o});return P.useCallback(c=>{if(FU(c,n)){c.preventDefault();let d=r!==void 0?r:kf(l)===kf(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new GU;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HU=function(t){const e=vP(t);return wP.encodeByteArray(e,!0)},xf=function(t){return HU(t).replace(/\./g,"")},EP=function(t){try{return wP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KU(n)||(t[n]=bf(t[n],e[n]));return t}function KU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=()=>YU().__FIREBASE_DEFAULTS__,XU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EP(t[1]);return e&&JSON.parse(e)},D0=()=>{try{return QU()||XU()||JU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IP=()=>{var t;return(t=D0())===null||t===void 0?void 0:t.config},ZU=t=>{var e;return(e=D0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[xf(JSON.stringify(n)),xf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function O0(){var t;const e=(t=D0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r$(){return typeof self=="object"&&self.self===self}function TP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i$(){return!O0()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gc(){try{return typeof indexedDB=="object"}catch{return!1}}function s$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="FirebaseError";class sn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o$,Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?a$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sn(i,a,r)}}function a$(t,e){return t.replace(l$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function m_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(HT(s)&&HT(o)){if(!m_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AP(t,e){const n=new c$(t,e);return n.subscribe.bind(n)}class c${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p$(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f$(t){return t===Bs?void 0:t}function p$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=[];var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const RP={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},g$=ne.INFO,y$={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},_$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=g$,this._logHandler=_$,this._userLogHandler=null,V0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}function v$(t){V0.forEach(e=>{e.setLogLevel(t)})}function w$(t,e){for(const n of V0){let r=null;e&&e.level&&(r=RP[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ne[s].toLowerCase(),message:a,args:o,type:i.name})}}}const E$=(t,e)=>e.some(n=>t instanceof n);let KT,YT;function I$(){return KT||(KT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T$(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kP=new WeakMap,g_=new WeakMap,PP=new WeakMap,Og=new WeakMap,L0=new WeakMap;function S$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(os(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kP.set(n,t)}).catch(()=>{}),L0.set(e,t),e}function A$(t){if(g_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});g_.set(t,e)}let y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return g_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R$(t){y_=t(y_)}function k$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return PP.set(r,e.sort?e.sort():[e]),os(r)}:T$().includes(t)?function(...e){return t.apply(Mg(this),e),os(kP.get(this))}:function(...e){return os(t.apply(Mg(this),e))}}function P$(t){return typeof t=="function"?k$(t):(t instanceof IDBTransaction&&A$(t),E$(t,I$())?new Proxy(t,y_):t)}function os(t){if(t instanceof IDBRequest)return S$(t);if(Og.has(t))return Og.get(t);const e=P$(t);return e!==t&&(Og.set(t,e),L0.set(e,t)),e}const Mg=t=>L0.get(t);function C$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=os(o);return r&&o.addEventListener("upgradeneeded",l=>{r(os(o.result),l.oldVersion,l.newVersion,os(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const x$=["get","getKey","getAll","getAllKeys","count"],b$=["put","add","delete","clear"],Vg=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vg.set(e,s),s}R$(t=>({...t,get:(e,n,r)=>QT(e,n)||t.get(e,n,r),has:(e,n)=>!!QT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const __="@firebase/app",XT="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new zp("@firebase/app"),O$="@firebase/app-compat",M$="@firebase/analytics-compat",V$="@firebase/analytics",L$="@firebase/app-check-compat",F$="@firebase/app-check",U$="@firebase/auth",$$="@firebase/auth-compat",j$="@firebase/database",B$="@firebase/database-compat",z$="@firebase/functions",W$="@firebase/functions-compat",q$="@firebase/installations",G$="@firebase/installations-compat",H$="@firebase/messaging",K$="@firebase/messaging-compat",Y$="@firebase/performance",Q$="@firebase/performance-compat",X$="@firebase/remote-config",J$="@firebase/remote-config-compat",Z$="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/firestore-compat",rj="firebase",ij="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]",sj={[__]:"fire-core",[O$]:"fire-core-compat",[V$]:"fire-analytics",[M$]:"fire-analytics-compat",[F$]:"fire-app-check",[L$]:"fire-app-check-compat",[U$]:"fire-auth",[$$]:"fire-auth-compat",[j$]:"fire-rtdb",[B$]:"fire-rtdb-compat",[z$]:"fire-fn",[W$]:"fire-fn-compat",[q$]:"fire-iid",[G$]:"fire-iid-compat",[H$]:"fire-fcm",[K$]:"fire-fcm-compat",[Y$]:"fire-perf",[Q$]:"fire-perf-compat",[X$]:"fire-rc",[J$]:"fire-rc-compat",[Z$]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[nj]:"fire-fst-compat","fire-js":"fire-js",[rj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Map,yc=new Map;function Nf(t,e){try{t.container.addComponent(e)}catch(n){yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function CP(t,e){t.container.addOrOverwriteComponent(e)}function fs(t){const e=t.name;if(yc.has(e))return yo.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,t);for(const n of hs.values())Nf(n,t);return!0}function xP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oj(t,e,n=ds){xP(t,e).clearInstance(n)}function aj(){yc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},li=new Do("app","Firebase",lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uj=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=ij;function F0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ds,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=IP()),!n)throw li.create("no-options");const s=hs.get(i);if(s){if(m_(n,s.options)&&m_(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new m$(i);for(const l of yc.values())o.addComponent(l);const a=new uj(n,r,o);return hs.set(i,a),a}function cj(t=ds){const e=hs.get(t);if(!e&&t===ds&&IP())return F0();if(!e)throw li.create("no-app",{appName:t});return e}function dj(){return Array.from(hs.values())}async function bP(t){const e=t.name;hs.has(e)&&(hs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Lr(t,e,n){var r;let i=(r=sj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yo.warn(a.join(" "));return}fs(new Ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function NP(t,e){if(t!==null&&typeof t!="function")throw li.create("invalid-log-argument");w$(t,e)}function DP(t){v$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="firebase-heartbeat-database",fj=1,_c="firebase-heartbeat-store";let Lg=null;function OP(){return Lg||(Lg=C$(hj,fj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_c)}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),Lg}async function pj(t){try{return await(await OP()).transaction(_c).objectStore(_c).get(MP(t))}catch(e){if(e instanceof sn)yo.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yo.warn(n.message)}}}async function JT(t,e){try{const r=(await OP()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,MP(t)),await r.done}catch(n){if(n instanceof sn)yo.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yo.warn(r.message)}}}function MP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=1024,gj=30*24*60*60*1e3;class yj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=gj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZT(),{heartbeatsToSend:n,unsentEntries:r}=_j(this._heartbeatsCache.heartbeats),i=xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ZT(){return new Date().toISOString().substring(0,10)}function _j(t,e=mj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gc()?s$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await pj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eS(t){return xf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){fs(new Ur("platform-logger",e=>new N$(e),"PRIVATE")),fs(new Ur("heartbeat",e=>new yj(e),"PRIVATE")),Lr(__,XT,t),Lr(__,XT,"esm2017"),Lr("fire-js","")}wj("");const Ej=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:sn,SDK_VERSION:Ps,_DEFAULT_ENTRY_NAME:ds,_addComponent:Nf,_addOrOverwriteComponent:CP,_apps:hs,_clearComponents:aj,_components:yc,_getProvider:xP,_registerComponent:fs,_removeServiceInstance:oj,deleteApp:bP,getApp:cj,getApps:dj,initializeApp:F0,onLog:NP,registerVersion:Lr,setLogLevel:DP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n){this._delegate=e,this.firebase=n,Nf(e,new Ur("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),bP(this._delegate)))}_getService(e,n=ds){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ds){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Nf(this._delegate,e)}_addOrOverwriteComponent(e){CP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tS=new Do("app-compat","Firebase",Tj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Lr,setLogLevel:DP,onLog:NP,apps:null,SDK_VERSION:Ps,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Ej}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ds,!GT(e,u))throw tS.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=F0(u,c);if(GT(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(fs(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw tS.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&bf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){const t=Sj(Ij);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:VP,extendNamespace:e,createSubscribe:AP,ErrorFactory:Do,deepExtend:bf});function e(n){bf(t,n)}return t}const Aj=VP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new zp("@firebase/app-compat"),Rj="@firebase/app-compat",kj="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){Lr(Rj,kj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(r$()&&self.firebase!==void 0){nS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&nS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Oo=Aj;Pj();var Cj="firebase",xj="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo.registerVersion(Cj,xj,"app-compat");function U0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const tu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Qo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){return t!==void 0&&t.getResponse!==void 0}function iS(t){return t!==void 0&&t.enterprise!==void 0}class bj{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function LP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dj=Nj,Oj=LP,FP=new Do("auth","Firebase",LP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new zp("@firebase/auth");function Mj(t,...e){Df.logLevel<=ne.WARN&&Df.warn(`Auth (${Ps}): ${t}`,...e)}function bh(t,...e){Df.logLevel<=ne.ERROR&&Df.error(`Auth (${Ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,...e){throw $0(t,...e)}function Lt(t,...e){return $0(t,...e)}function UP(t,e,n){const r=Object.assign(Object.assign({},Oj()),{[e]:n});return new Do("auth","Firebase",r).create(e,{appName:t.name})}function Rl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$t(t,"argument-error"),UP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FP.create(t,...e)}function D(t,e,...n){if(!t)throw $0(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bh(e),new Error(e)}function ur(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j0(){return sS()==="http:"||sS()==="https:"}function sS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j0()||TP()||"connection"in navigator)?navigator.onLine:!0}function Lj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=n$()||M0()}get(){return Vj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new id(3e4,6e4);function ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pt(t,e,n,r,i={}){return jP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Al(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$P.fetch()(BP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fj),e);try{const i=new $j(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UP(t,c,u);$t(t,c)}}catch(i){if(i instanceof sn)throw i;$t(t,"network-request-failed",{message:String(i)})}}async function Ti(t,e,n,r,i={}){const s=await pt(t,e,n,r,i);return"mfaPendingCredential"in s&&$t(t,"multi-factor-auth-required",{_serverResponse:s}),s}function BP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?B0(t.config,i):`${t.config.apiScheme}://${i}`}class $j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),Uj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t){return(await pt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Bj(t,e){return pt(t,"GET","/v2/recaptchaConfig",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){return pt(t,"POST","/v1/accounts:delete",e)}async function Wj(t,e){return pt(t,"POST","/v1/accounts:update",e)}async function qj(t,e){return pt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gj(t,e=!1){const n=H(t),r=await n.getIdToken(e),i=Wp(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vu(Fg(i.auth_time)),issuedAtTime:Vu(Fg(i.iat)),expirationTime:Vu(Fg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function Wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=EP(n);return i?JSON.parse(i):(bh("Failed to decode base64 JWT payload"),null)}catch(i){return bh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hj(t){const e=Wp(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sn&&Kj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yi(t,qj(n,{idToken:r}));D(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Jj(s.providerUserInfo):[],a=Xj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Qj(t){const e=H(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jj(t){return t.map(e=>{var{providerId:n}=e,r=U0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){const n=await jP(t,{},async()=>{const r=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$P.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return D(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Zj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ec;return r&&(D(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(D(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=U0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yi(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gj(this,e)}reload(){return Qj(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await yi(this,zj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:R,stsTokenManager:A}=n;D(_&&A,e,"internal-error");const L=Ec.fromJSON(this.name,A);D(typeof _=="string",e,"internal-error"),Ni(d,e.name),Ni(h,e.name),D(typeof E=="boolean",e,"internal-error"),D(typeof S=="boolean",e,"internal-error"),Ni(f,e.name),Ni(m,e.name),Ni(p,e.name),Ni(w,e.name),Ni(y,e.name),Ni(g,e.name);const te=new oo({uid:_,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:g});return R&&Array.isArray(R)&&(te.providerData=R.map(j=>Object.assign({},j))),w&&(te._redirectEventId=w),te}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ec;i.updateFromServerResponse(n);const s=new oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function xn(t){ur(t instanceof Function,"Expected a class definition");let e=oS.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WP.type="NONE";const nl=WP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ao(this.userKey,i.apiKey,s),this.fullPersistenceKey=ao("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oa(xn(nl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xn(nl);const o=ao(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=oo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Oa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Oa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KP(e))return"Blackberry";if(YP(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||GP(e))&&!e.includes("edge/"))return"Chrome";if(sd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qP(t=qe()){return/firefox\//i.test(t)}function z0(t=qe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GP(t=qe()){return/crios\//i.test(t)}function HP(t=qe()){return/iemobile/i.test(t)}function sd(t=qe()){return/android/i.test(t)}function KP(t=qe()){return/blackberry/i.test(t)}function YP(t=qe()){return/webos/i.test(t)}function kl(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e5(t=qe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function t5(t=qe()){var e;return kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n5(){return SP()&&document.documentMode===10}function QP(t=qe()){return kl(t)||sd(t)||YP(t)||KP(t)||/windows phone/i.test(t)||HP(t)}function r5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e=[]){let n;switch(t){case"Browser":n=aS(qe());break;case"Worker":n=`${aS(qe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ps}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e={}){return pt(t,"GET","/v2/passwordPolicy",ot(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=6;class a5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:o5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lS(this),this.idTokenSubscription=new lS(this),this.beforeStateQueue=new i5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?H(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s5(this),n=new a5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xn(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ze(t){return H(t)}class lS{constructor(e){this.auth=e,this.observer=null,this.addObserver=AP(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function W0(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",u5().appendChild(r)})}function JP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c5="https://www.google.com/recaptcha/enterprise.js?render=",d5="recaptcha-enterprise",h5="NO_RECAPTCHA";class f5{constructor(e){this.type=d5,this.auth=Ze(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Bj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;iS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(h5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&iS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}W0(c5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ps(t,e,n,r=!1){const i=new f5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function p5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function m5(t,e,n){const r=Ze(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ZP(e),{host:o,port:a}=g5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y5()}function ZP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g5(t){const e=ZP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uS(o)}}}function uS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e){return pt(t,"POST","/v1/accounts:resetPassword",ot(t,e))}async function tC(t,e){return pt(t,"POST","/v1/accounts:update",e)}async function _5(t,e){return pt(t,"POST","/v1/accounts:update",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e){return Ti(t,"POST","/v1/accounts:signInWithPassword",ot(t,e))}async function qp(t,e){return pt(t,"POST","/v1/accounts:sendOobCode",ot(t,e))}async function v5(t,e){return qp(t,e)}async function $g(t,e){return qp(t,e)}async function jg(t,e){return qp(t,e)}async function w5(t,e){return qp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}async function I5(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Pl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ps(e,r,"signInWithPassword");return Ug(e,i)}else return Ug(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ps(e,r,"signInWithPassword");return Ug(e,s)}else return Promise.reject(i)});case"emailLink":return E5(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return tC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return I5(e,{idToken:n,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t,e){return Ti(t,"POST","/v1/accounts:signInWithIdp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="http://localhost";class $r extends Pl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$t("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=U0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $r(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ui(e,n)}buildRequest(){const e={requestUri:T5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Al(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){return pt(t,"POST","/v1/accounts:sendVerificationCode",ot(t,e))}async function A5(t,e){return Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e))}async function R5(t,e){const n=await Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e));if(n.temporaryProof)throw vu(t,"account-exists-with-different-credential",n);return n}const k5={USER_NOT_FOUND:"user-not-found"};async function P5(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ti(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,n),k5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Pl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new lo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new lo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return A5(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return R5(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return P5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new lo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x5(t){const e=Ta(_u(t)).link,n=e?Ta(_u(e)).deep_link_id:null,r=Ta(_u(t)).deep_link_id;return(r?Ta(_u(r)).link:null)||r||n||e||t}class Gp{constructor(e){var n,r,i,s,o,a;const l=Ta(_u(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=C5((i=l.mode)!==null&&i!==void 0?i:null);D(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=x5(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.providerId=Cs.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gp.parseLink(n);return D(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}Cs.PROVIDER_ID="password";Cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ma extends Cl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return D("providerId"in n&&"signInMethod"in n,"argument-error"),$r._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return D(e.idToken||e.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ma.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ma.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ma(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Cl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Cl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="http://localhost";class rl extends Pl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ui(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new rl(r,s)}static _create(e,n){return new rl(e,n)}buildRequest(){return{requestUri:b5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="saml.";class Of extends Si{constructor(e){D(e.startsWith(N5),"argument-error"),super(e)}static credentialFromResult(e){return Of.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Of.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=rl.fromJSON(e);return D(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return rl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Cl{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e){return Ti(t,"POST","/v1/accounts:signUp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oo._fromIdTokenResponse(e,r,i),o=cS(r);return new Xn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cS(r);return new Xn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t){var e;const n=Ze(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Nh(n,{returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends sn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mf(e,n,r,i)}}function nC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e){const n=H(t);await Hp(!0,n,e);const{providerUserInfo:r}=await Wj(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=rC(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function q0(t,e,n=!1){const r=await yi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xn._forOperation(t,"link",r)}async function Hp(t,e,n){await wc(e);const r=rC(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";D(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await yi(t,nC(r,i,e,t),n);D(s.idToken,r,"internal-error");const o=Wp(s.idToken);D(o,r,"internal-error");const{sub:a}=o;return D(t.uid===a,r,"user-mismatch"),Xn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$t(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e,n=!1){const r="signIn",i=await nC(t,r,e),s=await Xn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Kp(t,e){return sC(Ze(t),e)}async function oC(t,e){const n=H(t);return await Hp(!1,n,e.providerId),q0(n,e)}async function aC(t,e){return iC(H(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e){return Ti(t,"POST","/v1/accounts:signInWithCustomToken",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){const n=Ze(t),r=await M5(n,{token:e,returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?G0._fromServerResponse(e,n):"totpInfo"in n?H0._fromServerResponse(e,n):$t(e,"internal-error")}}class G0 extends od{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new G0(n)}}class H0 extends od{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new H0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,e,n){var r;D(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),D(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(D(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(D(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t){const e=Ze(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L5(t,e,n){var r;const i=Ze(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ps(i,s,"getOobCode",!0);n&&Va(i,o,n),await $g(i,o)}else n&&Va(i,s,n),await $g(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ps(i,s,"getOobCode",!0);n&&Va(i,a,n),await $g(i,a)}else return Promise.reject(o)})}async function F5(t,e,n){await eC(H(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K0(t),r})}async function U5(t,e){await _5(H(t),{oobCode:e})}async function lC(t,e){const n=H(t),r=await eC(n,{oobCode:e}),i=r.requestType;switch(D(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(r.mfaInfo,n,"internal-error");default:D(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=od._fromServerResponse(Ze(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function $5(t,e){const{data:n}=await lC(H(t),e);return n.email}async function uC(t,e,n){var r;const i=Ze(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ps(i,s,"signUpPassword");o=Nh(i,u)}else o=Nh(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ps(i,s,"signUpPassword");return Nh(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&K0(t),u}),l=await Xn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function cC(t,e,n){return Kp(H(t),Cs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e,n){var r;const i=Ze(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){D(l.handleCodeInApp,i,"argument-error"),l&&Va(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await ps(i,s,"getOobCode",!0);o(a,n),await jg(i,a)}else o(s,n),await jg(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await ps(i,s,"getOobCode",!0);o(l,n),await jg(i,l)}else return Promise.reject(a)})}function B5(t,e){const n=Gp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function z5(t,e,n){const r=H(t),i=Cs.credentialWithLink(e,n||vc());return D(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Kp(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e){return pt(t,"POST","/v1/accounts:createAuthUri",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){const n=j0()?vc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await W5(H(t),r);return i||[]}async function G5(t,e){const n=H(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Va(n.auth,i,e);const{email:s}=await v5(n.auth,i);s!==t.email&&await t.reload()}async function H5(t,e,n){const r=H(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Va(r.auth,s,n);const{email:o}=await w5(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return pt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=H(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await yi(r,K5(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Q5(t,e){return dC(H(t),e,null)}function X5(t,e){return dC(H(t),null,e)}async function dC(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await yi(t,tC(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Wp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new La(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Z5(s,i);case"github.com":return new eB(s,i);case"google.com":return new tB(s,i);case"twitter.com":return new nB(s,i,t.screenName||null);case"custom":case"anonymous":return new La(s,null);default:return new La(s,r,i)}}class La{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class hC extends La{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Z5 extends La{constructor(e,n){super(e,"facebook.com",n)}}class eB extends hC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class tB extends La{constructor(e,n){super(e,"google.com",n)}}class nB extends hC{constructor(e,n,r){super(e,"twitter.com",n,r)}}function rB(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:J5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Js("enroll",e,n)}static _fromMfaPendingCredential(e){return new Js("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Js._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Js._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ze(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>od._fromServerResponse(r,a));D(i.mfaPendingCredential,r,"internal-error");const o=Js._fromMfaPendingCredential(i.mfaPendingCredential);return new Y0(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await Xn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return D(n.user,r,"internal-error"),Xn._forOperation(n.user,n.operationType,u);default:$t(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function iB(t,e){var n;const r=H(t),i=e;return D(e.customData.operationType,r,"argument-error"),D((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Y0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e){return pt(t,"POST","/v2/accounts/mfaEnrollment:start",ot(t,e))}function oB(t,e){return pt(t,"POST","/v2/accounts/mfaEnrollment:finalize",ot(t,e))}function aB(t,e){return pt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(t,e))}class Q0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>od._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Q0(e)}async getSession(){return Js._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await yi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await yi(this.user,aB(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Bg=new WeakMap;function lB(t){const e=H(t);return Bg.has(e)||Bg.set(e,Q0._fromUser(e)),Bg.get(e)}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(){const t=qe();return z0(t)||kl(t)}const cB=1e3,dB=10;class pC extends fC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uB()&&r5(),this.fallbackToPolling=QP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);n5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pC.type="LOCAL";const X0=pC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends fC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mC.type="SESSION";const _o=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await hB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ad("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return window}function pB(t){ut().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof ut().WorkerGlobalScope<"u"&&typeof ut().importScripts=="function"}async function mB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return J0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebaseLocalStorageDb",_B=1,Lf="firebaseLocalStorage",yC="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qp(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function vB(){const t=indexedDB.deleteDatabase(gC);return new ld(t).toPromise()}function v_(){const t=indexedDB.open(gC,_B);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lf,{keyPath:yC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),await vB(),e(await v_()))})})}async function dS(t,e,n){const r=Qp(t,!0).put({[yC]:e,value:n});return new ld(r).toPromise()}async function wB(t,e){const n=Qp(t,!1).get(e),r=await new ld(n).toPromise();return r===void 0?null:r.value}function hS(t,e){const n=Qp(t,!0).delete(e);return new ld(n).toPromise()}const EB=800,IB=3;class _C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yp._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mB(),!this.activeServiceWorker)return;this.sender=new fB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v_();return await dS(e,Vf,"1"),await hS(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qp(i,!1).getAll();return new ld(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_C.type="LOCAL";const Tc=_C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t,e){return pt(t,"POST","/v2/accounts/mfaSignIn:start",ot(t,e))}function SB(t,e){return pt(t,"POST","/v2/accounts/mfaSignIn:finalize",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=500,RB=6e4,eh=1e12;class kB{constructor(e){this.auth=e,this.counter=eh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new PB(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||eh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||eh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||eh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class PB{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;D(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=CB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},RB)},AB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function CB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=JP("rcb"),xB=new id(3e4,6e4),bB="https://www.google.com/recaptcha/api.js?";class NB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ut().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return D(DB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&rS(ut().grecaptcha)?Promise.resolve(ut().grecaptcha):new Promise((r,i)=>{const s=ut().setTimeout(()=>{i(Lt(e,"network-request-failed"))},xB.get());ut()[zg]=()=>{ut().clearTimeout(s),delete ut()[zg];const a=ut().grecaptcha;if(!a||!rS(a)){i(Lt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${bB}?${Al({onload:zg,render:"explicit",hl:n})}`;W0(o).catch(()=>{clearTimeout(s),i(Lt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ut().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function DB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class OB{async load(e){return new kB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="recaptcha",MB={theme:"light",type:"image"};let VB=class{constructor(e,n,r=Object.assign({},MB)){this.parameters=r,this.type=vC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(e),this.isInvisible=this.parameters.size==="invisible",D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OB:new NB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ut()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){D(j0()&&!J0(),this.auth,"internal-error"),await LB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await jj(this.auth);D(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function LB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=lo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function FB(t,e,n){const r=Ze(t),i=await Xp(r,e,H(n));return new Z0(i,s=>Kp(r,s))}async function UB(t,e,n){const r=H(t);await Hp(!1,r,"phone");const i=await Xp(r.auth,e,H(n));return new Z0(i,s=>oC(r,s))}async function $B(t,e,n){const r=H(t),i=await Xp(r.auth,e,H(n));return new Z0(i,s=>aC(r,s))}async function Xp(t,e,n){var r;const i=await n.verify();try{D(typeof i=="string",t,"argument-error"),D(n.type===vC,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return D(o.type==="enroll",t,"internal-error"),(await sB(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{D(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return D(a,t,"missing-multi-factor-info"),(await TB(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await S5(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function jB(t,e){await q0(H(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo=class Dh{constructor(e){this.providerId=Dh.PROVIDER_ID,this.auth=Ze(e)}verifyPhoneNumber(e,n){return Xp(this.auth,e,H(n))}static credential(e,n){return lo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Dh.credentialFromTaggedObject(n)}static credentialFromError(e){return Dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?lo._fromTokenResponse(n,r):null}};vo.PROVIDER_ID="phone";vo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,e){return e?xn(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Pl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BB(t){return sC(t.auth,new ew(t),t.bypassAuthState)}function zB(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),iC(n,new ew(t),t.bypassAuthState)}async function WB(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),q0(n,new ew(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BB;case"linkViaPopup":case"linkViaRedirect":return WB;case"reauthViaPopup":case"reauthViaRedirect":return zB;default:$t(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=new id(2e3,1e4);async function GB(t,e,n){const r=Ze(t);Rl(t,e,Si);const i=Mo(r,n);return new ti(r,"signInViaPopup",e,i).executeNotNull()}async function HB(t,e,n){const r=H(t);Rl(r.auth,e,Si);const i=Mo(r.auth,n);return new ti(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function KB(t,e,n){const r=H(t);Rl(r.auth,e,Si);const i=Mo(r.auth,n);return new ti(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ti extends wC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ti.currentPopupAction&&ti.currentPopupAction.cancel(),ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return D(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=ad();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qB.get())};e()}}ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="pendingRedirect",Lu=new Map;class QB extends wC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const r=await XB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XB(t,e){const n=IC(e),r=EC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function tw(t,e){return EC(t)._set(IC(e),"true")}function JB(){Lu.clear()}function nw(t,e){Lu.set(t._key(),e)}function EC(t){return xn(t._redirectPersistence)}function IC(t){return ao(YB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t,e,n){return e3(t,e,n)}async function e3(t,e,n){const r=Ze(t);Rl(t,e,Si),await r._initializationPromise;const i=Mo(r,n);return await tw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function t3(t,e,n){return n3(t,e,n)}async function n3(t,e,n){const r=H(t);Rl(r.auth,e,Si),await r.auth._initializationPromise;const i=Mo(r.auth,n);await tw(i,r.auth);const s=await TC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function r3(t,e,n){return i3(t,e,n)}async function i3(t,e,n){const r=H(t);Rl(r.auth,e,Si),await r.auth._initializationPromise;const i=Mo(r.auth,n);await Hp(!1,r,e.providerId),await tw(i,r.auth);const s=await TC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function s3(t,e){return await Ze(t)._initializationPromise,Jp(t,e,!1)}async function Jp(t,e,n=!1){const r=Ze(t),i=Mo(r,e),o=await new QB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function TC(t){const e=ad(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class SC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(fS(e))}saveEventToCache(e){this.cachedEventUids.add(fS(e)),this.lastProcessedEventTime=Date.now()}}function fS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e={}){return pt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u3=/^https?/;async function c3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RC(t);for(const n of e)try{if(d3(n))return}catch{}$t(t,"unauthorized-domain")}function d3(t){const e=vc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!u3.test(n))return!1;if(l3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new id(3e4,6e4);function pS(){const t=ut().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f3(t){return new Promise((e,n)=>{var r,i,s;function o(){pS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pS(),n(Lt(t,"network-request-failed"))},timeout:h3.get()})}if(!((i=(r=ut().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ut().gapi)===null||s===void 0)&&s.load)o();else{const a=JP("iframefcb");return ut()[a]=()=>{gapi.load?o():n(Lt(t,"network-request-failed"))},W0(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function p3(t){return Oh=Oh||f3(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new id(5e3,15e3),g3="__/auth/iframe",y3="emulator/auth/iframe",_3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w3(t){const e=t.config;D(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?B0(e,y3):`https://${t.config.authDomain}/${g3}`,r={apiKey:e.apiKey,appName:t.name,v:Ps},i=v3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Al(r).slice(1)}`}async function E3(t){const e=await p3(t),n=ut().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:w3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lt(t,"network-request-failed"),a=ut().setTimeout(()=>{s(o)},m3.get());function l(){ut().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T3=500,S3=600,A3="_blank",R3="http://localhost";class mS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k3(t,e,n,r=T3,i=S3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qe().toLowerCase();n&&(a=GP(u)?A3:n),qP(u)&&(e=e||R3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(t5(u)&&a!=="_self")return P3(e||"",a),new mS(null);const d=window.open(e||"",a,c);D(d,t,"popup-blocked");try{d.focus()}catch{}return new mS(d)}function P3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__/auth/handler",x3="emulator/auth/handler",b3=encodeURIComponent("fac");async function w_(t,e,n,r,i,s){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ps,eventId:i};if(e instanceof Si){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Cl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${b3}=${encodeURIComponent(l)}`:"";return`${N3(t)}?${Al(a).slice(1)}${u}`}function N3({config:t}){return t.emulator?B0(t,x3):`https://${t.authDomain}/${C3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class D3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_o,this._completeRedirectFn=Jp,this._overrideRedirectResult=nw}async _openPopup(e,n,r,i){var s;ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await w_(e,n,r,vc(),i);return k3(e,o,ad())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await w_(e,n,r,vc(),i);return pB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ur(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E3(e),r=new SC(e);return n.register("authEvent",i=>(D(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wg];o!==void 0&&n(!!o),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QP()||z0()||kl()}}const O3=D3;class M3{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return kr("unexpected MultiFactorSessionType")}}}class rw extends M3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rw(e)}_finalizeEnroll(e,n,r){return oB(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return SB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kC{constructor(){}static assertion(e){return rw._fromCredential(e)}}kC.FACTOR_ID="phone";var gS="@firebase/auth",yS="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function F3(t){fs(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;D(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XP(t)},u=new l5(r,i,s,l);return p5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Ur("auth-internal",e=>{const n=Ze(e.getProvider("auth").getImmediate());return(r=>new V3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(gS,yS,L3(t)),Lr(gS,yS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60;ZU("authIdTokenMaxAge");F3("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=2e3;async function j3(t,e,n){var r;const{BuildInfo:i}=wo();ur(e.sessionId,"AuthEvent did not contain a session ID");const s=await G3(e.sessionId),o={};return kl()?o.ibi=i.packageName:sd()?o.apn=i.packageName:$t(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,w_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function B3(t){const{BuildInfo:e}=wo(),n={};kl()?n.iosBundleId=e.packageName:sd()?n.androidPackageName=e.packageName:$t(t,"operation-not-supported-in-this-environment"),await RC(t,n)}function z3(t){const{cordova:e}=wo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,e5()?"_blank":"_system","location=yes"),n(i)})})}async function W3(t,e,n){const{cordova:r}=wo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Lt(t,"redirect-cancelled-by-user"))},$3))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),sd()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function q3(t){var e,n,r,i,s,o,a,l,u,c;const d=wo();D(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function G3(t){const e=H3(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function H3(t){if(ur(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=20;class Y3 extends SC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Q3(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Z3(),postBody:null,tenantId:t.tenantId,error:Lt(t,"no-auth-event")}}function X3(t,e){return E_()._set(I_(t),e)}async function _S(t){const e=await E_()._get(I_(t));return e&&await E_()._remove(I_(t)),e}function J3(t,e){var n,r;const i=t9(e);if(i.includes("/__/auth/callback")){const s=Mh(i),o=s.firebaseError?e9(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Lt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Z3(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<K3;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function E_(){return xn(X0)}function I_(t){return ao("authEvent",t.config.apiKey,t.name)}function e9(t){try{return JSON.parse(t)}catch{return null}}function t9(t){const e=Mh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Mh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Mh(i).link||i||r||n||t}function Mh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ta(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=500;class r9{constructor(){this._redirectPersistence=_o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jp,this._overrideRedirectResult=nw}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Y3(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){$t(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){q3(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),JB(),await this._originValidation(e);const o=Q3(e,r,i);await X3(e,o);const a=await j3(e,o,n),l=await z3(a);return W3(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B3(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=wo(),o=setTimeout(async()=>{await _S(e),n.onEvent(vS())},n9),a=async c=>{clearTimeout(o);const d=await _S(e);let h=null;d&&(c!=null&&c.url)&&(h=J3(d,c.url)),n.onEvent(h||vS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;wo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const i9=r9;function vS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t,e){Ze(t)._logFramework(e)}var o9="@firebase/auth-compat",a9="0.4.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=1e3;function Fu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function u9(){return Fu()==="http:"||Fu()==="https:"}function PC(t=qe()){return!!((Fu()==="file:"||Fu()==="ionic:"||Fu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function c9(){return M0()||O0()}function d9(){return SP()&&(document==null?void 0:document.documentMode)===11}function h9(t=qe()){return/Edge\/\d+/.test(t)}function f9(t=qe()){return d9()||h9(t)}function CC(){try{const t=self.localStorage,e=ad();if(t)return t.setItem(e,"1"),t.removeItem(e),f9()?gc():!0}catch{return iw()&&gc()}return!1}function iw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qg(){return(u9()||TP()||PC())&&!c9()&&CC()&&!iw()}function xC(){return PC()&&typeof document<"u"}async function p9(){return xC()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},l9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function m9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn={LOCAL:"local",NONE:"none",SESSION:"session"},nu=D,bC="persistence";function g9(t,e){if(nu(Object.values(Rn).includes(e),t,"invalid-persistence-type"),M0()){nu(e!==Rn.SESSION,t,"unsupported-persistence-type");return}if(O0()){nu(e===Rn.NONE,t,"unsupported-persistence-type");return}if(iw()){nu(e===Rn.NONE||e===Rn.LOCAL&&gc(),t,"unsupported-persistence-type");return}nu(e===Rn.NONE||CC(),t,"unsupported-persistence-type")}async function T_(t){await t._initializationPromise;const e=NC(),n=ao(bC,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function y9(t,e){const n=NC();if(!n)return[];const r=ao(bC,t,e);switch(n.getItem(r)){case Rn.NONE:return[nl];case Rn.LOCAL:return[Tc,_o];case Rn.SESSION:return[_o];default:return[]}}function NC(){var t;try{return((t=m9())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=D;class Hi{constructor(){this.browserResolver=xn(O3),this.cordovaResolver=xn(i9),this.underlyingResolver=null,this._redirectPersistence=_o,this._completeRedirectFn=Jp,this._overrideRedirectResult=nw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await p9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){return t.unwrap()}function v9(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){return OC(t)}function E9(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new I9(t,iB(t,e))}else if(r){const i=OC(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function OC(t){const{_tokenResponse:e}=t instanceof sn?t.customData:t;if(!e)return null;if(!(t instanceof sn)&&"temporaryProof"in e&&"phoneNumber"in e)return vo.credentialFromResult(t);const n=e.providerId;if(!n||n===tu.PASSWORD)return null;let r;switch(n){case tu.GOOGLE:r=Ir;break;case tu.FACEBOOK:r=Er;break;case tu.GITHUB:r=Tr;break;case tu.TWITTER:r=Sr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?rl._create(n,a):$r._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ma(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof sn?r.credentialFromError(t):r.credentialFromResult(t)}function fn(t,e){return e.catch(n=>{throw n instanceof sn&&E9(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:w9(n),additionalUserInfo:rB(n),user:Zp.getOrCreate(i)}})}async function S_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>fn(t,n.confirm(r))}}class I9{constructor(e,n){this.resolver=n,this.auth=v9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fn(DC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=class wu{constructor(e){this._delegate=e,this.multiFactor=lB(e)}static getOrCreate(e){return wu.USER_MAP.has(e)||wu.USER_MAP.set(e,new wu(e)),wu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fn(this.auth,oC(this._delegate,e))}async linkWithPhoneNumber(e,n){return S_(this.auth,UB(this._delegate,e,n))}async linkWithPopup(e){return fn(this.auth,KB(this._delegate,e,Hi))}async linkWithRedirect(e){return await T_(Ze(this.auth)),r3(this._delegate,e,Hi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fn(this.auth,aC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return S_(this.auth,$B(this._delegate,e,n))}reauthenticateWithPopup(e){return fn(this.auth,HB(this._delegate,e,Hi))}async reauthenticateWithRedirect(e){return await T_(Ze(this.auth)),t3(this._delegate,e,Hi)}sendEmailVerification(e){return G5(this._delegate,e)}async unlink(e){return await O5(this._delegate,e),this}updateEmail(e){return Q5(this._delegate,e)}updatePassword(e){return X5(this._delegate,e)}updatePhoneNumber(e){return jB(this._delegate,e)}updateProfile(e){return Y5(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return H5(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Zp.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=D;class A_{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ru(r,"invalid-api-key",{appName:e.name}),ru(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Hi:void 0;this._delegate=n.initialize({options:{persistence:T9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Dj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zp.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){m5(this._delegate,e,n)}applyActionCode(e){return U5(this._delegate,e)}checkActionCode(e){return lC(this._delegate,e)}confirmPasswordReset(e,n){return F5(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return fn(this._delegate,uC(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return q5(this._delegate,e)}isSignInWithEmailLink(e){return B5(this._delegate,e)}async getRedirectResult(){ru(qg(),this._delegate,"operation-not-supported-in-this-environment");const e=await s3(this._delegate,Hi);return e?fn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){s9(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=wS(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=wS(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return j5(this._delegate,e,n)}sendPasswordResetEmail(e,n){return L5(this._delegate,e,n||void 0)}async setPersistence(e){g9(this._delegate,e);let n;switch(e){case Rn.SESSION:n=_o;break;case Rn.LOCAL:n=await xn(Tc)._isAvailable()?Tc:X0;break;case Rn.NONE:n=nl;break;default:return $t("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fn(this._delegate,D5(this._delegate))}signInWithCredential(e){return fn(this._delegate,Kp(this._delegate,e))}signInWithCustomToken(e){return fn(this._delegate,V5(this._delegate,e))}signInWithEmailAndPassword(e,n){return fn(this._delegate,cC(this._delegate,e,n))}signInWithEmailLink(e,n){return fn(this._delegate,z5(this._delegate,e,n))}signInWithPhoneNumber(e,n){return S_(this._delegate,FB(this._delegate,e,n))}async signInWithPopup(e){return ru(qg(),this._delegate,"operation-not-supported-in-this-environment"),fn(this._delegate,GB(this._delegate,e,Hi))}async signInWithRedirect(e){return ru(qg(),this._delegate,"operation-not-supported-in-this-environment"),await T_(this._delegate),ZB(this._delegate,e,Hi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return $5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}A_.Persistence=Rn;function wS(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Zp.getOrCreate(o)),error:e,complete:n}}function T9(t,e){const n=y9(t,e);if(typeof self<"u"&&!n.includes(Tc)&&n.push(Tc),typeof window<"u")for(const r of[X0,_o])n.includes(r)||n.push(r);return n.includes(nl)||n.push(nl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.providerId="phone",this._delegate=new vo(DC(Oo.auth()))}static credential(e,n){return vo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}sw.PHONE_SIGN_IN_METHOD=vo.PHONE_SIGN_IN_METHOD;sw.PROVIDER_ID=vo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=D;class A9{constructor(e,n,r=Oo.app()){var i;S9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new VB(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="auth-compat";function k9(t){t.INTERNAL.registerComponent(new Ur(R9,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new A_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qo.EMAIL_SIGNIN,PASSWORD_RESET:Qo.PASSWORD_RESET,RECOVER_EMAIL:Qo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Qo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Qo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Qo.VERIFY_EMAIL}},EmailAuthProvider:Cs,FacebookAuthProvider:Er,GithubAuthProvider:Tr,GoogleAuthProvider:Ir,OAuthProvider:Ma,SAMLAuthProvider:Of,PhoneAuthProvider:sw,PhoneMultiFactorGenerator:kC,RecaptchaVerifier:A9,TwitterAuthProvider:Sr,Auth:A_,AuthCredential:Pl,Error:sn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(o9,a9)}k9(Oo);var P9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,ow=ow||{},Y=P9||self;function em(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ud(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function C9(t){return Object.prototype.hasOwnProperty.call(t,Gg)&&t[Gg]||(t[Gg]=++x9)}var Gg="closure_uid_"+(1e9*Math.random()>>>0),x9=0;function b9(t,e,n){return t.call.apply(t.bind,arguments)}function N9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gt=b9:Gt=N9,Gt.apply(null,arguments)}function th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xs(){this.s=this.s,this.o=this.o}var D9=0;xs.prototype.s=!1;xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),D9!=0)&&C9(this)};xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ES(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(em(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var O9=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Sc(t){return/^[\s\xa0]*$/.test(t)}function tm(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function Ar(t){return tm().indexOf(t)!=-1}function lw(t){return lw[" "](t),t}lw[" "]=function(){};function M9(t,e){var n=k6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var V9=Ar("Opera"),il=Ar("Trident")||Ar("MSIE"),VC=Ar("Edge"),R_=VC||il,LC=Ar("Gecko")&&!(tm().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge"))&&!(Ar("Trident")||Ar("MSIE"))&&!Ar("Edge"),L9=tm().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge");function FC(){var t=Y.document;return t?t.documentMode:void 0}var k_;e:{var Hg="",Kg=function(){var t=tm();if(LC)return/rv:([^\);]+)(\)|;)/.exec(t);if(VC)return/Edge\/([\d\.]+)/.exec(t);if(il)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(L9)return/WebKit\/(\S+)/.exec(t);if(V9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kg&&(Hg=Kg?Kg[1]:""),il){var Yg=FC();if(Yg!=null&&Yg>parseFloat(Hg)){k_=String(Yg);break e}}k_=Hg}var P_;if(Y.document&&il){var IS=FC();P_=IS||parseInt(k_,10)||void 0}else P_=void 0;var F9=P_;function Ac(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LC){e:{try{lw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:U9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ac.$.h.call(this)}}Pt(Ac,Ht);var U9={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cd="closure_listenable_"+(1e6*Math.random()|0),$9=0;function j9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$9,this.fa=this.ia=!1}function nm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function uw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function B9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function UC(t){const e={};for(const n in t)e[n]=t[n];return e}const TS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $C(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<TS.length;s++)n=TS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rm(t){this.src=t,this.g={},this.h=0}rm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=x_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new j9(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function C_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=MC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function x_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var cw="closure_lm_"+(1e6*Math.random()|0),Qg={};function jC(t,e,n,r,i){if(r&&r.once)return zC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jC(t,e[s],n,r,i);return null}return n=fw(n),t&&t[cd]?t.O(e,n,ud(r)?!!r.capture:!!r,i):BC(t,e,n,!1,r,i)}function BC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ud(i)?!!i.capture:!!i,a=hw(t);if(a||(t[cw]=a=new rm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=z9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)O9||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function z9(){function t(n){return e.call(t.src,t.listener,n)}const e=W9;return t}function zC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zC(t,e[s],n,r,i);return null}return n=fw(n),t&&t[cd]?t.P(e,n,ud(r)?!!r.capture:!!r,i):BC(t,e,n,!0,r,i)}function WC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)WC(t,e[s],n,r,i);else r=ud(r)?!!r.capture:!!r,n=fw(n),t&&t[cd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=x_(s,n,r,i),-1<n&&(nm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=x_(e,n,r,i)),(n=-1<t?e[t]:null)&&dw(n))}function dw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cd])C_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hw(e))?(C_(n,t),n.h==0&&(n.src=null,e[cw]=null)):nm(t)}}}function qC(t){return t in Qg?Qg[t]:Qg[t]="on"+t}function W9(t,e){if(t.fa)t=!0;else{e=new Ac(e,this);var n=t.listener,r=t.la||t.src;t.ia&&dw(t),t=n.call(r,e)}return t}function hw(t){return t=t[cw],t instanceof rm?t:null}var Xg="__closure_events_fn_"+(1e9*Math.random()>>>0);function fw(t){return typeof t=="function"?t:(t[Xg]||(t[Xg]=function(e){return t.handleEvent(e)}),t[Xg])}function kt(){xs.call(this),this.i=new rm(this),this.S=this,this.J=null}Pt(kt,xs);kt.prototype[cd]=!0;kt.prototype.removeEventListener=function(t,e,n,r){WC(this,t,e,n,r)};function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;e=new Ht(r,t),$C(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=nh(o,r,!0,e)&&i}if(o=e.g=t,i=nh(o,r,!0,e)&&i,i=nh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=nh(o,r,!1,e)&&i}kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nm(n[r]);delete t.g[e],t.h--}}this.J=null};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&C_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var pw=Y.JSON.stringify;class q9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function G9(){var t=mw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class H9{constructor(){this.h=this.g=null}add(e,n){const r=GC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var GC=new q9(()=>new K9,t=>t.reset());class K9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Y9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Q9(t){Y.setTimeout(()=>{throw t},0)}let Rc,kc=!1,mw=new H9,HC=()=>{const t=Y.Promise.resolve(void 0);Rc=()=>{t.then(X9)}};var X9=()=>{for(var t;t=G9();){try{t.h.call(t.g)}catch(n){Q9(n)}var e=GC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kc=!1};function im(t,e){kt.call(this),this.h=t||1,this.g=e||Y,this.j=Gt(this.qb,this),this.l=Date.now()}Pt(im,kt);V=im.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(gw(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){im.$.N.call(this),gw(this),delete this.g};function yw(t,e,n){if(typeof t=="function")n&&(t=Gt(t,n));else if(t&&typeof t.handleEvent=="function")t=Gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function KC(t){t.g=yw(()=>{t.g=null,t.i&&(t.i=!1,KC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class J9 extends xs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KC(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pc(t){xs.call(this),this.h=t,this.g={}}Pt(Pc,xs);var SS=[];function YC(t,e,n,r){Array.isArray(n)||(n&&(SS[0]=n.toString()),n=SS);for(var i=0;i<n.length;i++){var s=jC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function QC(t){uw(t.g,function(e,n){this.g.hasOwnProperty(n)&&dw(e)},t),t.g={}}Pc.prototype.N=function(){Pc.$.N.call(this),QC(this)};Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sm(){this.g=!0}sm.prototype.Ea=function(){this.g=!1};function Z9(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function e6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Sa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+n6(t,n)+(r?" "+r:"")})}function t6(t,e){t.info(function(){return"TIMEOUT: "+e})}sm.prototype.info=function(){};function n6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pw(n)}catch{return e}}var Vo={},AS=null;function om(){return AS=AS||new kt}Vo.Ta="serverreachability";function XC(t){Ht.call(this,Vo.Ta,t)}Pt(XC,Ht);function Cc(t){const e=om();Ft(e,new XC(e))}Vo.STAT_EVENT="statevent";function JC(t,e){Ht.call(this,Vo.STAT_EVENT,t),this.stat=e}Pt(JC,Ht);function nn(t){const e=om();Ft(e,new JC(e,t))}Vo.Ua="timingevent";function ZC(t,e){Ht.call(this,Vo.Ua,t),this.size=e}Pt(ZC,Ht);function dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var am={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ex={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _w(){}_w.prototype.h=null;function RS(t){return t.h||(t.h=t.i())}function tx(){}var hd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vw(){Ht.call(this,"d")}Pt(vw,Ht);function ww(){Ht.call(this,"c")}Pt(ww,Ht);var b_;function lm(){}Pt(lm,_w);lm.prototype.g=function(){return new XMLHttpRequest};lm.prototype.i=function(){return{}};b_=new lm;function fd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pc(this),this.P=r6,t=R_?125:void 0,this.V=new im(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nx}function nx(){this.i=null,this.g="",this.h=!1}var r6=45e3,N_={},Ff={};V=fd.prototype;V.setTimeout=function(t){this.P=t};function D_(t,e,n){t.L=1,t.v=cm(_i(e)),t.s=n,t.S=!0,rx(t,null)}function rx(t,e){t.G=Date.now(),pd(t),t.A=_i(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dx(n.i,"t",r),t.C=0,n=t.l.J,t.h=new nx,t.g=Nx(t.l,n?e:null,!t.s),0<t.O&&(t.M=new J9(Gt(t.Pa,t,t.g),t.O)),YC(t.U,t.g,"readystatechange",t.nb),e=t.I?UC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Cc(),Z9(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&Pr(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=Pr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||R_||this.g&&(this.h.h||this.g.ja()||xS(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Cc(3):Cc(2)),um(this);var n=this.g.da();this.ca=n;t:if(ix(this)){var r=xS(this.g);t="";var i=r.length,s=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),Uu(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,e6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sc(a)){var u=a;break t}}u=null}if(n=u)Sa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O_(this,n);else{this.i=!1,this.o=3,nn(12),Zs(this),Uu(this);break e}}this.S?(sx(this,c,o),R_&&this.i&&c==3&&(YC(this.U,this.V,"tick",this.mb),this.V.start())):(Sa(this.j,this.m,o,null),O_(this,o)),c==4&&Zs(this),this.i&&!this.J&&(c==4?Px(this.l,this):(this.i=!1,pd(this)))}else S6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),Zs(this),Uu(this)}}}catch{}finally{}};function ix(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function sx(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=i6(t,n),i==Ff){e==4&&(t.o=4,nn(14),r=!1),Sa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==N_){t.o=4,nn(15),Sa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Sa(t.j,t.m,i,null),O_(t,i);ix(t)&&i!=Ff&&i!=N_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rw(e),e.M=!0,nn(11))):(Sa(t.j,t.m,n,"[Invalid Chunked Response]"),Zs(t),Uu(t))}V.mb=function(){if(this.g){var t=Pr(this.g),e=this.g.ja();this.C<e.length&&(um(this),sx(this,t,e),this.i&&t!=4&&pd(this))}};function i6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ff:(n=Number(e.substring(n,r)),isNaN(n)?N_:(r+=1,r+n>e.length?Ff:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,Zs(this)};function pd(t){t.Y=Date.now()+t.P,ox(t,t.P)}function ox(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=dd(Gt(t.lb,t),e)}function um(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(t6(this.j,this.A),this.L!=2&&(Cc(),nn(17)),Zs(this),this.o=2,Uu(this)):ox(this,this.Y-t)};function Uu(t){t.l.H==0||t.J||Px(t.l,t)}function Zs(t){um(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gw(t.V),QC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function O_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||M_(n.i,t))){if(!t.K&&M_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)jf(n),pm(n);else break e;Aw(n),nn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dd(Gt(n.ib,n),6e3));if(1>=px(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else eo(n,11)}else if((t.K||n.g==t)&&jf(n),!Sc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ew(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,Ce(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=bx(r,r.J?r.pa:null,r.Y),o.K){mx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(um(a),pd(a)),r.g=o}else Rx(r);0<n.j.length&&mm(n)}else u[0]!="stop"&&u[0]!="close"||eo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?eo(n,7):Sw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Cc(4)}catch{}}function s6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(em(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function o6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(em(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ax(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(em(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=o6(t),r=s6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function uo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=t.h,Uf(this,t.j),this.s=t.s,this.g=t.g,$f(this,t.m),this.l=t.l;var e=t.i,n=new xc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kS(this,n),this.o=t.o}else t&&(e=String(t).match(lx))?(this.h=!1,Uf(this,e[1]||"",!0),this.s=Eu(e[2]||""),this.g=Eu(e[3]||"",!0),$f(this,e[4]),this.l=Eu(e[5]||"",!0),kS(this,e[6]||"",!0),this.o=Eu(e[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Iu(e,PS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Iu(e,PS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Iu(n,n.charAt(0)=="/"?c6:u6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Iu(n,h6)),t.join("")};function _i(t){return new uo(t)}function Uf(t,e,n){t.j=n?Eu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $f(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kS(t,e,n){e instanceof xc?(t.i=e,f6(t.i,t.h)):(n||(e=Iu(e,d6)),t.i=new xc(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function cm(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Eu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Iu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,l6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function l6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PS=/[#\/\?@]/g,u6=/[#\?:]/g,c6=/[#\?]/g,d6=/[#\?@]/g,h6=/#/g;function xc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bs(t){t.g||(t.g=new Map,t.h=0,t.i&&a6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=xc.prototype;V.add=function(t,e){bs(this),this.i=null,t=xl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ux(t,e){bs(t),e=xl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cx(t,e){return bs(t),e=xl(t,e),t.g.has(e)}V.forEach=function(t,e){bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.Z=function(t){bs(this);let e=[];if(typeof t=="string")cx(this,t)&&(e=e.concat(this.g.get(xl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return bs(this),this.i=null,t=xl(this,t),cx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function dx(t,e,n){ux(t,e),0<n.length&&(t.i=null,t.g.set(xl(t,e),aw(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function xl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f6(t,e){e&&!t.j&&(bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ux(this,r),dx(this,i,n))},t)),t.j=e}var p6=class{constructor(t,e){this.g=t,this.map=e}};function hx(t){this.l=t||m6,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m6=10;function fx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function px(t){return t.h?1:t.g?t.g.size:0}function M_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ew(t,e){t.g?t.g.add(e):t.h=e}function mx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hx.prototype.cancel=function(){if(this.i=gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aw(t.i)}var g6=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function y6(){this.g=new g6}function _6(t,e,n){const r=n||"";try{ax(t,function(i,s){let o=i;ud(i)&&(o=pw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function v6(t,e){const n=new sm;if(Y.Image){const r=new Image;r.onload=th(rh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=th(rh,n,r,"TestLoadImage: error",!1,e),r.onabort=th(rh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=th(rh,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function dm(t){this.l=t.ec||null,this.j=t.ob||!1}Pt(dm,_w);dm.prototype.g=function(){return new hm(this.l,this.j)};dm.prototype.i=function(t){return function(){return t}}({});function hm(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Iw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(hm,kt);var Iw=0;V=hm.prototype;V.open=function(t,e){if(this.readyState!=Iw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bc(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,md(this)),this.readyState=Iw};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?md(this):bc(this),this.readyState==3&&yx(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,md(this))};V.Ya=function(t){this.g&&(this.response=t,md(this))};V.ka=function(){this.g&&md(this)};function md(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bc(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var w6=Y.JSON.parse;function et(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_x,this.L=this.M=!1}Pt(et,kt);var _x="",E6=/^https?$/i,I6=["POST","PUT"];V=et.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b_.g(),this.C=this.u?RS(this.u):RS(b_),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){CS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=MC(I6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ex(this),0<this.B&&((this.L=T6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=yw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){CS(this,s)}};function T6(t){return il&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof ow<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))};function CS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vx(t),fm(t)}function vx(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),fm(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fm(this,!0)),et.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?wx(this):this.kb())};V.kb=function(){wx(this)};function wx(t){if(t.h&&typeof ow<"u"&&(!t.C[1]||Pr(t)!=4||t.da()!=2)){if(t.v&&Pr(t)==4)yw(t.La,0,t);else if(Ft(t,"readystatechange"),Pr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(lx)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!E6.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var s=2<Pr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",vx(t)}}finally{fm(t)}}}}function fm(t,e){if(t.g){Ex(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ex(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function Pr(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),w6(e)}};function xS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _x:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function S6(t){const e={};t=(t.g&&2<=Pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Sc(t[r]))continue;var n=Y9(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}B9(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ix(t){let e="";return uw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Tw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ix(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ce(t,e,n))}function iu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tx(t){this.Ga=0,this.j=[],this.l=new sm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=iu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=iu("baseRetryDelayMs",5e3,t),this.hb=iu("retryDelaySeedMs",1e4,t),this.eb=iu("forwardChannelMaxRetries",2,t),this.xa=iu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hx(t&&t.concurrentRequestLimit),this.Ja=new y6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=Tx.prototype;V.ra=8;V.H=1;function Sw(t){if(Sx(t),t.H==3){var e=t.W++,n=_i(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),gd(t,n),e=new fd(t,t.l,e),e.L=2,e.v=cm(_i(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=Nx(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pd(e)}xx(t)}function pm(t){t.g&&(Rw(t),t.g.cancel(),t.g=null)}function Sx(t){pm(t),t.u&&(Y.clearTimeout(t.u),t.u=null),jf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function mm(t){if(!fx(t.i)&&!t.m){t.m=!0;var e=t.Na;Rc||HC(),kc||(Rc(),kc=!0),mw.add(e,t),t.C=0}}function A6(t,e){return px(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dd(Gt(t.Na,t,e),Cx(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=UC(s),$C(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ax(this,i,e),n=_i(this.I),Ce(n,"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),gd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ix(s)))+"&"+e:this.o&&Tw(n,this.o,s)),Ew(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),i.aa=!0,D_(i,n,null)):D_(i,n,e),this.H=2}}else this.H==3&&(t?bS(this,t):this.j.length==0||fx(this.i)||bS(this))};function bS(t,e){var n;e?n=e.m:n=t.W++;const r=_i(t.I);Ce(r,"SID",t.K),Ce(r,"RID",n),Ce(r,"AID",t.V),gd(t,r),t.o&&t.s&&Tw(r,t.o,t.s),n=new fd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ax(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ew(t.i,n),D_(n,r,e)}function gd(t,e){t.na&&uw(t.na,function(n,r){Ce(e,r,n)}),t.h&&ax({},function(n,r){Ce(e,r,n)})}function Ax(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{_6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Rx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rc||HC(),kc||(Rc(),kc=!0),mw.add(e,t),t.A=0}}function Aw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dd(Gt(t.Ma,t),Cx(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,kx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dd(Gt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nn(10),pm(this),kx(this))};function Rw(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function kx(t){t.g=new fd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_i(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),gd(t,e),t.o&&t.s&&Tw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cm(_i(e)),n.s=null,n.S=!0,rx(n,t)}V.ib=function(){this.v!=null&&(this.v=null,pm(this),Aw(this),nn(19))};function jf(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function Px(t,e){var n=null;if(t.g==e){jf(t),Rw(t),t.g=null;var r=2}else if(M_(t.i,e))n=e.F,mx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=om(),Ft(r,new ZC(r,n)),mm(t)}else Rx(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&A6(t,e)||r==2&&Aw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:eo(t,5);break;case 4:eo(t,10);break;case 3:eo(t,6);break;default:eo(t,2)}}}function Cx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Uf(n,"https"),cm(n)),v6(n.toString(),r)}else nn(2);t.H=0,t.h&&t.h.za(e),xx(t),Sx(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nn(2)):(this.l.info("Failed to ping google.com"),nn(1))};function xx(t){if(t.H=0,t.ma=[],t.h){const e=gx(t.i);(e.length!=0||t.j.length!=0)&&(ES(t.ma,e),ES(t.ma,t.j),t.i.i.length=0,aw(t.j),t.j.length=0),t.h.ya()}}function bx(t,e,n){var r=n instanceof uo?_i(n):new uo(n);if(r.g!="")e&&(r.g=e+"."+r.g),$f(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uo(null);r&&Uf(s,r),e&&(s.g=e),i&&$f(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ce(r,n,e),Ce(r,"VER",t.ra),gd(t,r),r}function Nx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new et(new dm({ob:!0})):new et(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function Dx(){}V=Dx.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Bf(){if(il&&!(10<=Number(F9)))throw Error("Environmental error: no available transport.")}Bf.prototype.g=function(t,e){return new On(t,e)};function On(t,e){kt.call(this),this.g=new Tx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new bl(this)}Pt(On,kt);On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bx(t,null,t.Y),mm(t)};On.prototype.close=function(){Sw(this.g)};On.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pw(t),t=n);e.j.push(new p6(e.fb++,t)),e.H==3&&mm(e)};On.prototype.N=function(){this.g.h=null,delete this.j,Sw(this.g),delete this.g,On.$.N.call(this)};function Ox(t){vw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(Ox,vw);function Mx(){ww.call(this),this.status=1}Pt(Mx,ww);function bl(t){this.g=t}Pt(bl,Dx);bl.prototype.Ba=function(){Ft(this.g,"a")};bl.prototype.Aa=function(t){Ft(this.g,new Ox(t))};bl.prototype.za=function(t){Ft(this.g,new Mx)};bl.prototype.ya=function(){Ft(this.g,"b")};function R6(){this.blockSize=-1}function cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(cr,R6);cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}cr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Jg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Jg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Jg(this,r),i=0;break}}this.h=i,this.i+=e};cr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var k6={};function kw(t){return-128<=t&&128>t?M9(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function Cr(t){if(isNaN(t)||!isFinite(t))return Fa;if(0>t)return Ot(Cr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=V_;return new Ee(e,0)}function Vx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(Vx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cr(Math.pow(e,8)),r=Fa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Cr(Math.pow(e,s)),r=r.R(s).add(Cr(o))):(r=r.R(n),r=r.add(Cr(o)))}return r}var V_=4294967296,Fa=kw(0),L_=kw(1),NS=kw(16777216);V=Ee.prototype;V.ea=function(){if(Wn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:V_+r)*e,e*=V_}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ni(this))return"0";if(Wn(this))return"-"+Ot(this).toString(t);for(var e=Cr(Math.pow(t,6)),n=this,r="";;){var i=Wf(n,e).g;n=zf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ni(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ni(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wn(t){return t.h==-1}V.X=function(t){return t=zf(this,t),Wn(t)?-1:ni(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(L_)}V.abs=function(){return Wn(this)?Ot(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function zf(t,e){return t.add(Ot(e))}V.R=function(t){if(ni(this)||ni(t))return Fa;if(Wn(this))return Wn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Wn(t))return Ot(this.R(Ot(t)));if(0>this.X(NS)&&0>t.X(NS))return Cr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,ih(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ih(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ih(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ih(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function ih(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function su(t,e){this.g=t,this.h=e}function Wf(t,e){if(ni(e))throw Error("division by zero");if(ni(t))return new su(Fa,Fa);if(Wn(t))return e=Wf(Ot(t),e),new su(Ot(e.g),Ot(e.h));if(Wn(e))return e=Wf(t,Ot(e)),new su(Ot(e.g),e.h);if(30<t.g.length){if(Wn(t)||Wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=L_,r=e;0>=r.X(t);)n=DS(n),r=DS(r);var i=Xo(n,1),s=Xo(r,1);for(r=Xo(r,2),n=Xo(n,2);!ni(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Xo(r,1),n=Xo(n,1)}return e=zf(t,i.R(e)),new su(i,e)}for(i=Fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Cr(n),o=s.R(e);Wn(o)||0<o.X(t);)n-=r,s=Cr(n),o=s.R(e);ni(s)&&(s=L_),i=i.add(s),t=zf(t,o)}return new su(i,t)}V.gb=function(t){return Wf(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function DS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}Bf.prototype.createWebChannel=Bf.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;am.NO_ERROR=0;am.TIMEOUT=8;am.HTTP_ERROR=6;ex.COMPLETE="complete";tx.EventType=hd;hd.OPEN="a";hd.CLOSE="b";hd.ERROR="c";hd.MESSAGE="d";kt.prototype.listen=kt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;cr.prototype.digest=cr.prototype.l;cr.prototype.reset=cr.prototype.reset;cr.prototype.update=cr.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=Cr;Ee.fromString=Vx;var P6=function(){return new Bf},C6=function(){return om()},Zg=am,x6=ex,b6=Vo,OS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sh=tx,N6=et,D6=cr,Ua=Ee;const MS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new zp("@firebase/firestore");function sa(){return ms.logLevel}function O6(t){ms.setLogLevel(t)}function x(t,...e){if(ms.logLevel<=ne.DEBUG){const n=e.map(Pw);ms.debug(`Firestore (${Nl}): ${t}`,...n)}}function it(t,...e){if(ms.logLevel<=ne.ERROR){const n=e.map(Pw);ms.error(`Firestore (${Nl}): ${t}`,...n)}}function dr(t,...e){if(ms.logLevel<=ne.WARN){const n=e.map(Pw);ms.warn(`Firestore (${Nl}): ${t}`,...n)}}function Pw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+t;throw it(e),new Error(e)}function q(t,e){t||U()}function M6(t,e){t||U()}function M(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class L6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q(typeof r.accessToken=="string"),new Lx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(e===null||typeof e=="string"),new St(e)}}class U6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new U6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q(typeof n.token=="string"),this.R=n.token,new j6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function sl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Ux(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new $e(0,0))}static max(){return new W(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends Nc{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const W6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Nc{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return W6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new C(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new C(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.path=e}static fromPath(e){return new O(le.fromString(e))}static fromName(e){return new O(le.fromString(e).popFirst(5))}static empty(){return new O(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function F_(t){return t.fields.find(e=>e.kind===2)}function zs(t){return t.fields.filter(e=>e.kind!==2)}qf.UNKNOWN_ID=-1;class Vh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Dc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Dc(0,Mn.min())}}function $x(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Mn(i,O.empty(),e)}function jx(t){return new Mn(t.readTime,t.key,-1)}class Mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mn(W.min(),O.empty(),-1)}static max(){return new Mn(W.max(),O.empty(),-1)}}function Cw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=O.comparator(t.documentKey,e.documentKey),n!==0?n:Q(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==Bx)throw t;x("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Rt,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new $u(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=xw(r.target.error);this.m.reject(new $u(e,i))}}static open(e,n,r,i){try{return new gm(n,e.transaction(i,r))}catch(s){throw new $u(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(x("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new G6(n)}}class ir{constructor(e,n,r){this.name=e,this.version=n,this.S=r,ir.D(qe())===12.2&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return x("SimpleDb","Removing database:",e),Ws(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!gc())return!1;if(ir.v())return!0;const e=qe(),n=ir.D(e),r=0<n&&n<10,i=ir.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(x("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new $u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new C(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new $u(e,o))},i.onupgradeneeded=s=>{x("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{x("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=gm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.p(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return l.catch(()=>{}),await a.g,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(x("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class q6{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return Ws(this.q.delete())}}class $u extends C{constructor(e,n){super(T.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ds(t){return t.name==="IndexedDbTransactionError"}class G6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ws(r)}add(e){return x("SimpleDb","ADD",this.store.name,e,e),Ws(this.store.add(e))}get(e){return Ws(this.store.get(e)).next(n=>(n===void 0&&(n=null),x("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return x("SimpleDb","DELETE",this.store.name,e),Ws(this.store.delete(e))}count(){return x("SimpleDb","COUNT",this.store.name),Ws(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new I((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new I((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){x("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new I((r,i)=>{n.onerror=s=>{const o=xw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new I((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new q6(a),u=n(a.primaryKey,a.value,l);if(u instanceof I){const c=u.catch(d=>(l.done(),I.reject(d)));r.push(c)}l.isDone?i():l.U===null?a.continue():a.continue(l.U)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ws(t){return new I((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xw(r.target.error);n(i)}})}let VS=!1;function xw(t){const e=ir.D(qe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VS||(VS=!0,setTimeout(()=>{throw r},0)),r}}return t}class H6{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){x("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{x("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Ds(n)?x("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ns(n)}await this.te(6e4)})}}class K6{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return I.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return x("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(a=>(x("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=jx(s);Cw(o,r)>0&&(r=o)}),new Mn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yn.ae=-1;function yd(t){return t==null}function Oc(t){return t===0&&1/t==-1/0}function Wx(t){return typeof t=="number"&&Number.isInteger(t)&&!Oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LS(e)),e=Y6(t.get(n),e);return LS(e)}function Y6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LS(t){return t+""}function xr(t){const e=t.length;if(q(e>=2),e===2)return q(t.charAt(0)===""&&t.charAt(1)===""),le.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&U(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:U()}s=o+2}return new le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e){return[t,on(e)]}function qx(t,e,n){return[t,on(e),n]}const Q6={},X6=["prefixPath","collectionGroup","readTime","documentId"],J6=["prefixPath","collectionGroup","documentId"],Z6=["collectionGroup","readTime","prefixPath","documentId"],ez=["canonicalId","targetId"],tz=["targetId","path"],nz=["path","targetId"],rz=["collectionId","parent"],iz=["indexId","uid"],sz=["uid","sequenceNumber"],oz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],az=["indexId","uid","orderedDocumentKey"],lz=["userId","collectionPath","documentId"],uz=["userId","collectionPath","largestBatchId"],cz=["userId","collectionGroup","largestBatchId"],Gx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dz=[...Gx,"documentOverlays"],Hx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kx=Hx,hz=[...Kx,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends zx{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=M(t);return ir.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $S(this.data.getIterator())}getIteratorFrom(e){return new $S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ae(this.comparator);return n.data=e,n}}class $S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ae(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qx("Invalid base64 string: "+s):s}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const pz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(q(!!t),typeof t=="string"){let e=0;const n=pz.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bw(t){const e=t.mapValue.fields.__previous_value__;return ym(e)?bw(e):e}function Mc(t){const e=gs(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fh={nullValue:"NULL_VALUE"};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ym(t)?4:Xx(t)?9007199254740991:10:U()}function jr(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gs(i.timestampValue),a=gs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Oc(o)===Oc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(US(o)!==US(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jr(o[l],a[l])))return!1;return!0}(t,e);default:return U()}}function Vc(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function vs(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jS(t.timestampValue,e.timestampValue);case 4:return jS(Mc(t),Mc(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ys(s),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Q(a[u],l[u]);if(c!==0)return c}return Q(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Q(Xe(s.latitude),Xe(o.latitude));return a!==0?a:Q(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=vs(a[u],l[u]);if(c)return c}return Q(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ki.mapValue&&o===Ki.mapValue)return 0;if(s===Ki.mapValue)return 1;if(o===Ki.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Q(l[d],c[d]);if(h!==0)return h;const f=vs(a[l[d]],u[c[d]]);if(f!==0)return f}return Q(l.length,c.length)}(t.mapValue,e.mapValue);default:throw U()}}function jS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Q(t,e);const n=gs(t),r=gs(e),i=Q(n.seconds,r.seconds);return i!==0?i:Q(n.nanos,r.nanos)}function ol(t){return $_(t)}function $_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return O.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$_(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function Io(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function Lc(t){return!!t&&"arrayValue"in t}function BS(t){return!!t&&"nullValue"in t}function zS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function gz(t){return"nullValue"in t?Fh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Io(_s.empty(),O.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:U()}function yz(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Io(_s.empty(),O.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ki:U()}function WS(t,e){const n=vs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qS(t,e){const n=vs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ju(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mt(ju(this.value))}}function Jx(t){const e=[];return Lo(t.fields,(n,r)=>{const i=new Je([n]);if(Uh(r)){const s=Jx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,W.min(),W.min(),W.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,W.min(),W.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,W.min(),W.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.position=e,this.inclusive=n}}function GS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=O.comparator(O.fromName(o.referenceValue),n.key):r=vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n="asc"){this.field=e,this.dir=n}}function _z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class ie extends Zx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vz(e,n,r):n==="array-contains"?new Iz(e,r):n==="in"?new sb(e,r):n==="not-in"?new Tz(e,r):n==="array-contains-any"?new Sz(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wz(e,r):new Ez(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends Zx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ve(e,n)}matches(e){return al(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function al(t){return t.op==="and"}function B_(t){return t.op==="or"}function Nw(t){return eb(t)&&al(t)}function eb(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}function z_(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(Nw(t))return t.filters.map(e=>z_(e)).join(",");{const e=t.filters.map(n=>z_(n)).join(",");return`${t.op}(${e})`}}function tb(t,e){return t instanceof ie?function(r,i){return i instanceof ie&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof ve?function(r,i){return i instanceof ve&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tb(o,i.filters[a]),!0):!1}(t,e):void U()}function nb(t,e){const n=t.filters.concat(e);return ve.create(n,t.op)}function rb(t){return t instanceof ie?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof ve?function(n){return n.op.toString()+" {"+n.getFilters().map(rb).join(" ,")+"}"}(t):"Filter"}class vz extends ie{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class wz extends ie{constructor(e,n){super(e,"in",n),this.keys=ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ez extends ie{constructor(e,n){super(e,"not-in",n),this.keys=ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ib(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class Iz extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lc(n)&&Vc(n.arrayValue,this.value)}}class sb extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vc(this.value.arrayValue,n)}}class Tz extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vc(this.value.arrayValue,n)}}class Sz extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function W_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Az(t,e,n,r,i,s,o)}function To(t){const e=M(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.he=n}return e.he}function _d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HS(t.startAt,e.startAt)&&HS(t.endAt,e.endAt)}function Gf(t){return O.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hf(t,e){return t.filters.filter(n=>n instanceof ie&&n.field.isEqual(e))}function KS(t,e,n){let r=Fh,i=!0;for(const s of Hf(t,e)){let o=Fh,a=!0;switch(s.op){case"<":case"<=":o=gz(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Fh}WS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];WS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function YS(t,e,n){let r=Ki,i=!0;for(const s of Hf(t,e)){let o=Ki,a=!0;switch(s.op){case">=":case">":o=yz(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ki}qS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];qS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ob(t,e,n,r,i,s,o,a){return new Ai(t,e,n,r,i,s,o,a)}function Dl(t){return new Ai(t)}function QS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _m(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Ow(t){return t.collectionGroup!==null}function ja(t){const e=M(t);if(e.Pe===null){e.Pe=[];const n=_m(e),r=Dw(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new $a(n)),e.Pe.push(new $a(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new $a(Je.keyField(),s))}}}return e.Pe}function an(t){const e=M(t);return e.Ie||(e.Ie=Rz(e,ja(t))),e.Ie}function Rz(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $a(i.field,s)});const n=t.endAt?new ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ws(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function q_(t,e){e.getFirstInequalityField(),_m(t);const n=t.filters.concat([e]);return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kf(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return _d(an(t),an(e))&&t.limitType===e.limitType}function ab(t){return`${To(an(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rb(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ol(i)).join(",")),`Target(${r})`}(an(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):O.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=GS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,a,l){const u=GS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ja(r),i))}(t,e)}function lb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ub(t){return(e,n)=>{let r=!1;for(const i of ja(t)){const s=kz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kz(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?vs(l,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Re(O.comparator);function vn(){return Pz}const cb=new Re(O.comparator);function Tu(...t){let e=cb;for(const n of t)e=e.insert(n.key,n);return e}function db(t){let e=cb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function br(){return Bu()}function hb(){return Bu()}function Bu(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cz=new Re(O.comparator),xz=new Ae(O.comparator);function J(...t){let e=xz;for(const n of t)e=e.add(n);return e}const bz=new Ae(Q);function Mw(){return bz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function pb(t){return{integerValue:""+t}}function mb(t,e){return Wx(e)?pb(e):fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function Nz(t,e,n){return t instanceof ll?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ym(s)&&(s=bw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof So?yb(t,e):t instanceof Ao?_b(t,e):function(i,s){const o=gb(i,s),a=XS(o)+XS(i.Te);return j_(o)&&j_(i.Te)?pb(a):fb(i.serializer,a)}(t,e)}function Dz(t,e,n){return t instanceof So?yb(t,e):t instanceof Ao?_b(t,e):n}function gb(t,e){return t instanceof ul?function(r){return j_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ll extends vm{}class So extends vm{constructor(e){super(),this.elements=e}}function yb(t,e){const n=vb(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends vm{constructor(e){super(),this.elements=e}}function _b(t,e){let n=vb(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class ul extends vm{constructor(e,n){super(),this.serializer=e,this.Te=n}}function XS(t){return Xe(t.integerValue||t.doubleValue)}function vb(t){return Lc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.field=e,this.transform=n}}function Oz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof So&&i instanceof So||r instanceof Ao&&i instanceof Ao?sl(r.elements,i.elements,jr):r instanceof ul&&i instanceof ul?jr(r.Te,i.Te):r instanceof ll&&i instanceof ll}(t.transform,e.transform)}class Mz{constructor(e,n){this.version=e,this.transformResults=n}}class Ue{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wm{}function wb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ml(t.key,Ue.none()):new Ol(t.key,t.data,Ue.none());{const n=t.data,r=Mt.empty();let i=new Ae(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(t.key,r,new _n(i.toArray()),Ue.none())}}function Vz(t,e,n){t instanceof Ol?function(i,s,o){const a=i.value.clone(),l=ZS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,s,o){if(!$h(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ZS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Eb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zu(t,e,n,r){return t instanceof Ol?function(s,o,a,l){if(!$h(s.precondition,o))return a;const u=s.value.clone(),c=e1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(s,o,a,l){if(!$h(s.precondition,o))return a;const u=e1(s.fieldTransforms,l,o),c=o.data;return c.setAll(Eb(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $h(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Lz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gb(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function JS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sl(r,i,(s,o)=>Oz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends wm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends wm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZS(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dz(o,a,n[i]))}return r}function e1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Nz(s,o,e))}return r}class Ml extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Vz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=wb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(n,r)=>JS(n,r))&&sl(this.baseMutations,e.baseMutations,(n,r)=>JS(n,r))}}class Fw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=function(){return Cz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,oe;function Ib(t){switch(t){default:return U();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Tb(t){if(t===void 0)return it("GRPC error has no .code"),T.UNKNOWN;switch(t){case lt.OK:return T.OK;case lt.CANCELLED:return T.CANCELLED;case lt.UNKNOWN:return T.UNKNOWN;case lt.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case lt.INTERNAL:return T.INTERNAL;case lt.UNAVAILABLE:return T.UNAVAILABLE;case lt.UNAUTHENTICATED:return T.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case lt.NOT_FOUND:return T.NOT_FOUND;case lt.ALREADY_EXISTS:return T.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return T.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case lt.ABORTED:return T.ABORTED;case lt.OUT_OF_RANGE:return T.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return T.UNIMPLEMENTED;case lt.DATA_LOSS:return T.DATA_LOSS;default:return U()}}(oe=lt||(lt={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=new Ua([4294967295,4294967295],0);function t1(t){const e=Sb().encode(t),n=new D6;return n.update(e),new Uint8Array(n.digest())}function n1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ua([n,r],0),new Ua([i,s],0)]}class $w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Ua.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Ua.fromNumber(r)));return i.compare(Uz)===1&&(i=new Ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=t1(e),[r,i]=n1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $w(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=t1(e),[r,i]=n1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Id(W.min(),i,new Re(Q),vn(),J())}}class Td{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Td(r,n,J(),J(),J())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class Ab{constructor(e,n){this.targetId=e,this.ye=n}}class Rb{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class r1{constructor(){this.we=0,this.Se=s1(),this.be=Et.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=J(),n=J(),r=J();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Td(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=s1()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class $z{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=vn(),this.Ue=i1(),this.We=new Re(Q)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Gf(s))if(r===0){const o=new O(s.path);this.je(n,o,xe.newNoDocument(o,W.min()))}else q(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof Qx)return dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $w(o,i,s)}catch(l){return dr(l instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Gf(a.target)){const l=new O(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,xe.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=J();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Id(e,n,this.We,this.$e,r);return this.$e=vn(),this.Ue=i1(),this.We=new Re(Q),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new r1,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ae(Q),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||x("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new r1),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function i1(){return new Re(O.comparator)}function s1(){return new Re(O.comparator)}const jz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Bz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),zz=(()=>({and:"AND",or:"OR"}))();class Wz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function G_(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function cl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qz(t,e){return cl(t,e.toTimestamp())}function st(t){return q(!!t),W.fromTimestamp(function(n){const r=gs(n);return new $e(r.seconds,r.nanos)}(t))}function jw(t,e){return function(r){return new le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Pb(t){const e=le.fromString(t);return q(Lb(e)),e}function Fc(t,e){return jw(t.databaseId,e.path)}function Fr(t,e){const n=Pb(e);if(n.get(1)!==t.databaseId.projectId)throw new C(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(xb(n))}function H_(t,e){return jw(t.databaseId,e)}function Cb(t){const e=Pb(t);return e.length===4?le.emptyPath():xb(e)}function Uc(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xb(t){return q(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o1(t,e,n){return{name:Fc(t,e),fields:n.value.mapValue.fields}}function bb(t,e,n){const r=Fr(t,e.name),i=st(e.updateTime),s=e.createTime?st(e.createTime):W.min(),o=new Mt({mapValue:{fields:e.fields}}),a=xe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Gz(t,e){return"found"in e?function(r,i){q(!!i.found),i.found.name,i.found.updateTime;const s=Fr(r,i.found.name),o=st(i.found.updateTime),a=i.found.createTime?st(i.found.createTime):W.min(),l=new Mt({mapValue:{fields:i.found.fields}});return xe.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){q(!!i.missing),q(!!i.readTime);const s=Fr(r,i.missing),o=st(i.readTime);return xe.newNoDocument(s,o)}(t,e):U()}function Hz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(q(c===void 0||typeof c=="string"),Et.fromBase64String(c||"")):(q(c===void 0||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?T.UNKNOWN:Tb(u.code);return new C(c,u.message||"")}(o);n=new Rb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):W.min(),a=new Mt({mapValue:{fields:r.document.fields}}),l=xe.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fr(t,r.document),s=r.readTime?st(r.readTime):W.min(),o=xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fr(t,r.document),s=r.removedTargetIds||[];n=new jh([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Fz(i,s),a=r.targetId;n=new Ab(a,o)}}return n}function $c(t,e){let n;if(e instanceof Ol)n={update:o1(t,e.key,e.value)};else if(e instanceof Ml)n={delete:Fc(t,e.key)};else if(e instanceof Ri)n={update:o1(t,e.key,e.data),updateMask:Zz(e.fieldMask)};else{if(!(e instanceof Vw))return U();n={verify:Fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ll)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ul)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(t,e.precondition)),n}function K_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ue.updateTime(st(s.updateTime)):s.exists!==void 0?Ue.exists(s.exists):Ue.none()}(e.currentDocument):Ue.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)q(a.setToServerValue==="REQUEST_TIME"),l=new ll;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new So(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Ao(c)}else"increment"in a?l=new ul(o,a.increment):U();const u=Je.fromServerFormat(a.fieldPath);return new Ed(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Fr(t,e.update.name),s=new Mt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new _n(u.map(c=>Je.fromServerFormat(c)))}(e.updateMask);return new Ri(i,s,o,n,r)}return new Ol(i,s,n,r)}if(e.delete){const i=Fr(t,e.delete);return new Ml(i,n)}if(e.verify){const i=Fr(t,e.verify);return new Vw(i,n)}return U()}function Kz(t,e){return t&&t.length>0?(q(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?st(i.updateTime):st(s);return o.isEqual(W.min())&&(o=st(s)),new Mz(o,i.transformResults||[])}(n,e))):[]}function Nb(t,e){return{documents:[H_(t,e.path)]}}function Db(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=H_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=H_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Vb(ve.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:aa(d.field),direction:Qz(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=G_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Ob(t){let e=Cb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=Mb(d);return h instanceof ve&&Nw(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new $a(la(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,yd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new ws(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new ws(f,h)}(n.endAt)),ob(e,i,o,s,a,"F",l,u)}function Yz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=la(n.unaryFilter.field);return ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(n.unaryFilter.field);return ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=la(n.unaryFilter.field);return ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=la(n.unaryFilter.field);return ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return ie.create(la(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ve.create(n.compositeFilter.filters.map(r=>Mb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function Qz(t){return jz[t]}function Xz(t){return Bz[t]}function Jz(t){return zz[t]}function aa(t){return{fieldPath:t.canonicalString()}}function la(t){return Je.fromServerFormat(t.fieldPath)}function Vb(t){return t instanceof ie?function(n){if(n.op==="=="){if(zS(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(BS(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zS(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(BS(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:Xz(n.op),value:n.value}}}(t):t instanceof ve?function(n){const r=n.getFilters().map(i=>Vb(i));return r.length===1?r[0]:{compositeFilter:{op:Jz(n.op),filters:r}}}(t):U()}function Zz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Lb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.ht=e}}function eW(t,e){let n;if(e.document)n=bb(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=O.fromSegments(e.noDocument.path),i=ko(e.noDocument.readTime);n=xe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return U();{const r=O.fromSegments(e.unknownDocument.path),i=ko(e.unknownDocument.version);n=xe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new $e(i[0],i[1]);return W.fromTimestamp(s)}(e.readTime)),n}function a1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Fc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:cl(s,o.version.toTimestamp()),createTime:cl(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ro(e.version)};else{if(!e.isUnknownDocument())return U();r.unknownDocument={path:n.path.toArray(),version:Ro(e.version)}}return r}function Yf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ro(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ko(t){const e=new $e(t.seconds,t.nanoseconds);return W.fromTimestamp(e)}function qs(t,e){const n=(e.baseMutations||[]).map(s=>K_(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>K_(t.ht,s)),i=$e.fromMillis(e.localWriteTimeMs);return new Lw(e.batchId,i,n,r)}function Au(t){const e=ko(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ko(t.lastLimboFreeSnapshotVersion):W.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return q(s.documents.length===1),an(Dl(Cb(s.documents[0])))}(t.query):function(s){return an(Ob(s))}(t.query),new ri(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Et.fromBase64String(t.resumeToken))}function Ub(t,e){const n=Ro(e.snapshotVersion),r=Ro(e.lastLimboFreeSnapshotVersion);let i;i=Gf(e.target)?Nb(t.ht,e.target):Db(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:To(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Bw(t){const e=Ob({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kf(e,e.limit,"L"):e}function ey(t,e){return new Uw(e.largestBatchId,K_(t.ht,e.overlayMutation))}function l1(t,e){const n=e.path.lastSegment();return[t,on(e.path.popLast()),n]}function u1(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ro(r.readTime),documentKey:on(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{getBundleMetadata(e,n){return c1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ko(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return c1(e).put(function(i){return{bundleId:i.id,createTime:Ro(st(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return d1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Bw(s.bundledQuery),readTime:ko(s.readTime)}}(r)})}saveNamedQuery(e,n){return d1(e).put(function(i){return{name:i.name,readTime:Ro(st(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function c1(t){return Ct(t,"bundles")}function d1(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Em(e,r)}getOverlay(e,n){return ou(e).get(l1(this.userId,n)).next(r=>r?ey(this.serializer,r):null)}getOverlays(e,n){const r=br();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Uw(n,o);i.push(this.It(e,a))}),I.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(on(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ou(e).J("collectionPathOverlayIndex",a))}),I.waitFor(s)}getOverlaysForCollection(e,n,r){const i=br(),s=on(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ou(e).G("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ey(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=br();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ou(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=ey(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}It(e,n){return ou(e).put(function(i,s,o){const[a,l,u]=l1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:$c(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function ou(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Oc(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(ys(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?Xx(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):U()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),O.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Gs.Ct=new Gs;function nW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function h1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=nW(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class rW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=h1(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=h1(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iW{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class sW{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class au{constructor(){this.jt=new rW,this.Ht=new iW(this.jt),this.Jt=new sW(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hs(this.indexId,this.documentKey,this.arrayValue,r)}}function Di(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=f1(t.arrayValue,e.arrayValue),n!==0?n:(n=f1(t.directionalValue,e.directionalValue),n!==0?n:O.comparator(t.documentKey,e.documentKey)))}function f1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){q(e.collectionGroup===this.collectionId);const n=F_(e);if(n!==void 0&&!this.rn(n))return!1;const r=zs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const a=r[s];if(!this.sn(this.tn,a)||!this.on(this.Xt[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],a))return!1}return!0}_n(){let e=new Ae(Je.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Vh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Vh(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Vh(r.field,r.dir==="asc"?0:1)));return new qf(qf.UNKNOWN_ID,this.collectionId,n,Dc.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){var e,n;if(q(t instanceof ie||t instanceof ve),t instanceof ie){if(t instanceof sb){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ie.create(t.field,"==",s)))||[];return ve.create(i,"or")}return t}const r=t.filters.map(i=>$b(i));return ve.create(r,t.op)}function oW(t){if(t.getFilters().length===0)return[];const e=X_($b(t));return q(jb(e)),Y_(e)||Q_(e)?[e]:e.getFilters()}function Y_(t){return t instanceof ie}function Q_(t){return t instanceof ve&&Nw(t)}function jb(t){return Y_(t)||Q_(t)||function(n){if(n instanceof ve&&B_(n)){for(const r of n.getFilters())if(!Y_(r)&&!Q_(r))return!1;return!0}return!1}(t)}function X_(t){if(q(t instanceof ie||t instanceof ve),t instanceof ie)return t;if(t.filters.length===1)return X_(t.filters[0]);const e=t.filters.map(r=>X_(r));let n=ve.create(e,t.op);return n=Qf(n),jb(n)?n:(q(n instanceof ve),q(al(n)),q(n.filters.length>1),n.filters.reduce((r,i)=>zw(r,i)))}function zw(t,e){let n;return q(t instanceof ie||t instanceof ve),q(e instanceof ie||e instanceof ve),n=t instanceof ie?e instanceof ie?function(i,s){return ve.create([i,s],"and")}(t,e):m1(t,e):e instanceof ie?m1(e,t):function(i,s){if(q(i.filters.length>0&&s.filters.length>0),al(i)&&al(s))return nb(i,s.getFilters());const o=B_(i)?i:s,a=B_(i)?s:i,l=o.filters.map(u=>zw(u,a));return ve.create(l,"or")}(t,e),Qf(n)}function m1(t,e){if(al(e))return nb(e,t.getFilters());{const n=e.filters.map(r=>zw(t,r));return ve.create(n,"or")}}function Qf(t){if(q(t instanceof ie||t instanceof ve),t instanceof ie)return t;const e=t.getFilters();if(e.length===1)return Qf(e[0]);if(eb(t))return t;const n=e.map(i=>Qf(i)),r=[];return n.forEach(i=>{i instanceof ie?r.push(i):i instanceof ve&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.an=new Ww}addToCollectionParentIndex(e,n){return this.an.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Mn.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class Ww{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ae(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ae(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Uint8Array(0);class lW{constructor(e,n){this.user=e,this.databaseId=n,this.un=new Ww,this.cn=new Os(r=>To(r),(r,i)=>_d(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:on(i)};return g1(e).put(s)}return I.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Ux(n),""],!1,!0);return g1(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(xr(o.parent))}return r})}addFieldIndex(e,n){const r=lu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ea(e);return s.next(a=>{o.put(u1(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=lu(e),i=ea(e),s=Zo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=lu(e),r=Zo(e),i=ea(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return I.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new p1(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=Zo(e);let i=!0;const s=new Map;return I.forEach(this.ln(n),o=>this.hn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=J();const a=[];return I.forEach(s,(l,u)=>{x("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${To(n)}`);const c=function(_,E){const S=F_(E);if(S===void 0)return null;for(const R of Hf(_,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(u,l),d=function(_,E){const S=new Map;for(const R of zs(E))for(const A of Hf(_,R.fieldPath))switch(A.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),A.value),Array.from(S.values())}return null}(u,l),h=function(_,E){const S=[];let R=!0;for(const A of zs(E)){const L=A.kind===0?KS(_,A.fieldPath,_.startAt):YS(_,A.fieldPath,_.startAt);S.push(L.value),R&&(R=L.inclusive)}return new ws(S,R)}(u,l),f=function(_,E){const S=[];let R=!0;for(const A of zs(E)){const L=A.kind===0?YS(_,A.fieldPath,_.endAt):KS(_,A.fieldPath,_.endAt);S.push(L.value),R&&(R=L.inclusive)}return new ws(S,R)}(u,l),m=this.Pn(l,u,h),p=this.Pn(l,u,f),w=this.In(l,u,d),y=this.dn(l.indexId,c,m,h.inclusive,p,f.inclusive,w);return I.forEach(y,g=>r.H(g,n.limit).next(_=>{_.forEach(E=>{const S=O.fromSegments(E.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return I.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=oW(ve.create(e.filters,"and")).map(r=>W_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/u]):ah,f=this.En(e,h,r[d%u],i),m=this.An(e,h,s[d%u],o),p=a.map(w=>this.En(e,h,w,!0));c.push(...this.createRange(f,m,p))}return c}En(e,n,r,i){const s=new Hs(e,O.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Hs(e,O.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new p1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.nn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return I.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ae(Je.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new au;for(const i of zs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Gs.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new au;return Gs.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new au;return Gs.Ct.dt(Io(this.databaseId,n),r.Yt(function(s){const o=zs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new au);let s=0;for(const o of zs(e)){const a=r[s++];for(const l of i)if(this.mn(n,o.fieldPath)&&Lc(a))i=this.fn(i,o,a);else{const u=l.Yt(o.kind);Gs.Ct.dt(a,u)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new au;l.seed(a.zt()),Gs.Ct.dt(o,l.Yt(n.kind)),s.push(l)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=lu(e),i=ea(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return I.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Dc(d.sequenceNumber,new Mn(ko(d.readTime),new O(xr(d.documentKey)),d.largestBatchId)):Dc.empty(),f=c.fields.map(([m,p])=>new Vh(Je.fromServerFormat(m),p));return new qf(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Q(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=lu(e),s=ea(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>I.forEach(a,l=>s.put(u1(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return I.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?I.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),I.forEach(a,l=>this.yn(e,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?I.resolve():this.Sn(e,s,l,u,c)}))))})}bn(e,n,r,i){return Zo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return Zo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=Zo(e);let s=new Ae(Di);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,a)=>{s=s.add(new Hs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new Ae(Di);const i=this.Rn(n,e);if(i==null)return r;const s=F_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Lc(o))for(const a of o.arrayValue.values||[])r=r.add(new Hs(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Hs(n.indexId,e.key,ah,i));return r}Sn(e,n,r,i,s){x("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),m=u.getIterator();let p=Jo(f),w=Jo(m);for(;p||w;){let y=!1,g=!1;if(p&&w){const _=c(p,w);_<0?g=!0:_>0&&(y=!0)}else p!=null?g=!0:y=!0;y?(d(w),w=Jo(m)):g?(h(p),p=Jo(f)):(p=Jo(f),w=Jo(m))}}(i,s,Di,a=>{o.push(this.bn(e,n,r,a))},a=>{o.push(this.Dn(e,n,r,a))}),I.waitFor(o)}pn(e){let n=1;return ea(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Di(o,a)).filter((o,a,l)=>!a||Di(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Di(o,e),l=Di(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,ah,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,ah,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return Di(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(y1)}getMinOffset(e,n){return I.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||U())).next(y1)}}function g1(t){return Ct(t,"collectionParents")}function Zo(t){return Ct(t,"indexEntries")}function lu(t){return Ct(t,"indexConfiguration")}function ea(t){return Ct(t,"indexState")}function y1(t){q(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Cw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{q(a===1)}));const u=[];for(const c of n.mutations){const d=qx(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return I.waitFor(s).next(()=>u)}function Xf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw U();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Im{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){q(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Im(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oi(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=ua(e),o=Oi(e);return o.add({}).next(a=>{q(typeof a=="number");const l=new Lw(a,n,r,i),u=function(f,m,p){const w=p.baseMutations.map(g=>$c(f.ht,g)),y=p.mutations.map(g=>$c(f.ht,g));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:w,mutations:y}}(this.serializer,this.userId,l),c=[];let d=new Ae((h,f)=>Q(h.canonicalString(),f.canonicalString()));for(const h of i){const f=qx(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,Q6))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.vn[a]=l.keys()}),I.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Oi(e).get(n).next(r=>r?(q(r.userId===this.userId),qs(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?I.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Oi(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(q(a.batchId>=r),s=qs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Oi(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oi(e).G("userMutationsIndex",n).next(r=>r.map(i=>qs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Lh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return ua(e).Z({range:i},(o,a,l)=>{const[u,c,d]=o,h=xr(c);if(u===this.userId&&n.path.isEqual(h))return Oi(e).get(d).next(f=>{if(!f)throw U();q(f.userId===this.userId),s.push(qs(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(Q);const i=[];return n.forEach(s=>{const o=Lh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ua(e).Z({range:a},(u,c,d)=>{const[h,f,m]=u,p=xr(f);h===this.userId&&s.path.isEqual(p)?r=r.add(m):d.done()});i.push(l)}),I.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Lh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ae(Q);return ua(e).Z({range:o},(l,u,c)=>{const[d,h,f]=l,m=xr(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Mn(e,a))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Oi(e).get(s).next(o=>{if(o===null)throw U();q(o.userId===this.userId),r.push(qs(this.serializer,o))}))}),I.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Bb(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),I.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return I.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return ua(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=xr(s[1]);i.push(l)}else a.done()}).next(()=>{q(i.length===0)})})}containsKey(e,n){return zb(e,this.userId,n)}On(e){return Wb(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zb(t,e,n){const r=Lh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ua(t).Z({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Oi(t){return Ct(t,"mutations")}function ua(t){return Ct(t,"documentMutations")}function Wb(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Po(0)}static Ln(){return new Po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Po(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>W.fromTimestamp(new $e(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ta(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(q(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ta(e).Z((o,a)=>{const l=Au(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>I.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ta(e).Z((r,i)=>{const s=Au(i);n(s)})}kn(e){return v1(e).get("targetGlobalKey").next(n=>(q(n!==null),n))}qn(e,n){return v1(e).put("targetGlobalKey",n)}Qn(e,n){return ta(e).put(Ub(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=To(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ta(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Au(a);_d(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ji(e);return n.forEach(o=>{const a=on(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),I.waitFor(i)}removeMatchingKeys(e,n,r){const i=ji(e);return I.forEach(n,s=>{const o=on(s.path);return I.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ji(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ji(e);let s=J();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=xr(o[1]),c=new O(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=on(n.path),i=IDBKeyRange.bound([r],[Ux(r)],!1,!0);let s=0;return ji(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}lt(e,n){return ta(e).get(n).next(r=>r?Au(r):null)}}function ta(t){return Ct(t,"targets")}function v1(t){return Ct(t,"targetGlobal")}function ji(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1([t,e],[n,r]){const i=Q(t,n);return i===0?Q(e,r):i}class cW{constructor(e){this.$n=e,this.buffer=new Ae(w1),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){x("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?x("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ns(n)}await this.jn(3e5)})}}class hW{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return I.resolve(yn.ae);const r=new cW(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(x("LruGarbageCollector","Garbage collection skipped; disabled"),I.resolve(_1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_1):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),sa()<=ne.DEBUG&&x("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),I.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function fW(t,e){return new hW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n){this.db=e,this.garbageCollector=fW(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return lh(e,r)}removeReference(e,n,r){return lh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lh(e,n)}tr(e,n){return function(i,s){let o=!1;return Wb(i).X(a=>zb(i,a,s).next(l=>(l&&(o=!0),I.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,a)=>{if(a<=n){const l=this.tr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,W.min()),ji(e).delete(function(d){return[0,on(d.path)]}(o))))});i.push(l)}}).next(()=>I.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lh(e,n)}er(e,n){const r=ji(e);let i,s=yn.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==yn.ae&&n(new O(xr(i)),s),s=u,i=l):s=yn.ae}).next(()=>{s!==yn.ae&&n(new O(xr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lh(t,e){return ji(t).put(function(r,i){return{targetId:0,path:on(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Fs(e).put(r)}removeEntry(e,n,r){return Fs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Yf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=xe.newInvalidDocument(n);return Fs(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:xe.newInvalidDocument(n)};return Fs(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(i,s)=>{r={document:this.rr(n,s),size:Xf(s)}}).next(()=>r)}getEntries(e,n){let r=vn();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=vn(),i=new Re(O.comparator);return this.sr(e,n,(s,o)=>{const a=this.rr(s,o);r=r.insert(s,a),i=i.insert(s,Xf(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return I.resolve();let i=new Ae(T1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(uu(i.first()),uu(i.last())),o=i.getIterator();let a=o.getNext();return Fs(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=O.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&T1(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.W(uu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Yf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fs(e).G(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=vn();for(const d of u){const h=this.rr(O.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(wd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=vn();const o=I1(n,r),a=I1(n,Mn.max());return Fs(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.rr(O.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new gW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return E1(e).get("remoteDocumentGlobalKey").next(n=>(q(!!n),n))}nr(e,n){return E1(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=eW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(W.min())))return r}return xe.newInvalidDocument(e)}}function Gb(t){return new mW(t)}class gW extends qb{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Os(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ae((s,o)=>Q(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=a1(this.ur.serializer,o);i=i.add(s.path.popLast());const u=Xf(l);r+=u-a.size,n.push(this.ur.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=a1(this.ur.serializer,o.convertToNoDocument(W.min()));n.push(this.ur.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),I.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function E1(t){return Ct(t,"remoteDocumentGlobal")}function Fs(t){return Ct(t,"remoteDocumentsV14")}function uu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function I1(t,e){const n=e.documentKey.path.toArray();return[t,Yf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function T1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Q(n[s],r[s]),i)return i;return i=Q(n.length,r.length),i||(i=Q(n[n.length-2],r[r.length-2]),i||Q(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zu(r.mutation,i,_n.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){const i=br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=Bu(),a=function(){return Bu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ri)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),zu(c.mutation,u,c.mutation.getFieldMask(),$e.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new yW(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bu();let i=new Re((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||J()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=hb();c.forEach(h=>{if(!s.has(h)){const f=wb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return O.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ow(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(br());let a=-1,l=s;return o.next(u=>I.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,J())).next(c=>({batchId:a,changes:db(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Tu();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,l=>{const u=function(d,h){return new Ai(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,xe.newInvalidDocument(c)))});let a=Tu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&zu(c.mutation,u,_n.empty(),$e.now()),wd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return I.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:st(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:Bw(i.bundledQuery),readTime:st(i.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(){this.overlays=new Re(O.comparator),this.Pr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=br();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=br(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=br(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=br(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return I.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uw(n,r));let s=this.Pr.get(n);s===void 0&&(s=J(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Ir=new Ae(It.dr),this.Tr=new Ae(It.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new It(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new It(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new O(new le([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new O(new le([])),r=new It(n,e),i=new It(n,e+1);let s=J();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return O.comparator(e.key,n.key)||Q(e.yr,n.yr)}static Er(e,n){return Q(e.yr,n.yr)||O.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ae(It.dr)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(Q);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),I.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new It(new O(s),0);let a=new Ae(Q);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),I.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){q(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return I.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new It(n,0),i=this.Sr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.Fr=e,this.docs=function(){return new Re(O.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,a=new O(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Cw(jx(c),r)<=0||(i.has(c.key)||wd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}Mr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IW(this)}getSize(e){return I.resolve(this.size)}}class IW extends qb{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.persistence=e,this.Or=new Os(n=>To(n),_d),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Nr=0,this.Br=new qw,this.targetCount=0,this.Lr=Po.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),I.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Qn(n),I.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.kr={},this.overlays={},this.qr=new yn(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new TW(this),this.indexManager=new aW,this.remoteDocumentCache=function(i){return new EW(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new Fb(n),this.Ur=new _W(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new wW(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new SW(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return I.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class SW extends zx{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.jr=new qw,this.Hr=null}static Jr(e){return new Tm(e)}get Yr(){if(this.Hr)return this.Hr;throw U()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),I.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Yr,r=>{const i=O.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return I.or([()=>I.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this.serializer=e}B(e,n,r,i){const s=new gm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FS,{unique:!0}),l.createObjectStore("documentMutations")}(e),S1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=I.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),S1(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:W.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").G().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FS,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return I.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:lz});u.createIndex("collectionPathOverlayIndex",uz,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",cz,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:X6});u.createIndex("documentKeyIndex",J6),u.createIndex("collectionGroupIndex",Z6)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:iz}).createIndex("sequenceNumberIndex",sz,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:oz}).createIndex("documentKeyIndex",az,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Xf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>I.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>I.forEach(a,l=>{q(l.userId===s.userId);const u=qs(this.serializer,l);return Bb(e,s.userId,u).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new le(o),u=function(d){return[0,on(d)]}(l);s.push(n.get(u).next(c=>c?I.resolve():(d=>n.put({targetId:0,path:on(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>I.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:rz});const r=n.store("collectionParents"),i=new Ww,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:on(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new le(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=xr(a);return s(c.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Au(i),o=Ub(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new O(le.fromString(d.document.name).popFirst(5)):d.noDocument?O.fromSegments(d.noDocument.path):d.unknownDocument?O.fromSegments(d.unknownDocument.path):U()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>I.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=Gb(this.serializer),s=new Kb(Tm.Jr,this.serializer.ht);return r.G().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:J();qs(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),I.forEach(a,(l,u)=>{const c=new St(u),d=Em.Pt(this.serializer,c),h=s.getIndexManager(c),f=Im.Pt(c,this.serializer,h,s.referenceDelegate);return new Hb(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new U_(n,yn.ae),l).next()})})}}function S1(t){t.createObjectStore("targetDocuments",{keyPath:tz}).createIndex("documentTargetsIndex",nz,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ez,{unique:!0}),t.createObjectStore("targetGlobal")}const ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gw{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=a,this.ai=u,this.ui=c,this.ci=d,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!Gw.C())throw new C(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pW(this,i),this.Ti=n+"main",this.serializer=new Fb(l),this.Ei=new ir(this.Ti,this.ci,new AW(this.serializer)),this.Kr=new uW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gb(this.serializer),this.Ur=new tW,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,c===!1&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(T.FAILED_PRECONDITION,ty);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new yn(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Ds(e))return x("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return x("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return cu(e).get("owner").next(n=>I.resolve(this.bi(n)))}Di(e){return uh(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return I.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?I.resolve(!0):cu(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new C(T.FAILED_PRECONDITION,ty);return!1}}return!(!this.networkEnabled||!this.inForeground)||uh(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&x("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new U_(e,yn.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>uh(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Im.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lW(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Em.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){x("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?hz:l===14?Kx:l===13?Hx:l===12?dz:l===11?Gx:void U()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new U_(a,this.qr?this.qr.next():yn.ae),n==="readwrite-primary"?this.pi(o).next(l=>!!l||this.yi(o)).next(l=>{if(!l)throw it(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new C(T.FAILED_PRECONDITION,Bx);return r(o)}).next(l=>this.Si(o).next(()=>l)):this.qi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}qi(e){return cu(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new C(T.FAILED_PRECONDITION,ty)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cu(e).put("owner",n)}static C(){return ir.C()}wi(e){const n=cu(e);return n.get("owner").next(r=>this.bi(r)?(x("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):I.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(it(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;i$()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return x("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return it("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){it("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cu(t){return Ct(t,"owner")}function uh(t){return Ct(t,"clientMetadata")}function Hw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=J(),i=J();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Kw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RW;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(sa()<=ne.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),I.resolve()):(sa()<=ne.DEBUG&&x("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(sa()<=ne.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):I.resolve())}Hi(e,n){if(QS(n))return I.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kf(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=J(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(e,Kf(n,null,"F")):this.ts(e,u,n,l)}))})))}Ji(e,n,r,i){return QS(n)||i.isEqual(W.min())?I.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?I.resolve(null):(sa()<=ne.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.ts(e,o,n,$x(i,-1)).next(a=>a))})}Xi(e,n){let r=new Ae(ub(e));return n.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return sa()<=ne.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",oa(n)),this.ji.getDocumentsMatchingQuery(e,n,Mn.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Re(Q),this.ss=new Os(s=>To(s),_d),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hb(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function Qb(t,e,n,r){return new kW(t,e,n,r)}async function Xb(t,e){const n=M(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=J();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function PW(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=I.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(p=>{const w=u.docVersions.get(m);q(w!==null),p.version.compareTo(w)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=J();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jb(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function CW(t,e){const n=M(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,w,y){return p.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Kr.updateTargetData(s,f))});let l=vn(),u=J();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Zb(s,o,e.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!r.isEqual(W.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function Zb(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function xW(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dl(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function hl(t,e,n){const r=M(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ds(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Jf(t,e,n){const r=M(t);let i=W.min(),s=J();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=M(l),h=d.ss.get(c);return h!==void 0?I.resolve(d.rs.get(h)):d.Kr.getTargetData(u,c)}(r,o,an(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:J())).next(a=>(nN(r,lb(e),a),{documents:a,Ps:s})))}function eN(t,e){const n=M(t),r=M(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function tN(t,e){const n=M(t),r=n.os.get(e)||W.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,$x(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nN(n,e,i),i))}function nN(t,e,n){let r=t.os.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function bW(t,e,n,r){const i=M(t);let s=J(),o=vn();for(const u of n){const c=e.Is(u.metadata.name);u.document&&(s=s.add(c));const d=e.ds(u);d.setReadTime(e.Ts(u.metadata.readTime)),o=o.insert(c,d)}const a=i._s.newChangeBuffer({trackRemovals:!0}),l=await dl(i,function(c){return an(Dl(le.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>Zb(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Kr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Kr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.ls,c.hs)).next(()=>c.ls)))}async function NW(t,e,n=J()){const r=await dl(t,an(Bw(e.bundledQuery))),i=M(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=st(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const a=r.withResumeToken(Et.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(a.targetId,a),i.Kr.updateTargetData(s,a).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function A1(t,e){return`firestore_clients_${t}_${e}`}function R1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ny(t,e){return`firestore_targets_${t}_${e}`}class Zf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new C(i.error.code,i.error.message))),o?new Zf(e,n,i.state,s):(it("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new C(r.error.code,r.error.message))),s?new Wu(e,r.state,i):(it("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ep{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Mw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Wx(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new ep(e,s):(it("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Yw{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Yw(n.clientId,n.onlineState):(it("SharedClientState",`Failed to parse online state: ${e}`),null)}}class J_{constructor(){this.activeTargetIds=Mw()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ry{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Re(Q),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=A1(this.persistenceKey,this.fs),this.bs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new J_),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Ms=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(A1(this.persistenceKey,r));if(i){const s=ep.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ny(this.persistenceKey,e));if(r){const i=Wu.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ny(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return x("SharedClientState","READ",e,n),n}setItem(e,n){x("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){x("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(x("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=yn.ae;if(s!=null)try{const a=JSON.parse(s);q(typeof a=="number"),o=a}catch(a){it("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==yn.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new Zf(this.currentUser,e,n,r),s=R1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=R1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=ny(this.persistenceKey,e),s=new Wu(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return ep.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Zf.Es(new St(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return Wu.Es(i,n)}Os(e){return Yw.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);x("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.no(o,a).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=Mw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class rN{constructor(){this.ro=new J_,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new J_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function iy(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class VW extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=iy(),l=this.Do(n,r);x("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(c=>(x("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw dr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=OW[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=iy();return new Promise((o,a)=>{const l=new N6;l.setWithCredentials(!0),l.listenOnce(x6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zg.NO_ERROR:const c=l.getResponseJson();x(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Zg.TIMEOUT:x(zt,`RPC '${e}' ${s} timed out`),a(new C(T.DEADLINE_EXCEEDED,"Request time out"));break;case Zg.HTTP_ERROR:const d=l.getStatus();if(x(zt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(y)>=0?y:T.UNKNOWN}(f.status);a(new C(m,f.message))}else a(new C(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new C(T.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{x(zt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);x(zt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(e,n,r){const i=iy(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P6(),a=C6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");x(zt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const m=new MW({ho:w=>{f?x(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(x(zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(zt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Po:()=>d.close()}),p=(w,y,g)=>{w.listen(y,_=>{try{g(_)}catch(E){setTimeout(()=>{throw E},0)}})};return p(d,sh.EventType.OPEN,()=>{f||x(zt,`RPC '${e}' stream ${i} transport opened.`)}),p(d,sh.EventType.CLOSE,()=>{f||(f=!0,x(zt,`RPC '${e}' stream ${i} transport closed`),m.mo())}),p(d,sh.EventType.ERROR,w=>{f||(f=!0,dr(zt,`RPC '${e}' stream ${i} transport errored:`,w),m.mo(new C(T.UNAVAILABLE,"The operation could not be completed")))}),p(d,sh.EventType.MESSAGE,w=>{var y;if(!f){const g=w.data[0];q(!!g);const _=g,E=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(E){x(zt,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let R=function(te){const j=lt[te];if(j!==void 0)return Tb(j)}(S),A=E.message;R===void 0&&(R=T.INTERNAL,A="Unknown error status: "+S+" with message "+E.message),f=!0,m.mo(new C(R,A)),d.close()}else x(zt,`RPC '${e}' stream ${i} received:`,g),m.fo(g)}}),p(a,b6.STAT_EVENT,w=>{w.stat===OS.PROXY?x(zt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===OS.NOPROXY&&x(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof window<"u"?window:null}function Bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new Wz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Qw(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(it(n.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new C(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LW extends sN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=Hz(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?st(o.readTime):W.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Uc(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Gf(l)?{documents:Nb(s,l)}:{query:Db(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kb(s,o.resumeToken);const u=G_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=cl(s,o.snapshotVersion.toTimestamp());const u=G_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Yz(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Uc(this.serializer),n.removeTarget=e,this.n_(n)}}class FW extends sN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=Kz(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.T_(r,n)}return q(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Uc(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$c(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new C(T.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(T.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(T.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class $W{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(it(n),this.p_=!1):x("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{Ms(this)&&(x("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=M(l);u.F_.add(4),await Vl(u),u.O_.set("Unknown"),u.F_.delete(4),await Ad(u)}(this))})}),this.O_=new $W(r,i)}}async function Ad(t){if(Ms(t))for(const e of t.M_)await e(!0)}async function Vl(t){for(const e of t.M_)await e(!1)}function Sm(t,e){const n=M(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Zw(n)?Jw(n):Fl(n).Yo()&&Xw(n,e))}function jc(t,e){const n=M(t),r=Fl(n);n.v_.delete(e),r.Yo()&&oN(n,e),n.v_.size===0&&(r.Yo()?r.e_():Ms(n)&&n.O_.set("Unknown"))}function Xw(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(t).l_(e)}function oN(t,e){t.N_.Le(e),Fl(t).h_(e)}function Jw(t){t.N_=new $z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Fl(t).start(),t.O_.y_()}function Zw(t){return Ms(t)&&!Fl(t).Jo()&&t.v_.size>0}function Ms(t){return M(t).F_.size===0}function aN(t){t.N_=void 0}async function BW(t){t.v_.forEach((e,n)=>{Xw(t,e)})}async function zW(t,e){aN(t),Zw(t)?(t.O_.b_(e),Jw(t)):t.O_.set("Unknown")}async function WW(t,e,n){if(t.O_.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tp(t,r)}else if(e instanceof jh?t.N_.Ge(e):e instanceof Ab?t.N_.Xe(e):t.N_.He(e),!n.isEqual(W.min()))try{const r=await Jb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(Et.EMPTY_BYTE_STRING,c.snapshotVersion)),oN(s,l);const d=new ri(c.target,l,u,c.sequenceNumber);Xw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){x("RemoteStore","Failed to raise snapshot:",r),await tp(t,r)}}async function tp(t,e,n){if(!Ds(e))throw e;t.F_.add(1),await Vl(t),t.O_.set("Offline"),n||(n=()=>Jb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{x("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Ad(t)})}function lN(t,e){return e().catch(n=>tp(t,n,e))}async function Ll(t){const e=M(t),n=Es(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;qW(e);)try{const i=await xW(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,GW(e,i)}catch(i){await tp(e,i)}uN(e)&&cN(e)}function qW(t){return Ms(t)&&t.C_.length<10}function GW(t,e){t.C_.push(e);const n=Es(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function uN(t){return Ms(t)&&!Es(t).Jo()&&t.C_.length>0}function cN(t){Es(t).start()}async function HW(t){Es(t).A_()}async function KW(t){const e=Es(t);for(const n of t.C_)e.d_(n.mutations)}async function YW(t,e,n){const r=t.C_.shift(),i=Fw.from(r,e,n);await lN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ll(t)}async function QW(t,e){e&&Es(t).I_&&await async function(r,i){if(function(o){return Ib(o)&&o!==T.ABORTED}(i.code)){const s=r.C_.shift();Es(r).Xo(),await lN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ll(r)}}(t,e),uN(t)&&cN(t)}async function P1(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=Ms(n);n.F_.add(3),await Vl(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Ad(n)}async function Z_(t,e){const n=M(t);e?(n.F_.delete(2),await Ad(n)):e||(n.F_.add(2),await Vl(n),n.O_.set("Unknown"))}function Fl(t){return t.B_||(t.B_=function(n,r,i){const s=M(n);return s.V_(),new LW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:BW.bind(null,t),Eo:zW.bind(null,t),c_:WW.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Zw(t)?Jw(t):t.O_.set("Unknown")):(await t.B_.stop(),aN(t))})),t.B_}function Es(t){return t.L_||(t.L_=function(n,r,i){const s=M(n);return s.V_(),new FW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:HW.bind(null,t),Eo:QW.bind(null,t),E_:KW.bind(null,t),T_:YW.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Ll(t)):(await t.L_.stop(),t.C_.length>0&&(x("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ul(t,e){if(it("AsyncQueue",`${e}: ${t}`),Ds(t))return new C(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Tu(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.k_=new Re(O.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):U():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fl(e,n,Ba.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.Q_=void 0,this.listeners=[]}}class JW{constructor(){this.queries=new Os(e=>ab(e),vd),this.onlineState="Unknown",this.K_=new Set}}async function tE(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new XW),i)try{s.Q_=await n.onListen(r)}catch(o){const a=Ul(o,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&rE(n)}async function nE(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ZW(t,e){const n=M(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&rE(n)}function eq(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function rE(t){t.K_.forEach(e=>{e.next()})}class iE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.serializer=e}Is(e){return Fr(this.serializer,e)}ds(e){return e.metadata.exists?bb(this.serializer,e.document,!1):xe.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return st(e)}}class nq{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dN(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=le.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new x1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||J()).add(s);n.set(o,a)}}return n}async complete(){const e=await bW(this.localStore,new x1(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await NW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function dN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class pN{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=J(),this.mutatedKeys=J(),this.ua=ub(e),this.ca=new Ba(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new C1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=wd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?m!==p&&(r.track({type:3,doc:f}),w=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((u,c)=>function(h,f){const m=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return m(h)-m(f)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new fl(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new C1,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=J(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new fN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new hN(r))}),n}Ra(e){this.oa=e.Ps,this.aa=J();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return fl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class rq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iq{constructor(e){this.key=e,this.ma=!1}}class sq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Os(a=>ab(a),vd),this.pa=new Map,this.ya=new Set,this.wa=new Re(O.comparator),this.Sa=new Map,this.ba=new qw,this.Da={},this.Ca=new Map,this.va=Po.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function oq(t,e){const n=uE(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await dl(n.localStore,an(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await sE(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Sm(n.remoteStore,o)}return i}async function sE(t,e,n,r,i){t.Ma=(d,h,f)=>async function(p,w,y,g){let _=w.view.ha(y);_.es&&(_=await Jf(p.localStore,w.query,!1).then(({documents:R})=>w.view.ha(R,_)));const E=g&&g.targetChanges.get(w.targetId),S=w.view.applyChanges(_,p.isPrimaryClient,E);return ev(p,w.targetId,S.Ea),S.snapshot}(t,d,h,f);const s=await Jf(t.localStore,e,!0),o=new pN(e,s.Ps),a=o.ha(s.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);ev(t,n,u.Ea);const c=new rq(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function aq(t,e){const n=M(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!vd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jc(n.remoteStore,r.targetId),pl(n,r.targetId)}).catch(Ns)):(pl(n,r.targetId),await hl(n.localStore,r.targetId,!0))}async function lq(t,e,n){const r=cE(t);try{const i=await function(o,a){const l=M(o),u=$e.now(),c=a.reduce((f,m)=>f.add(m.key),J());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=vn(),p=J();return l._s.getEntries(f,c).next(w=>{m=w,m.forEach((y,g)=>{g.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const y=[];for(const g of a){const _=Lz(g,d.get(g.key).overlayedDocument);_!=null&&y.push(new Ri(g.key,_,Jx(_.value.mapValue),Ue.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(w=>{h=w;const y=w.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,w.batchId,y)})}).then(()=>({batchId:h.batchId,changes:db(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Re(Q)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await ki(r,i.changes),await Ll(r.remoteStore)}catch(i){const s=Ul(i,"Failed to persist write");n.reject(s)}}async function mN(t,e){const n=M(t);try{const r=await CW(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?q(o.ma):i.removedDocuments.size>0&&(q(o.ma),o.ma=!1))}),await ki(n,r,e)}catch(r){await Ns(r)}}function b1(t,e,n){const r=M(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=M(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.U_(a)&&(u=!0)}),u&&rE(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uq(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Re(O.comparator);o=o.insert(s,xe.newNoDocument(s,W.min()));const a=J().add(s),l=new Id(W.min(),new Map,new Re(Q),o,a);await mN(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),lE(r)}else await hl(r.localStore,e,!1).then(()=>pl(r,e,n)).catch(Ns)}async function cq(t,e){const n=M(t),r=e.batch.batchId;try{const i=await PW(n.localStore,e);aE(n,r,null),oE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ki(n,i)}catch(i){await Ns(i)}}async function dq(t,e,n){const r=M(t);try{const i=await function(o,a){const l=M(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(q(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);aE(r,e,n),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ki(r,i)}catch(i){await Ns(i)}}async function hq(t,e){const n=M(t);Ms(n.remoteStore)||x("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=M(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=Ul(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function oE(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function aE(t,e,n){const r=M(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function pl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||gN(t,r)})}function gN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(jc(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),lE(t))}function ev(t,e,n){for(const r of n)r instanceof hN?(t.ba.addReference(r.key,e),fq(t,r)):r instanceof fN?(x("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||gN(t,r.key)):U()}function fq(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(x("SyncEngine","New document in limbo: "+n),t.ya.add(r),lE(t))}function lE(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new O(le.fromString(e)),r=t.va.next();t.Sa.set(r,new iq(n)),t.wa=t.wa.insert(n,r),Sm(t.remoteStore,new ri(an(Dl(n.path)),r,"TargetPurposeLimboResolution",yn.ae))}}async function ki(t,e,n){const r=M(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Kw.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const c=M(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.Qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ds(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.rs.get(h),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);c.rs=c.rs.insert(h,p)}}}(r.localStore,s))}async function pq(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=await Xb(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new C(T.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ki(n,r.cs)}}function mq(t,e){const n=M(t),r=n.Sa.get(e);if(r&&r.ma)return J().add(r.key);{let i=J();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function gq(t,e){const n=M(t),r=await Jf(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&ev(n,e.targetId,i.Ea),i}async function yq(t,e){const n=M(t);return tN(n.localStore,e).then(r=>ki(n,r))}async function _q(t,e,n,r){const i=M(t),s=await function(a,l){const u=M(a),c=M(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Fn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):I.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Ll(i.remoteStore):n==="acknowledged"||n==="rejected"?(aE(i,e,r||null),oE(i,e),function(a,l){M(M(a).mutationQueue).xn(l)}(i.localStore,e)):U(),await ki(i,s)):x("SyncEngine","Cannot apply mutation batch with id: "+e)}async function vq(t,e){const n=M(t);if(uE(n),cE(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await N1(n,r.toArray());n.Fa=!0,await Z_(n.remoteStore,!0);for(const s of i)Sm(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(pl(n,o),hl(n.localStore,o,!0))),jc(n.remoteStore,o)}),await i,await N1(n,r),function(o){const a=M(o);a.Sa.forEach((l,u)=>{jc(a.remoteStore,u)}),a.ba.gr(),a.Sa=new Map,a.wa=new Re(O.comparator)}(n),n.Fa=!1,await Z_(n.remoteStore,!1)}}async function N1(t,e,n){const r=M(t),i=[],s=[];for(const o of e){let a;const l=r.pa.get(o);if(l&&l.length!==0){a=await dl(r.localStore,an(l[0]));for(const u of l){const c=r.ga.get(u),d=await gq(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await eN(r.localStore,o);a=await dl(r.localStore,u),await sE(r,yN(u),o,!1,a.resumeToken)}i.push(a)}return r.fa.c_(s),i}function yN(t){return ob(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wq(t){return function(n){return M(M(n).persistence).ki()}(M(t).localStore)}async function Eq(t,e,n,r){const i=M(t);if(i.Fa)return void x("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await tN(i.localStore,lb(s[0])),a=Id.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Et.EMPTY_BYTE_STRING);await ki(i,o,a);break}case"rejected":await hl(i.localStore,e,!0),pl(i,e,r);break;default:U()}}async function Iq(t,e,n){const r=uE(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){x("SyncEngine","Adding an already active target "+i);continue}const s=await eN(r.localStore,i),o=await dl(r.localStore,s);await sE(r,yN(s),o.targetId,!1,o.resumeToken),Sm(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await hl(r.localStore,i,!1).then(()=>{jc(r.remoteStore,i),pl(r,i)}).catch(Ns)}}function uE(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uq.bind(null,e),e.fa.c_=ZW.bind(null,e.eventManager),e.fa.xa=eq.bind(null,e.eventManager),e}function cE(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dq.bind(null,e),e}function Tq(t,e,n){const r=M(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,m){const p=M(f),w=st(m.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",y=>p.Ur.getBundleMetadata(y,m.id)).then(y=>!!y&&y.createTime.compareTo(w)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(dN(l));const u=new nq(l,s.localStore,o.serializer);let c=await o.Oa();for(;c;){const h=await u.na(c);h&&a._updateProgress(h),c=await o.Oa()}const d=await u.complete();return await ki(s,d.sa,void 0),await function(f,m){const p=M(f);return p.persistence.runTransaction("Save bundle","readwrite",w=>p.Ur.saveBundleMetadata(w,m))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(l){return dr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class tv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Qb(this.persistence,new Yb,e.initialUser,this.serializer)}createPersistence(e){return new Kb(Tm.Jr,this.serializer)}createSharedClientState(e){return new rN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _N extends tv{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await cE(this.Na.syncEngine),await Ll(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Qb(this.persistence,new Yb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new dW(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new K6(n,this.persistence);return new H6(e.asyncQueue,r)}createPersistence(e){const n=Hw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Gw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,iN(),Bh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rN}}class Sq extends _N{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof ry&&(this.sharedClientState.syncEngine={Xs:_q.bind(null,n),eo:Eq.bind(null,n),no:Iq.bind(null,n),ki:wq.bind(null,n),Zs:yq.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await vq(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=iN();if(!ry.C(n))throw new C(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ry(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class dE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pq.bind(null,this.syncEngine),await Z_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JW}()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=function(s){return new VW(s)}(e.databaseInfo);return function(s,o,a,l){return new UW(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new jW(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b1(this.syncEngine,n,0),function(){return k1.C()?new k1:new DW}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new sq(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=M(n);x("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Vl(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Rt,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new tq(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=M(i),a=Uc(o.serializer)+"/documents",l={documents:s.map(h=>Fc(o.serializer,h))},u=await o.Fo("BatchGetDocuments",a,l,s.length),c=new Map;u.forEach(h=>{const f=Gz(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());q(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ml(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=O.fromPath(r);this.mutations.push(new Vw(i,this.precondition(i)))}),await async function(r,i){const s=M(r),o=Uc(s.serializer)+"/documents",a={writes:i.map(l=>$c(s.serializer,l))};await s.bo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw U();n=W.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new C(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(W.min())?Ue.exists(!1):Ue.updateTime(n):Ue.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(W.min()))throw new C(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(n)}return Ue.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new Qw(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new Rq(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!yd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ib(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=Fx.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{x("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(x("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ul(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zh(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hE(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>P1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>P1(e.remoteStore,s)),t._onlineComponents=e}function vN(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{await zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vN(n))throw n;dr("Error using user provided cache. Falling back to memory cache: "+n),await zh(t,new tv)}}else x("FirestoreClient","Using default OfflineComponentProvider"),await zh(t,new tv);return t._offlineComponents}async function Rm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),await nv(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),await nv(t,new dE))),t._onlineComponents}function wN(t){return hE(t).then(e=>e.persistence)}function fE(t){return hE(t).then(e=>e.localStore)}function EN(t){return Rm(t).then(e=>e.remoteStore)}function pE(t){return Rm(t).then(e=>e.syncEngine)}function Cq(t){return Rm(t).then(e=>e.datastore)}async function ml(t){const e=await Rm(t),n=e.eventManager;return n.onListen=oq.bind(null,e.syncEngine),n.onUnlisten=aq.bind(null,e.syncEngine),n}function xq(t){return t.asyncQueue.enqueue(async()=>{const e=await wN(t),n=await EN(t);return e.setNetworkEnabled(!0),function(i){const s=M(i);return s.F_.delete(0),Ad(s)}(n)})}function bq(t){return t.asyncQueue.enqueue(async()=>{const e=await wN(t),n=await EN(t);return e.setNetworkEnabled(!1),async function(i){const s=M(i);s.F_.add(0),await Vl(s),s.O_.set("Offline")}(n)})}function Nq(t,e){const n=new Rt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=M(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new C(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Ul(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await fE(t),e,n)),n.promise}function IN(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Am({next:h=>{o.enqueueAndForget(()=>nE(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new C(T.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new C(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new iE(Dl(a.path),c,{includeMetadataChanges:!0,Z_:!0});return tE(s,d)}(await ml(t),t.asyncQueue,e,n,r)),r.promise}function Dq(t,e){const n=new Rt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Jf(i,s,!0),l=new pN(s,a.Ps),u=l.ha(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=Ul(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await fE(t),e,n)),n.promise}function TN(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Am({next:h=>{o.enqueueAndForget(()=>nE(s,d)),h.fromCache&&l.source==="server"?u.reject(new C(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new iE(a,c,{includeMetadataChanges:!0,Z_:!0});return tE(s,d)}(await ml(t),t.asyncQueue,e,n,r)),r.promise}function Oq(t,e){const n=new Am(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){M(i).K_.add(s),s.next()}(await ml(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){M(i).K_.delete(s)}(await ml(t),n))}}function Mq(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?Sb().encode(o):o,function(c,d){return new Aq(c,d)}(function(c,d){if(c instanceof Uint8Array)return D1(c,d);if(c instanceof ArrayBuffer)return D1(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Sd(e));t.asyncQueue.enqueueAndForget(async()=>{Tq(await pE(t),i,r)})}function Vq(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=M(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await fE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new C(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AN(t,e,n,r){if(e===!0&&r===!0)throw new C(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!O.isDocumentKey(t))throw new C(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(O.isDocumentKey(t))throw new C(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new C(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RN(t,e){if(e<=0)throw new C(T.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V6;switch(r.type){case"firstParty":return new $6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O1.get(n);r&&(x("ComponentProvider","Removing Datastore"),O1.delete(n),r.terminate())}(this),Promise.resolve()}}function Lq(t,e,n,r={}){var i;const s=(t=fe(t,Rd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=St.MOCK_USER;else{a=t$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new L6(new Lx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class kN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kN(this.firestore,e,this._query)}},ze=class PN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new PN(this.firestore,e,this._key)}},as=class CN extends ln{constructor(e,n,r){super(e,n,Dl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new O(e))}withConverter(e){return new CN(this.firestore,e,this._path)}};function xN(t,e,...n){if(t=H(t),mE("collection","path",e),t instanceof Rd){const r=le.fromString(e,...n);return V1(r),new as(t,null,r)}{if(!(t instanceof ze||t instanceof as))throw new C(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return V1(r),new as(t.firestore,null,r)}}function Fq(t,e){if(t=fe(t,Rd),mE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(T.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ln(t,null,function(r){return new Ai(le.emptyPath(),r)}(e))}function np(t,e,...n){if(t=H(t),arguments.length===1&&(e=Fx.V()),mE("doc","path",e),t instanceof Rd){const r=le.fromString(e,...n);return M1(r),new ze(t,null,new O(r))}{if(!(t instanceof ze||t instanceof as))throw new C(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return M1(r),new ze(t.firestore,t instanceof as?t.converter:null,new O(r))}}function bN(t,e){return t=H(t),e=H(e),(t instanceof ze||t instanceof as)&&(e instanceof ze||e instanceof as)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function NN(t,e){return t=H(t),e=H(e),t instanceof ln&&e instanceof ln&&t.firestore===e.firestore&&vd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Qw(this,"async_queue_retry"),this.ou=()=>{const n=Bh();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Bh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Rt;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Ds(e))throw e;x("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw it("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=eE.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&U()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function rv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $q{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=-1;let tt=class extends Rd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Uq}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DN(this),this._firestoreClient.terminate()}};function xt(t){return t._firestoreClient||DN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new mz(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,SN(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Pq(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Bq(t,e){MN(t=fe(t,tt));const n=xt(t);if(n._uninitializedComponentsProvider)throw new C(T.FAILED_PRECONDITION,"SDK cache is already specified.");dr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new dE;return ON(n,i,new _N(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function zq(t){MN(t=fe(t,tt));const e=xt(t);if(e._uninitializedComponentsProvider)throw new C(T.FAILED_PRECONDITION,"SDK cache is already specified.");dr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new dE;return ON(e,r,new Sq(r,n.cacheSizeBytes))}function ON(t,e,n){const r=new Rt;return t.asyncQueue.enqueue(async()=>{try{await zh(t,n),await nv(t,e),r.resolve()}catch(i){const s=i;if(!vN(s))throw s;dr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Wq(t){if(t._initialized&&!t._terminated)throw new C(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ir.C())return Promise.resolve();const i=r+"main";await ir.delete(i)}(Hw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function qq(t){return function(n){const r=new Rt;return n.asyncQueue.enqueueAndForget(async()=>hq(await pE(n),r)),r.promise}(xt(t=fe(t,tt)))}function Gq(t){return xq(xt(t=fe(t,tt)))}function Hq(t){return bq(xt(t=fe(t,tt)))}function Kq(t,e){const n=xt(t=fe(t,tt)),r=new $q;return Mq(n,t._databaseId,e,r),r}function Yq(t,e){return Vq(xt(t=fe(t,tt)),e).then(n=>n?new ln(t,null,n.query):null)}function MN(t){if(t._initialized||t._terminated)throw new C(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(Et.fromBase64String(e))}catch(n){throw new C(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=/^__.*__$/;class Xq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}class VN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return rp(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(LN(this.Tu)&&Qq.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Jq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}wu(e,n,r,i=!1){return new Cm({Tu:e,methodName:n,yu:r,path:Je.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uo(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new Jq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xm(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);vE("Data must be an object, but it was:",o,r);const a=$N(r,o);let l,u;if(s.merge)l=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=iv(e,d,n);if(!o.contains(h))throw new C(T.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BN(c,h)||c.push(h)}l=new _n(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Xq(new Mt(a),l,u)}class kd extends Fo{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function FN(t,e,n){return new Cm({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gE extends Fo{_toFieldTransform(e){return new Ed(e.path,new ll)}isEqual(e){return e instanceof gE}}class Zq extends Fo{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=FN(this,e,!0),r=this.Su.map(s=>$o(s,n)),i=new So(r);return new Ed(e.path,i)}isEqual(e){return this===e}}class eG extends Fo{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=FN(this,e,!0),r=this.Su.map(s=>$o(s,n)),i=new Ao(r);return new Ed(e.path,i)}isEqual(e){return this===e}}class tG extends Fo{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new ul(e.serializer,mb(e.serializer,this.bu));return new Ed(e.path,n)}isEqual(e){return this===e}}function yE(t,e,n,r){const i=t.wu(1,e,n);vE("Data must be an object, but it was:",i,r);const s=[],o=Mt.empty();Lo(r,(l,u)=>{const c=wE(e,l,n);u=H(u);const d=i.mu(c);if(u instanceof kd)s.push(c);else{const h=$o(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new _n(s);return new VN(o,a,i.fieldTransforms)}function _E(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[iv(e,r,n)],l=[i];if(s.length%2!=0)throw new C(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(iv(e,s[h])),l.push(s[h+1]);const u=[],c=Mt.empty();for(let h=a.length-1;h>=0;--h)if(!BN(u,a[h])){const f=a[h];let m=l[h];m=H(m);const p=o.mu(f);if(m instanceof kd)u.push(f);else{const w=$o(m,p);w!=null&&(u.push(f),c.set(f,w))}}const d=new _n(u);return new VN(c,d,o.fieldTransforms)}function UN(t,e,n,r=!1){return $o(n,t.wu(r?4:3,e))}function $o(t,e){if(jN(t=H(t)))return vE("Unsupported field value:",e,t),$N(t,e);if(t instanceof Fo)return function(r,i){if(!LN(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$o(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=H(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$e.fromDate(r);return{timestampValue:cl(i.serializer,s)}}if(r instanceof $e){const s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cl(i.serializer,s)}}if(r instanceof Pm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:kb(i.serializer,r._byteString)};if(r instanceof ze){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${km(r)}`)}(t,e)}function $N(t,e){const n={};return Yx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{const s=$o(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Pm||t instanceof Br||t instanceof ze||t instanceof Fo)}function vE(t,e,n){if(!jN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=km(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function iv(t,e,n){if((e=H(e))instanceof Is)return e._internalPath;if(typeof e=="string")return wE(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const nG=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(nG)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Is(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new C(T.INVALID_ARGUMENT,a+t+l)}function BN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rG extends Bc{data(){return super.data()}}function bm(t,e){return typeof e=="string"?wE(t,e):e instanceof Is?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EE{}class Pd extends EE{}function Mi(t,e,...n){let r=[];e instanceof EE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof IE).length,a=s.filter(l=>l instanceof Nm).length;if(o>1||o>0&&a>0)throw new C(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nm extends Pd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nm(e,n,r)}_apply(e){const n=this._parse(e);return qN(e._query,n),new ln(e.firestore,e.converter,q_(e._query,n))}_parse(e){const n=Uo(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new C(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){U1(d,c);const f=[];for(const m of d)f.push(F1(l,s,m));h={arrayValue:{values:f}}}else h=F1(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||U1(d,c),h=UN(a,o,d,c==="in"||c==="not-in");return ie.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iG(t,e,n){const r=e,i=bm("where",t);return Nm._create(i,r,n)}class IE extends EE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)qN(o,l),o=q_(o,l)}(e._query,n),new ln(e.firestore,e.converter,q_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TE extends Pd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new C(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new $a(s,o);return function(u,c){if(Dw(u)===null){const d=_m(u);d!==null&&GN(u,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ai(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sG(t,e="asc"){const n=e,r=bm("orderBy",t);return TE._create(r,n)}class Dm extends Pd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dm(e,n,r)}_apply(e){return new ln(e.firestore,e.converter,Kf(e._query,this._limit,this._limitType))}}function oG(t){return RN("limit",t),Dm._create("limit",t,"F")}function aG(t){return RN("limitToLast",t),Dm._create("limitToLast",t,"L")}class Om extends Pd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Om(e,n,r)}_apply(e){const n=WN(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(i,s){return new Ai(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function lG(...t){return Om._create("startAt",t,!0)}function uG(...t){return Om._create("startAfter",t,!1)}class Mm extends Pd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Mm(e,n,r)}_apply(e){const n=WN(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(i,s){return new Ai(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function cG(...t){return Mm._create("endBefore",t,!1)}function dG(...t){return Mm._create("endAt",t,!0)}function WN(t,e,n,r){if(n[0]=H(n[0]),n[0]instanceof Bc)return function(s,o,a,l,u){if(!l)throw new C(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of ja(s))if(d.field.isKeyField())c.push(Io(o,l.key));else{const h=l.data.field(d.field);if(ym(h))throw new C(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new C(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new ws(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Uo(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new C(T.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let m=0;m<c.length;m++){const p=c[m];if(h[m].field.isKeyField()){if(typeof p!="string")throw new C(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!Ow(o)&&p.indexOf("/")!==-1)throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const w=o.path.child(le.fromString(p));if(!O.isDocumentKey(w))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const y=new O(w);f.push(Io(a,y))}else{const w=UN(l,u,p);f.push(w)}}return new ws(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function F1(t,e,n){if(typeof(n=H(n))=="string"){if(n==="")throw new C(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&n.indexOf("/")!==-1)throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(le.fromString(n));if(!O.isDocumentKey(r))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Io(t,new O(r))}if(n instanceof ze)return Io(t,n._key);throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function U1(t,e){if(!Array.isArray(t)||t.length===0)throw new C(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qN(t,e){if(e.isInequality()){const r=_m(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new C(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Dw(t);s!==null&&GN(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GN(t,e,n){if(!n.isEqual(e))throw new C(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class SE{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Pm(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=gs(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);q(Lb(r));const i=new _s(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||it(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hG extends SE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let vi=class extends Bc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qu=class extends vi{data(e={}){return super.data(e)}},Ts=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qu(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new qu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new qu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:fG(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function fG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function HN(t,e){return t instanceof vi&&e instanceof vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ts&&e instanceof Ts&&t._firestore===e._firestore&&NN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){t=fe(t,ze);const e=fe(t.firestore,tt);return IN(xt(e),t._key).then(n=>AE(e,t,n))}class jo extends SE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function mG(t){t=fe(t,ze);const e=fe(t.firestore,tt),n=xt(e),r=new jo(e);return Nq(n,t._key).then(i=>new vi(e,r,t._key,i,new to(i!==null&&i.hasLocalMutations,!0),t.converter))}function gG(t){t=fe(t,ze);const e=fe(t.firestore,tt);return IN(xt(e),t._key,{source:"server"}).then(n=>AE(e,t,n))}function yG(t){t=fe(t,ln);const e=fe(t.firestore,tt),n=xt(e),r=new jo(e);return zN(t._query),TN(n,t._query).then(i=>new Ts(e,r,t,i))}function _G(t){t=fe(t,ln);const e=fe(t.firestore,tt),n=xt(e),r=new jo(e);return Dq(n,t._query).then(i=>new Ts(e,r,t,i))}function vG(t){t=fe(t,ln);const e=fe(t.firestore,tt),n=xt(e),r=new jo(e);return TN(n,t._query,{source:"server"}).then(i=>new Ts(e,r,t,i))}function $1(t,e,n){t=fe(t,ze);const r=fe(t.firestore,tt),i=Vm(t.converter,e,n);return Cd(r,[xm(Uo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ue.none())])}function j1(t,e,n,...r){t=fe(t,ze);const i=fe(t.firestore,tt),s=Uo(i);let o;return o=typeof(e=H(e))=="string"||e instanceof Is?_E(s,"updateDoc",t._key,e,n,r):yE(s,"updateDoc",t._key,e),Cd(i,[o.toMutation(t._key,Ue.exists(!0))])}function wG(t){return Cd(fe(t.firestore,tt),[new Ml(t._key,Ue.none())])}function EG(t,e){const n=fe(t.firestore,tt),r=np(t),i=Vm(t.converter,e);return Cd(n,[xm(Uo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}function KN(t,...e){var n,r,i;t=H(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||rv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rv(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ze)u=fe(t.firestore,tt),c=Dl(t._key.path),l={next:d=>{e[o]&&e[o](AE(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,ln);u=fe(d.firestore,tt),c=d._query;const h=new jo(u);l={next:f=>{e[o]&&e[o](new Ts(u,h,d,f))},error:e[o+1],complete:e[o+2]},zN(t._query)}return function(h,f,m,p){const w=new Am(p),y=new iE(f,w,m);return h.asyncQueue.enqueueAndForget(async()=>tE(await ml(h),y)),()=>{w.La(),h.asyncQueue.enqueueAndForget(async()=>nE(await ml(h),y))}}(xt(u),c,a,l)}function IG(t,e){return Oq(xt(t=fe(t,tt)),rv(e)?e:{next:e})}function Cd(t,e){return function(r,i){const s=new Rt;return r.asyncQueue.enqueueAndForget(async()=>lq(await pE(r),i,s)),s.promise}(xt(t),e)}function AE(t,e,n){const r=n.docs.get(e._key),i=new jo(t);return new vi(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SG=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uo(e)}set(e,n,r){this._verifyNotCommitted();const i=Bi(e,this._firestore),s=Vm(i.converter,n,r),o=xm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ue.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Bi(e,this._firestore);let o;return o=typeof(n=H(n))=="string"||n instanceof Is?_E(this._dataReader,"WriteBatch.update",s._key,n,r,i):yE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ue.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bi(e,this._firestore);return this._mutations=this._mutations.concat(new Ml(n._key,Ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Bi(t,e){if((t=H(t)).firestore!==e)throw new C(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AG=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Uo(n)}get(n){const r=Bi(n,this._firestore),i=new hG(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return U();const o=s[0];if(o.isFoundDocument())return new Bc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Bc(this._firestore,i,r._key,null,r.converter);throw U()})}set(n,r,i){const s=Bi(n,this._firestore),o=Vm(s.converter,r,i),a=xm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Bi(n,this._firestore);let a;return a=typeof(r=H(r))=="string"||r instanceof Is?_E(this._dataReader,"Transaction.update",o._key,r,i,s):yE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Bi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bi(e,this._firestore),r=new jo(this._firestore);return super.get(e).then(i=>new vi(this._firestore,r,n._key,i._document,new to(!1,!1),n.converter))}};function RG(t,e,n){t=fe(t,tt);const r=Object.assign(Object.assign({},TG),n);return function(s){if(s.maxAttempts<1)throw new C(T.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Rt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await Cq(s);new kq(s.asyncQueue,u,a,o,l).run()}),l.promise}(xt(t),i=>e(new AG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(){return new kd("deleteField")}function PG(){return new gE("serverTimestamp")}function CG(...t){return new Zq("arrayUnion",t)}function xG(...t){return new eG("arrayRemove",t)}function bG(t){return new tG("increment",t)}(function(e,n=!0){(function(i){Nl=i})(Ps),fs(new Ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tt(new F6(r.getProvider("auth-internal")),new B6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Lr(MS,"4.2.0",e),Lr(MS,"4.2.0","esm2017")})();const NG="@firebase/firestore-compat",DG="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new C("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){if(typeof Uint8Array>"u")throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function z1(){if(!fz())throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}let YN=class sv{constructor(e){this._delegate=e}static fromBase64String(e){return z1(),new sv(Br.fromBase64String(e))}static fromUint8Array(e){return B1(),new sv(Br.fromUint8Array(e))}toBase64(){return z1(),this._delegate.toBase64()}toUint8Array(){return B1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){return OG(t,["next","error","complete"])}function OG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{enableIndexedDbPersistence(e,n){return Bq(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return zq(e._delegate)}clearIndexedDbPersistence(e){return Wq(e._delegate)}}class QN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _s||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&dr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Lq(this._delegate,e,n,r)}enableNetwork(){return Gq(this._delegate)}disableNetwork(){return Hq(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return qq(this._delegate)}onSnapshotsInSync(e){return IG(this._delegate,e)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gl(this,xN(this._delegate,e))}catch(n){throw tn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Gn(this,np(this._delegate,e))}catch(n){throw tn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new en(this,Fq(this._delegate,e))}catch(n){throw tn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return RG(this._delegate,n=>e(new XN(this,n)))}batch(){return xt(this._delegate),new JN(new SG(this._delegate,e=>Cd(this._delegate,e)))}loadBundle(e){return Kq(this._delegate,e)}namedQuery(e){return Yq(this._delegate,e).then(n=>n?new en(this,n):null)}}class Lm extends SE{constructor(e){super(),this.firestore=e}convertBytes(e){return new YN(new Br(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Gn.forKey(n,this.firestore,null)}}function VG(t){O6(t)}class XN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Lm(e)}get(e){const n=no(e);return this._delegate.get(n).then(r=>new zc(this._firestore,new vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=no(e);return r?(RE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=no(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=no(e);return this._delegate.delete(n),this}}class JN{constructor(e){this._delegate=e}set(e,n,r){const i=no(e);return r?(RE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=no(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=no(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Co{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new qu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Co.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Co(e,new Lm(e),n),i.set(n,s)),s}}Co.INSTANCES=new WeakMap;class Gn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Lm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gn(n,new ze(n._delegate,r,new O(e)))}static forKey(e,n,r){return new Gn(n,new ze(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gl(this.firestore,xN(this._delegate,e))}catch(n){throw tn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=H(e),e instanceof ze?bN(this._delegate,e):!1}set(e,n){n=RE("DocumentReference.set",n);try{return n?$1(this._delegate,e,n):$1(this._delegate,e)}catch(r){throw tn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?j1(this._delegate,e):j1(this._delegate,e,n,...r)}catch(i){throw tn(i,"updateDoc()","DocumentReference.update()")}}delete(){return wG(this._delegate)}onSnapshot(...e){const n=ZN(e),r=eD(e,i=>new zc(this.firestore,new vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return KN(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=mG(this._delegate):(e==null?void 0:e.source)==="server"?n=gG(this._delegate):n=pG(this._delegate),n.then(r=>new zc(this.firestore,new vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Gn(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tn(t,e,n){return t.message=t.message.replace(e,n),t}function ZN(t){for(const e of t)if(typeof e=="object"&&!ov(e))return e;return{}}function eD(t,e){var n,r;let i;return ov(t[0])?i=t[0]:ov(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class zc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Gn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return HN(this._delegate,e._delegate)}}class Wc extends zc{data(e){const n=this._delegate.data(e);return M6(n!==void 0),n}}class en{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Lm(e)}where(e,n,r){try{return new en(this.firestore,Mi(this._delegate,iG(e,n,r)))}catch(i){throw tn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new en(this.firestore,Mi(this._delegate,sG(e,n)))}catch(r){throw tn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new en(this.firestore,Mi(this._delegate,oG(e)))}catch(n){throw tn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new en(this.firestore,Mi(this._delegate,aG(e)))}catch(n){throw tn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new en(this.firestore,Mi(this._delegate,lG(...e)))}catch(n){throw tn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new en(this.firestore,Mi(this._delegate,uG(...e)))}catch(n){throw tn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new en(this.firestore,Mi(this._delegate,cG(...e)))}catch(n){throw tn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new en(this.firestore,Mi(this._delegate,dG(...e)))}catch(n){throw tn(n,"endAt()","Query.endAt()")}}isEqual(e){return NN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_G(this._delegate):(e==null?void 0:e.source)==="server"?n=vG(this._delegate):n=yG(this._delegate),n.then(r=>new av(this.firestore,new Ts(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=ZN(e),r=eD(e,i=>new av(this.firestore,new Ts(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return KN(this._delegate,n,r)}withConverter(e){return new en(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class LG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class av{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new en(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new LG(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Wc(this._firestore,r))})}isEqual(e){return HN(this._delegate,e._delegate)}}class gl extends en{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gn(this.firestore,e):null}doc(e){try{return e===void 0?new Gn(this.firestore,np(this._delegate)):new Gn(this.firestore,np(this._delegate,e))}catch(n){throw tn(n,"doc()","CollectionReference.doc()")}}add(e){return EG(this._delegate,e).then(n=>new Gn(this.firestore,n))}isEqual(e){return bN(this._delegate,e._delegate)}withConverter(e){return new gl(this.firestore,e?this._delegate.withConverter(Co.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function no(t){return fe(t,ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(...e){this._delegate=new Is(...e)}static documentId(){return new kE(Je.keyField().canonicalString())}isEqual(e){return e=H(e),e instanceof Is?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._delegate=e}static serverTimestamp(){const e=PG();return e._methodName="FieldValue.serverTimestamp",new Ks(e)}static delete(){const e=kG();return e._methodName="FieldValue.delete",new Ks(e)}static arrayUnion(...e){const n=CG(...e);return n._methodName="FieldValue.arrayUnion",new Ks(n)}static arrayRemove(...e){const n=xG(...e);return n._methodName="FieldValue.arrayRemove",new Ks(n)}static increment(e){const n=bG(e);return n._methodName="FieldValue.increment",new Ks(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG={Firestore:QN,GeoPoint:Pm,Timestamp:$e,Blob:YN,Transaction:XN,WriteBatch:JN,DocumentReference:Gn,DocumentSnapshot:zc,Query:en,QueryDocumentSnapshot:Wc,QuerySnapshot:av,CollectionReference:gl,FieldPath:kE,FieldValue:Ks,setLogLevel:VG,CACHE_SIZE_UNLIMITED:jq};function UG(t,e){t.INTERNAL.registerComponent(new Ur("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},FG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){UG(t,(e,n)=>new QN(e,n,new MG)),t.registerVersion(NG,DG)}$G(Oo);const jG={apiKey:"AIzaSyA0cf5yoLZNqpChhcTerveFCnh9jpKYEdo",authDomain:"e-clone-7e5a1.firebaseapp.com",projectId:"e-clone-7e5a1",storageBucket:"e-clone-7e5a1.appspot.com",messagingSenderId:"99881660681",appId:"1:99881660681:web:8a717d2ed372b918f463d8",measurementId:"G-DQCRN7J1X9"},BG=Oo.initializeApp(jG),ip=Oo.auth(),tD=BG.firestore();//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var nD;function F(){return nD.apply(null,arguments)}function zG(t){nD=t}function hr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function co(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PE(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(pe(t,e))return!1;return!0}function hn(t){return t===void 0}function wi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function xd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function rD(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Yi(t,e){for(var n in e)pe(e,n)&&(t[n]=e[n]);return pe(e,"toString")&&(t.toString=e.toString),pe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Wr(t,e,n,r){return kD(t,e,n,r,!0).utc()}function WG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Z(t){return t._pf==null&&(t._pf=WG()),t._pf}var lv;Array.prototype.some?lv=Array.prototype.some:lv=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function CE(t){if(t._isValid==null){var e=Z(t),n=lv.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Fm(t){var e=Wr(NaN);return t!=null?Yi(Z(e),t):Z(e).userInvalidated=!0,e}var W1=F.momentProperties=[],sy=!1;function xE(t,e){var n,r,i,s=W1.length;if(hn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),hn(e._i)||(t._i=e._i),hn(e._f)||(t._f=e._f),hn(e._l)||(t._l=e._l),hn(e._strict)||(t._strict=e._strict),hn(e._tzm)||(t._tzm=e._tzm),hn(e._isUTC)||(t._isUTC=e._isUTC),hn(e._offset)||(t._offset=e._offset),hn(e._pf)||(t._pf=Z(e)),hn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=W1[n],i=e[r],hn(i)||(t[r]=i);return t}function bd(t){xE(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),sy===!1&&(sy=!0,F.updateOffset(this),sy=!1)}function fr(t){return t instanceof bd||t!=null&&t._isAMomentObject!=null}function iD(t){F.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Jn(t,e){var n=!0;return Yi(function(){if(F.deprecationHandler!=null&&F.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])pe(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}iD(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var q1={};function sD(t,e){F.deprecationHandler!=null&&F.deprecationHandler(t,e),q1[t]||(iD(e),q1[t]=!0)}F.suppressDeprecationWarnings=!1;F.deprecationHandler=null;function qr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function qG(t){var e,n;for(n in t)pe(t,n)&&(e=t[n],qr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function uv(t,e){var n=Yi({},t),r;for(r in e)pe(e,r)&&(co(t[r])&&co(e[r])?(n[r]={},Yi(n[r],t[r]),Yi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)pe(t,r)&&!pe(e,r)&&co(t[r])&&(n[r]=Yi({},n[r]));return n}function bE(t){t!=null&&this.set(t)}var cv;Object.keys?cv=Object.keys:cv=function(t){var e,n=[];for(e in t)pe(t,e)&&n.push(e);return n};var GG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function HG(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return qr(r)?r.call(e,n):r}function zr(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var NE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oy={},za={};function G(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(za[t]=i),e&&(za[e[0]]=function(){return zr(i.apply(this,arguments),e[1],e[2])}),n&&(za[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function KG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function YG(t){var e=t.match(NE),n,r;for(n=0,r=e.length;n<r;n++)za[e[n]]?e[n]=za[e[n]]:e[n]=KG(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=qr(e[o])?e[o].call(i,t):e[o];return s}}function Wh(t,e){return t.isValid()?(e=oD(e,t.localeData()),oy[e]=oy[e]||YG(e),oy[e](t)):t.localeData().invalidDate()}function oD(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(dh.lastIndex=0;n>=0&&dh.test(t);)t=t.replace(dh,r),dh.lastIndex=0,n-=1;return t}var QG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function XG(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(NE).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var JG="Invalid date";function ZG(){return this._invalidDate}var e8="%d",t8=/\d{1,2}/;function n8(t){return this._ordinal.replace("%d",t)}var r8={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i8(t,e,n,r){var i=this._relativeTime[n];return qr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function s8(t,e){var n=this._relativeTime[t>0?"future":"past"];return qr(n)?n(e):n.replace(/%s/i,e)}var Gu={};function Qt(t,e){var n=t.toLowerCase();Gu[n]=Gu[n+"s"]=Gu[e]=t}function Zn(t){return typeof t=="string"?Gu[t]||Gu[t.toLowerCase()]:void 0}function DE(t){var e={},n,r;for(r in t)pe(t,r)&&(n=Zn(r),n&&(e[n]=t[r]));return e}var aD={};function Xt(t,e){aD[t]=e}function o8(t){var e=[],n;for(n in t)pe(t,n)&&e.push({unit:n,priority:aD[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Um(t){return t%4===0&&t%100!==0||t%400===0}function zn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ee(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=zn(e)),n}function $l(t,e){return function(n){return n!=null?(lD(this,t,n),F.updateOffset(this,e),this):sp(this,t)}}function sp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function lD(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Um(t.year())&&t.month()===1&&t.date()===29?(n=ee(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),qm(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function a8(t){return t=Zn(t),qr(this[t])?this[t]():this}function l8(t,e){if(typeof t=="object"){t=DE(t);var n=o8(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Zn(t),qr(this[t]))return this[t](e);return this}var uD=/\d/,Fn=/\d\d/,cD=/\d{3}/,OE=/\d{4}/,$m=/[+-]?\d{6}/,De=/\d\d?/,dD=/\d\d\d\d?/,hD=/\d\d\d\d\d\d?/,jm=/\d{1,3}/,ME=/\d{1,4}/,Bm=/[+-]?\d{1,6}/,jl=/\d+/,zm=/[+-]?\d+/,u8=/Z|[+-]\d\d:?\d\d/gi,Wm=/Z|[+-]\d\d(?::?\d\d)?/gi,c8=/[+-]?\d+(\.\d{1,3})?/,Nd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,op;op={};function $(t,e,n){op[t]=qr(e)?e:function(r,i){return r&&n?n:e}}function d8(t,e){return pe(op,t)?op[t](e._strict,e._locale):new RegExp(h8(t))}function h8(t){return kn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function kn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dv={};function Ie(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),wi(e)&&(r=function(s,o){o[e]=ee(s)}),i=t.length,n=0;n<i;n++)dv[t[n]]=r}function Dd(t,e){Ie(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function f8(t,e,n){e!=null&&pe(dv,t)&&dv[t](e,n._a,n,t)}var Kt=0,ii=1,Rr=2,wt=3,sr=4,si=5,ro=6,p8=7,m8=8;function g8(t,e){return(t%e+e)%e}var nt;Array.prototype.indexOf?nt=Array.prototype.indexOf:nt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function qm(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=g8(e,12);return t+=(e-n)/12,n===1?Um(t)?29:28:31-n%7%2}G("M",["MM",2],"Mo",function(){return this.month()+1});G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});G("MMMM",0,0,function(t){return this.localeData().months(this,t)});Qt("month","M");Xt("month",8);$("M",De);$("MM",De,Fn);$("MMM",function(t,e){return e.monthsShortRegex(t)});$("MMMM",function(t,e){return e.monthsRegex(t)});Ie(["M","MM"],function(t,e){e[ii]=ee(t)-1});Ie(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[ii]=i:Z(n).invalidMonth=t});var y8="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_8=Nd,v8=Nd;function w8(t,e){return t?hr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||pD).test(e)?"format":"standalone"][t.month()]:hr(this._months)?this._months:this._months.standalone}function E8(t,e){return t?hr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[pD.test(e)?"format":"standalone"][t.month()]:hr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function I8(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Wr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=nt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=nt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=nt.call(this._shortMonthsParse,o),i!==-1?i:(i=nt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=nt.call(this._longMonthsParse,o),i!==-1?i:(i=nt.call(this._shortMonthsParse,o),i!==-1?i:null))}function T8(t,e,n){var r,i,s;if(this._monthsParseExact)return I8.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Wr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function mD(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ee(e);else if(e=t.localeData().monthsParse(e),!wi(e))return t}return n=Math.min(t.date(),qm(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function gD(t){return t!=null?(mD(this,t),F.updateOffset(this,!0),this):sp(this,"Month")}function S8(){return qm(this.year(),this.month())}function A8(t){return this._monthsParseExact?(pe(this,"_monthsRegex")||yD.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(pe(this,"_monthsShortRegex")||(this._monthsShortRegex=_8),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function R8(t){return this._monthsParseExact?(pe(this,"_monthsRegex")||yD.call(this),t?this._monthsStrictRegex:this._monthsRegex):(pe(this,"_monthsRegex")||(this._monthsRegex=v8),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yD(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Wr([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=kn(e[i]),n[i]=kn(n[i]);for(i=0;i<24;i++)r[i]=kn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}G("Y",0,0,function(){var t=this.year();return t<=9999?zr(t,4):"+"+t});G(0,["YY",2],0,function(){return this.year()%100});G(0,["YYYY",4],0,"year");G(0,["YYYYY",5],0,"year");G(0,["YYYYYY",6,!0],0,"year");Qt("year","y");Xt("year",1);$("Y",zm);$("YY",De,Fn);$("YYYY",ME,OE);$("YYYYY",Bm,$m);$("YYYYYY",Bm,$m);Ie(["YYYYY","YYYYYY"],Kt);Ie("YYYY",function(t,e){e[Kt]=t.length===2?F.parseTwoDigitYear(t):ee(t)});Ie("YY",function(t,e){e[Kt]=F.parseTwoDigitYear(t)});Ie("Y",function(t,e){e[Kt]=parseInt(t,10)});function Hu(t){return Um(t)?366:365}F.parseTwoDigitYear=function(t){return ee(t)+(ee(t)>68?1900:2e3)};var _D=$l("FullYear",!0);function k8(){return Um(this.year())}function P8(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function qc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ap(t,e,n){var r=7+e-n,i=(7+qc(t,0,r).getUTCDay()-e)%7;return-i+r-1}function vD(t,e,n,r,i){var s=(7+n-r)%7,o=ap(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=Hu(l)+a):a>Hu(t)?(l=t+1,u=a-Hu(t)):(l=t,u=a),{year:l,dayOfYear:u}}function Gc(t,e,n){var r=ap(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+ci(o,e,n)):i>ci(t.year(),e,n)?(s=i-ci(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function ci(t,e,n){var r=ap(t,e,n),i=ap(t+1,e,n);return(Hu(t)-r+i)/7}G("w",["ww",2],"wo","week");G("W",["WW",2],"Wo","isoWeek");Qt("week","w");Qt("isoWeek","W");Xt("week",5);Xt("isoWeek",5);$("w",De);$("ww",De,Fn);$("W",De);$("WW",De,Fn);Dd(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ee(t)});function C8(t){return Gc(t,this._week.dow,this._week.doy).week}var x8={dow:0,doy:6};function b8(){return this._week.dow}function N8(){return this._week.doy}function D8(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function O8(t){var e=Gc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}G("d",0,"do","day");G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});G("e",0,0,"weekday");G("E",0,0,"isoWeekday");Qt("day","d");Qt("weekday","e");Qt("isoWeekday","E");Xt("day",11);Xt("weekday",11);Xt("isoWeekday",11);$("d",De);$("e",De);$("E",De);$("dd",function(t,e){return e.weekdaysMinRegex(t)});$("ddd",function(t,e){return e.weekdaysShortRegex(t)});$("dddd",function(t,e){return e.weekdaysRegex(t)});Dd(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Z(n).invalidWeekday=t});Dd(["d","e","E"],function(t,e,n,r){e[r]=ee(t)});function M8(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function V8(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function VE(t,e){return t.slice(e,7).concat(t.slice(0,e))}var L8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),F8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),U8=Nd,$8=Nd,j8=Nd;function B8(t,e){var n=hr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?VE(n,this._week.dow):t?n[t.day()]:n}function z8(t){return t===!0?VE(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function W8(t){return t===!0?VE(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function q8(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Wr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=nt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=nt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=nt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=nt.call(this._weekdaysParse,o),i!==-1||(i=nt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=nt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=nt.call(this._shortWeekdaysParse,o),i!==-1||(i=nt.call(this._weekdaysParse,o),i!==-1)?i:(i=nt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=nt.call(this._minWeekdaysParse,o),i!==-1||(i=nt.call(this._weekdaysParse,o),i!==-1)?i:(i=nt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function G8(t,e,n){var r,i,s;if(this._weekdaysParseExact)return q8.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Wr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function H8(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=M8(t,this.localeData()),this.add(t-e,"d")):e}function K8(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Y8(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=V8(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Q8(t){return this._weekdaysParseExact?(pe(this,"_weekdaysRegex")||LE.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(pe(this,"_weekdaysRegex")||(this._weekdaysRegex=U8),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function X8(t){return this._weekdaysParseExact?(pe(this,"_weekdaysRegex")||LE.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(pe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$8),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function J8(t){return this._weekdaysParseExact?(pe(this,"_weekdaysRegex")||LE.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(pe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=j8),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function LE(){function t(c,d){return d.length-c.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=Wr([2e3,1]).day(s),a=kn(this.weekdaysMin(o,"")),l=kn(this.weekdaysShort(o,"")),u=kn(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function FE(){return this.hours()%12||12}function Z8(){return this.hours()||24}G("H",["HH",2],0,"hour");G("h",["hh",2],0,FE);G("k",["kk",2],0,Z8);G("hmm",0,0,function(){return""+FE.apply(this)+zr(this.minutes(),2)});G("hmmss",0,0,function(){return""+FE.apply(this)+zr(this.minutes(),2)+zr(this.seconds(),2)});G("Hmm",0,0,function(){return""+this.hours()+zr(this.minutes(),2)});G("Hmmss",0,0,function(){return""+this.hours()+zr(this.minutes(),2)+zr(this.seconds(),2)});function ED(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}ED("a",!0);ED("A",!1);Qt("hour","h");Xt("hour",13);function ID(t,e){return e._meridiemParse}$("a",ID);$("A",ID);$("H",De);$("h",De);$("k",De);$("HH",De,Fn);$("hh",De,Fn);$("kk",De,Fn);$("hmm",dD);$("hmmss",hD);$("Hmm",dD);$("Hmmss",hD);Ie(["H","HH"],wt);Ie(["k","kk"],function(t,e,n){var r=ee(t);e[wt]=r===24?0:r});Ie(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Ie(["h","hh"],function(t,e,n){e[wt]=ee(t),Z(n).bigHour=!0});Ie("hmm",function(t,e,n){var r=t.length-2;e[wt]=ee(t.substr(0,r)),e[sr]=ee(t.substr(r)),Z(n).bigHour=!0});Ie("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[wt]=ee(t.substr(0,r)),e[sr]=ee(t.substr(r,2)),e[si]=ee(t.substr(i)),Z(n).bigHour=!0});Ie("Hmm",function(t,e,n){var r=t.length-2;e[wt]=ee(t.substr(0,r)),e[sr]=ee(t.substr(r))});Ie("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[wt]=ee(t.substr(0,r)),e[sr]=ee(t.substr(r,2)),e[si]=ee(t.substr(i))});function eH(t){return(t+"").toLowerCase().charAt(0)==="p"}var tH=/[ap]\.?m?\.?/i,nH=$l("Hours",!0);function rH(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var TD={calendar:GG,longDateFormat:QG,invalidDate:JG,ordinal:e8,dayOfMonthOrdinalParse:t8,relativeTime:r8,months:y8,monthsShort:fD,week:x8,weekdays:L8,weekdaysMin:F8,weekdaysShort:wD,meridiemParse:tH},Le={},du={},Hc;function iH(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function G1(t){return t&&t.toLowerCase().replace("_","-")}function sH(t){for(var e=0,n,r,i,s;e<t.length;){for(s=G1(t[e]).split("-"),n=s.length,r=G1(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Gm(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&iH(s,r)>=n-1)break;n--}e++}return Hc}function oH(t){return t.match("^[^/\\\\]*$")!=null}function Gm(t){var e=null,n;if(Le[t]===void 0&&typeof Jh<"u"&&Jh&&Jh.exports&&oH(t))try{e=Hc._abbr,n=require,n("./locale/"+t),ls(e)}catch{Le[t]=null}return Le[t]}function ls(t,e){var n;return t&&(hn(e)?n=Pi(t):n=UE(t,e),n?Hc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Hc._abbr}function UE(t,e){if(e!==null){var n,r=TD;if(e.abbr=t,Le[t]!=null)sD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Le[t]._config;else if(e.parentLocale!=null)if(Le[e.parentLocale]!=null)r=Le[e.parentLocale]._config;else if(n=Gm(e.parentLocale),n!=null)r=n._config;else return du[e.parentLocale]||(du[e.parentLocale]=[]),du[e.parentLocale].push({name:t,config:e}),null;return Le[t]=new bE(uv(r,e)),du[t]&&du[t].forEach(function(i){UE(i.name,i.config)}),ls(t),Le[t]}else return delete Le[t],null}function aH(t,e){if(e!=null){var n,r,i=TD;Le[t]!=null&&Le[t].parentLocale!=null?Le[t].set(uv(Le[t]._config,e)):(r=Gm(t),r!=null&&(i=r._config),e=uv(i,e),r==null&&(e.abbr=t),n=new bE(e),n.parentLocale=Le[t],Le[t]=n),ls(t)}else Le[t]!=null&&(Le[t].parentLocale!=null?(Le[t]=Le[t].parentLocale,t===ls()&&ls(t)):Le[t]!=null&&delete Le[t]);return Le[t]}function Pi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hc;if(!hr(t)){if(e=Gm(t),e)return e;t=[t]}return sH(t)}function lH(){return cv(Le)}function $E(t){var e,n=t._a;return n&&Z(t).overflow===-2&&(e=n[ii]<0||n[ii]>11?ii:n[Rr]<1||n[Rr]>qm(n[Kt],n[ii])?Rr:n[wt]<0||n[wt]>24||n[wt]===24&&(n[sr]!==0||n[si]!==0||n[ro]!==0)?wt:n[sr]<0||n[sr]>59?sr:n[si]<0||n[si]>59?si:n[ro]<0||n[ro]>999?ro:-1,Z(t)._overflowDayOfYear&&(e<Kt||e>Rr)&&(e=Rr),Z(t)._overflowWeeks&&e===-1&&(e=p8),Z(t)._overflowWeekday&&e===-1&&(e=m8),Z(t).overflow=e),t}var uH=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cH=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dH=/Z|[+-]\d\d(?::?\d\d)?/,hh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ay=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hH=/^\/?Date\((-?\d+)/i,fH=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pH={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function SD(t){var e,n,r=t._i,i=uH.exec(r)||cH.exec(r),s,o,a,l,u=hh.length,c=ay.length;if(i){for(Z(t).iso=!0,e=0,n=u;e<n;e++)if(hh[e][1].exec(i[1])){o=hh[e][0],s=hh[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(ay[e][1].exec(i[3])){a=(i[2]||" ")+ay[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(dH.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),BE(t)}else t._isValid=!1}function mH(t,e,n,r,i,s){var o=[gH(t),fD.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function gH(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function yH(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _H(t,e,n){if(t){var r=wD.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Z(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function vH(t,e,n){if(t)return pH[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function AD(t){var e=fH.exec(yH(t._i)),n;if(e){if(n=mH(e[4],e[3],e[2],e[5],e[6],e[7]),!_H(e[1],n,t))return;t._a=n,t._tzm=vH(e[8],e[9],e[10]),t._d=qc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Z(t).rfc2822=!0}else t._isValid=!1}function wH(t){var e=hH.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(SD(t),t._isValid===!1)delete t._isValid;else return;if(AD(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:F.createFromInputFallback(t)}F.createFromInputFallback=Jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ca(t,e,n){return t??e??n}function EH(t){var e=new Date(F.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function jE(t){var e,n,r=[],i,s,o;if(!t._d){for(i=EH(t),t._w&&t._a[Rr]==null&&t._a[ii]==null&&IH(t),t._dayOfYear!=null&&(o=ca(t._a[Kt],i[Kt]),(t._dayOfYear>Hu(o)||t._dayOfYear===0)&&(Z(t)._overflowDayOfYear=!0),n=qc(o,0,t._dayOfYear),t._a[ii]=n.getUTCMonth(),t._a[Rr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[wt]===24&&t._a[sr]===0&&t._a[si]===0&&t._a[ro]===0&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?qc:P8).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Z(t).weekdayMismatch=!0)}}function IH(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=ca(e.GG,t._a[Kt],Gc(Ne(),1,4).year),r=ca(e.W,1),i=ca(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=Gc(Ne(),s,o),n=ca(e.gg,t._a[Kt],u.year),r=ca(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>ci(n,s,o)?Z(t)._overflowWeeks=!0:l!=null?Z(t)._overflowWeekday=!0:(a=vD(n,r,i,s,o),t._a[Kt]=a.year,t._dayOfYear=a.dayOfYear)}F.ISO_8601=function(){};F.RFC_2822=function(){};function BE(t){if(t._f===F.ISO_8601){SD(t);return}if(t._f===F.RFC_2822){AD(t);return}t._a=[],Z(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,c;for(i=oD(t._f,t._locale).match(NE)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(e.match(d8(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Z(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),za[s]?(r?Z(t).empty=!1:Z(t).unusedTokens.push(s),f8(s,r,t)):t._strict&&!r&&Z(t).unusedTokens.push(s);Z(t).charsLeftOver=a-l,e.length>0&&Z(t).unusedInput.push(e),t._a[wt]<=12&&Z(t).bigHour===!0&&t._a[wt]>0&&(Z(t).bigHour=void 0),Z(t).parsedDateParts=t._a.slice(0),Z(t).meridiem=t._meridiem,t._a[wt]=TH(t._locale,t._a[wt],t._meridiem),u=Z(t).era,u!==null&&(t._a[Kt]=t._locale.erasConvertYear(u,t._a[Kt])),jE(t),$E(t)}function TH(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function SH(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){Z(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=xE({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],BE(e),CE(e)&&(o=!0),s+=Z(e).charsLeftOver,s+=Z(e).unusedTokens.length*10,Z(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Yi(t,n||e)}function AH(t){if(!t._d){var e=DE(t._i),n=e.day===void 0?e.date:e.day;t._a=rD([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),jE(t)}}function RH(t){var e=new bd($E(RD(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function RD(t){var e=t._i,n=t._f;return t._locale=t._locale||Pi(t._l),e===null||n===void 0&&e===""?Fm({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),fr(e)?new bd($E(e)):(xd(e)?t._d=e:hr(n)?SH(t):n?BE(t):kH(t),CE(t)||(t._d=null),t))}function kH(t){var e=t._i;hn(e)?t._d=new Date(F.now()):xd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?wH(t):hr(e)?(t._a=rD(e.slice(0),function(n){return parseInt(n,10)}),jE(t)):co(e)?AH(t):wi(e)?t._d=new Date(e):F.createFromInputFallback(t)}function kD(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(co(t)&&PE(t)||hr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,RH(s)}function Ne(t,e,n,r){return kD(t,e,n,r,!1)}var PH=Jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ne.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Fm()}),CH=Jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ne.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Fm()});function PD(t,e){var n,r;if(e.length===1&&hr(e[0])&&(e=e[0]),!e.length)return Ne();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function xH(){var t=[].slice.call(arguments,0);return PD("isBefore",t)}function bH(){var t=[].slice.call(arguments,0);return PD("isAfter",t)}var NH=function(){return Date.now?Date.now():+new Date},hu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function DH(t){var e,n=!1,r,i=hu.length;for(e in t)if(pe(t,e)&&!(nt.call(hu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[hu[r]]){if(n)return!1;parseFloat(t[hu[r]])!==ee(t[hu[r]])&&(n=!0)}return!0}function OH(){return this._isValid}function MH(){return pr(NaN)}function Hm(t){var e=DE(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=DH(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Pi(),this._bubble()}function qh(t){return t instanceof Hm}function hv(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function VH(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&ee(t[o])!==ee(e[o]))&&s++;return s+i}function CD(t,e){G(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+zr(~~(n/60),2)+e+zr(~~n%60,2)})}CD("Z",":");CD("ZZ","");$("Z",Wm);$("ZZ",Wm);Ie(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=zE(Wm,t)});var LH=/([\+\-]|\d\d)/gi;function zE(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(LH)||["-",0,0],s=+(i[1]*60)+ee(i[2]),s===0?0:i[0]==="+"?s:-s)}function WE(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(fr(t)||xd(t)?t.valueOf():Ne(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),F.updateOffset(n,!1),n):Ne(t).local()}function fv(t){return-Math.round(t._d.getTimezoneOffset())}F.updateOffset=function(){};function FH(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=zE(Wm,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=fv(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?ND(this,pr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,F.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:fv(this)}function UH(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function $H(t){return this.utcOffset(0,t)}function jH(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fv(this),"m")),this}function BH(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=zE(u8,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function zH(t){return this.isValid()?(t=t?Ne(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function WH(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qH(){if(!hn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return xE(t,this),t=RD(t),t._a?(e=t._isUTC?Wr(t._a):Ne(t._a),this._isDSTShifted=this.isValid()&&VH(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function GH(){return this.isValid()?!this._isUTC:!1}function HH(){return this.isValid()?this._isUTC:!1}function xD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var KH=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,YH=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pr(t,e){var n=t,r=null,i,s,o;return qh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:wi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=KH.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ee(r[Rr])*i,h:ee(r[wt])*i,m:ee(r[sr])*i,s:ee(r[si])*i,ms:ee(hv(r[ro]*1e3))*i}):(r=YH.exec(t))?(i=r[1]==="-"?-1:1,n={y:Us(r[2],i),M:Us(r[3],i),w:Us(r[4],i),d:Us(r[5],i),h:Us(r[6],i),m:Us(r[7],i),s:Us(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=QH(Ne(n.from),Ne(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Hm(n),qh(t)&&pe(t,"_locale")&&(s._locale=t._locale),qh(t)&&pe(t,"_isValid")&&(s._isValid=t._isValid),s}pr.fn=Hm.prototype;pr.invalid=MH;function Us(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function H1(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function QH(t,e){var n;return t.isValid()&&e.isValid()?(e=WE(e,t),t.isBefore(e)?n=H1(t,e):(n=H1(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function bD(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(sD(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=pr(n,r),ND(this,i,t),this}}function ND(t,e,n,r){var i=e._milliseconds,s=hv(e._days),o=hv(e._months);t.isValid()&&(r=r??!0,o&&mD(t,sp(t,"Month")+o*n),s&&lD(t,"Date",sp(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&F.updateOffset(t,s||o))}var XH=bD(1,"add"),JH=bD(-1,"subtract");function DD(t){return typeof t=="string"||t instanceof String}function ZH(t){return fr(t)||xd(t)||DD(t)||wi(t)||t7(t)||e7(t)||t===null||t===void 0}function e7(t){var e=co(t)&&!PE(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||pe(t,s);return e&&n}function t7(t){var e=hr(t),n=!1;return e&&(n=t.filter(function(r){return!wi(r)&&DD(t)}).length===0),e&&n}function n7(t){var e=co(t)&&!PE(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||pe(t,s);return e&&n}function r7(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function i7(t,e){arguments.length===1&&(arguments[0]?ZH(arguments[0])?(t=arguments[0],e=void 0):n7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ne(),r=WE(n,this).startOf("day"),i=F.calendarFormat(this,r)||"sameElse",s=e&&(qr(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ne(n)))}function s7(){return new bd(this)}function o7(t,e){var n=fr(t)?t:Ne(t);return this.isValid()&&n.isValid()?(e=Zn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function a7(t,e){var n=fr(t)?t:Ne(t);return this.isValid()&&n.isValid()?(e=Zn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function l7(t,e,n,r){var i=fr(t)?t:Ne(t),s=fr(e)?e:Ne(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function u7(t,e){var n=fr(t)?t:Ne(t),r;return this.isValid()&&n.isValid()?(e=Zn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function c7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function d7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function h7(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=WE(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Zn(e),e){case"year":s=Gh(this,r)/12;break;case"month":s=Gh(this,r);break;case"quarter":s=Gh(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:zn(s)}function Gh(t,e){if(t.date()<e.date())return-Gh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}F.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";F.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function f7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function p7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Wh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):qr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Wh(n,"Z")):Wh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function m7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function g7(t){t||(t=this.isUtc()?F.defaultFormatUtc:F.defaultFormat);var e=Wh(this,t);return this.localeData().postformat(e)}function y7(t,e){return this.isValid()&&(fr(t)&&t.isValid()||Ne(t).isValid())?pr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _7(t){return this.from(Ne(),t)}function v7(t,e){return this.isValid()&&(fr(t)&&t.isValid()||Ne(t).isValid())?pr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function w7(t){return this.to(Ne(),t)}function OD(t){var e;return t===void 0?this._locale._abbr:(e=Pi(t),e!=null&&(this._locale=e),this)}var MD=Jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function VD(){return this._locale}var lp=1e3,Wa=60*lp,up=60*Wa,LD=(365*400+97)*24*up;function qa(t,e){return(t%e+e)%e}function FD(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-LD:new Date(t,e,n).valueOf()}function UD(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-LD:Date.UTC(t,e,n)}function E7(t){var e,n;if(t=Zn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?UD:FD,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=qa(e+(this._isUTC?0:this.utcOffset()*Wa),up);break;case"minute":e=this._d.valueOf(),e-=qa(e,Wa);break;case"second":e=this._d.valueOf(),e-=qa(e,lp);break}return this._d.setTime(e),F.updateOffset(this,!0),this}function I7(t){var e,n;if(t=Zn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?UD:FD,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=up-qa(e+(this._isUTC?0:this.utcOffset()*Wa),up)-1;break;case"minute":e=this._d.valueOf(),e+=Wa-qa(e,Wa)-1;break;case"second":e=this._d.valueOf(),e+=lp-qa(e,lp)-1;break}return this._d.setTime(e),F.updateOffset(this,!0),this}function T7(){return this._d.valueOf()-(this._offset||0)*6e4}function S7(){return Math.floor(this.valueOf()/1e3)}function A7(){return new Date(this.valueOf())}function R7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function k7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function P7(){return this.isValid()?this.toISOString():null}function C7(){return CE(this)}function x7(){return Yi({},Z(this))}function b7(){return Z(this).overflow}function N7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}G("N",0,0,"eraAbbr");G("NN",0,0,"eraAbbr");G("NNN",0,0,"eraAbbr");G("NNNN",0,0,"eraName");G("NNNNN",0,0,"eraNarrow");G("y",["y",1],"yo","eraYear");G("y",["yy",2],0,"eraYear");G("y",["yyy",3],0,"eraYear");G("y",["yyyy",4],0,"eraYear");$("N",qE);$("NN",qE);$("NNN",qE);$("NNNN",z7);$("NNNNN",W7);Ie(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Z(n).era=i:Z(n).invalidEra=t});$("y",jl);$("yy",jl);$("yyy",jl);$("yyyy",jl);$("yo",q7);Ie(["y","yy","yyy","yyyy"],Kt);Ie(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Kt]=n._locale.eraYearOrdinalParse(t,i):e[Kt]=parseInt(t,10)});function D7(t,e){var n,r,i,s=this._eras||Pi("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=F(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=F(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function O7(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function M7(t,e){var n=t.since<=t.until?1:-1;return e===void 0?F(t.since).year():F(t.since).year()+(e-t.offset)*n}function V7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function L7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function F7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function U7(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-F(i[t].since).year())*n+i[t].offset;return this.year()}function $7(t){return pe(this,"_erasNameRegex")||GE.call(this),t?this._erasNameRegex:this._erasRegex}function j7(t){return pe(this,"_erasAbbrRegex")||GE.call(this),t?this._erasAbbrRegex:this._erasRegex}function B7(t){return pe(this,"_erasNarrowRegex")||GE.call(this),t?this._erasNarrowRegex:this._erasRegex}function qE(t,e){return e.erasAbbrRegex(t)}function z7(t,e){return e.erasNameRegex(t)}function W7(t,e){return e.erasNarrowRegex(t)}function q7(t,e){return e._eraYearOrdinalRegex||jl}function GE(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(kn(o[i].name)),t.push(kn(o[i].abbr)),n.push(kn(o[i].narrow)),r.push(kn(o[i].name)),r.push(kn(o[i].abbr)),r.push(kn(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}G(0,["gg",2],0,function(){return this.weekYear()%100});G(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Km(t,e){G(0,[t,t.length],0,e)}Km("gggg","weekYear");Km("ggggg","weekYear");Km("GGGG","isoWeekYear");Km("GGGGG","isoWeekYear");Qt("weekYear","gg");Qt("isoWeekYear","GG");Xt("weekYear",1);Xt("isoWeekYear",1);$("G",zm);$("g",zm);$("GG",De,Fn);$("gg",De,Fn);$("GGGG",ME,OE);$("gggg",ME,OE);$("GGGGG",Bm,$m);$("ggggg",Bm,$m);Dd(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ee(t)});Dd(["gg","GG"],function(t,e,n,r){e[r]=F.parseTwoDigitYear(t)});function G7(t){return $D.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function H7(t){return $D.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function K7(){return ci(this.year(),1,4)}function Y7(){return ci(this.isoWeekYear(),1,4)}function Q7(){var t=this.localeData()._week;return ci(this.year(),t.dow,t.doy)}function X7(){var t=this.localeData()._week;return ci(this.weekYear(),t.dow,t.doy)}function $D(t,e,n,r,i){var s;return t==null?Gc(this,r,i).year:(s=ci(t,r,i),e>s&&(e=s),J7.call(this,t,e,n,r,i))}function J7(t,e,n,r,i){var s=vD(t,e,n,r,i),o=qc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}G("Q",0,"Qo","quarter");Qt("quarter","Q");Xt("quarter",7);$("Q",uD);Ie("Q",function(t,e){e[ii]=(ee(t)-1)*3});function Z7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}G("D",["DD",2],"Do","date");Qt("date","D");Xt("date",9);$("D",De);$("DD",De,Fn);$("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ie(["D","DD"],Rr);Ie("Do",function(t,e){e[Rr]=ee(t.match(De)[0])});var jD=$l("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear");Qt("dayOfYear","DDD");Xt("dayOfYear",4);$("DDD",jm);$("DDDD",cD);Ie(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ee(t)});function eK(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}G("m",["mm",2],0,"minute");Qt("minute","m");Xt("minute",14);$("m",De);$("mm",De,Fn);Ie(["m","mm"],sr);var tK=$l("Minutes",!1);G("s",["ss",2],0,"second");Qt("second","s");Xt("second",15);$("s",De);$("ss",De,Fn);Ie(["s","ss"],si);var nK=$l("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)});G(0,["SS",2],0,function(){return~~(this.millisecond()/10)});G(0,["SSS",3],0,"millisecond");G(0,["SSSS",4],0,function(){return this.millisecond()*10});G(0,["SSSSS",5],0,function(){return this.millisecond()*100});G(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});G(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});G(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});G(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Qt("millisecond","ms");Xt("millisecond",16);$("S",jm,uD);$("SS",jm,Fn);$("SSS",jm,cD);var Qi,BD;for(Qi="SSSS";Qi.length<=9;Qi+="S")$(Qi,jl);function rK(t,e){e[ro]=ee(("0."+t)*1e3)}for(Qi="S";Qi.length<=9;Qi+="S")Ie(Qi,rK);BD=$l("Milliseconds",!1);G("z",0,0,"zoneAbbr");G("zz",0,0,"zoneName");function iK(){return this._isUTC?"UTC":""}function sK(){return this._isUTC?"Coordinated Universal Time":""}var N=bd.prototype;N.add=XH;N.calendar=i7;N.clone=s7;N.diff=h7;N.endOf=I7;N.format=g7;N.from=y7;N.fromNow=_7;N.to=v7;N.toNow=w7;N.get=a8;N.invalidAt=b7;N.isAfter=o7;N.isBefore=a7;N.isBetween=l7;N.isSame=u7;N.isSameOrAfter=c7;N.isSameOrBefore=d7;N.isValid=C7;N.lang=MD;N.locale=OD;N.localeData=VD;N.max=CH;N.min=PH;N.parsingFlags=x7;N.set=l8;N.startOf=E7;N.subtract=JH;N.toArray=R7;N.toObject=k7;N.toDate=A7;N.toISOString=p7;N.inspect=m7;typeof Symbol<"u"&&Symbol.for!=null&&(N[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});N.toJSON=P7;N.toString=f7;N.unix=S7;N.valueOf=T7;N.creationData=N7;N.eraName=V7;N.eraNarrow=L7;N.eraAbbr=F7;N.eraYear=U7;N.year=_D;N.isLeapYear=k8;N.weekYear=G7;N.isoWeekYear=H7;N.quarter=N.quarters=Z7;N.month=gD;N.daysInMonth=S8;N.week=N.weeks=D8;N.isoWeek=N.isoWeeks=O8;N.weeksInYear=Q7;N.weeksInWeekYear=X7;N.isoWeeksInYear=K7;N.isoWeeksInISOWeekYear=Y7;N.date=jD;N.day=N.days=H8;N.weekday=K8;N.isoWeekday=Y8;N.dayOfYear=eK;N.hour=N.hours=nH;N.minute=N.minutes=tK;N.second=N.seconds=nK;N.millisecond=N.milliseconds=BD;N.utcOffset=FH;N.utc=$H;N.local=jH;N.parseZone=BH;N.hasAlignedHourOffset=zH;N.isDST=WH;N.isLocal=GH;N.isUtcOffset=HH;N.isUtc=xD;N.isUTC=xD;N.zoneAbbr=iK;N.zoneName=sK;N.dates=Jn("dates accessor is deprecated. Use date instead.",jD);N.months=Jn("months accessor is deprecated. Use month instead",gD);N.years=Jn("years accessor is deprecated. Use year instead",_D);N.zone=Jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",UH);N.isDSTShifted=Jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qH);function oK(t){return Ne(t*1e3)}function aK(){return Ne.apply(null,arguments).parseZone()}function zD(t){return t}var me=bE.prototype;me.calendar=HG;me.longDateFormat=XG;me.invalidDate=ZG;me.ordinal=n8;me.preparse=zD;me.postformat=zD;me.relativeTime=i8;me.pastFuture=s8;me.set=qG;me.eras=D7;me.erasParse=O7;me.erasConvertYear=M7;me.erasAbbrRegex=j7;me.erasNameRegex=$7;me.erasNarrowRegex=B7;me.months=w8;me.monthsShort=E8;me.monthsParse=T8;me.monthsRegex=R8;me.monthsShortRegex=A8;me.week=C8;me.firstDayOfYear=N8;me.firstDayOfWeek=b8;me.weekdays=B8;me.weekdaysMin=W8;me.weekdaysShort=z8;me.weekdaysParse=G8;me.weekdaysRegex=Q8;me.weekdaysShortRegex=X8;me.weekdaysMinRegex=J8;me.isPM=eH;me.meridiem=rH;function cp(t,e,n,r){var i=Pi(),s=Wr().set(r,e);return i[n](s,t)}function WD(t,e,n){if(wi(t)&&(e=t,t=void 0),t=t||"",e!=null)return cp(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=cp(t,r,n,"month");return i}function HE(t,e,n,r){typeof t=="boolean"?(wi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,wi(e)&&(n=e,e=void 0),e=e||"");var i=Pi(),s=t?i._week.dow:0,o,a=[];if(n!=null)return cp(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=cp(e,(o+s)%7,r,"day");return a}function lK(t,e){return WD(t,e,"months")}function uK(t,e){return WD(t,e,"monthsShort")}function cK(t,e,n){return HE(t,e,n,"weekdays")}function dK(t,e,n){return HE(t,e,n,"weekdaysShort")}function hK(t,e,n){return HE(t,e,n,"weekdaysMin")}ls("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ee(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});F.lang=Jn("moment.lang is deprecated. Use moment.locale instead.",ls);F.langData=Jn("moment.langData is deprecated. Use moment.localeData instead.",Pi);var Yr=Math.abs;function fK(){var t=this._data;return this._milliseconds=Yr(this._milliseconds),this._days=Yr(this._days),this._months=Yr(this._months),t.milliseconds=Yr(t.milliseconds),t.seconds=Yr(t.seconds),t.minutes=Yr(t.minutes),t.hours=Yr(t.hours),t.months=Yr(t.months),t.years=Yr(t.years),this}function qD(t,e,n,r){var i=pr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function pK(t,e){return qD(this,t,e,1)}function mK(t,e){return qD(this,t,e,-1)}function K1(t){return t<0?Math.floor(t):Math.ceil(t)}function gK(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=K1(pv(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=zn(t/1e3),r.seconds=i%60,s=zn(i/60),r.minutes=s%60,o=zn(s/60),r.hours=o%24,e+=zn(o/24),l=zn(GD(e)),n+=l,e-=K1(pv(l)),a=zn(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function GD(t){return t*4800/146097}function pv(t){return t*146097/4800}function yK(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Zn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+GD(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(pv(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function _K(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ee(this._months/12)*31536e6:NaN}function Ci(t){return function(){return this.as(t)}}var vK=Ci("ms"),wK=Ci("s"),EK=Ci("m"),IK=Ci("h"),TK=Ci("d"),SK=Ci("w"),AK=Ci("M"),RK=Ci("Q"),kK=Ci("y");function PK(){return pr(this)}function CK(t){return t=Zn(t),this.isValid()?this[t+"s"]():NaN}function Bo(t){return function(){return this.isValid()?this._data[t]:NaN}}var xK=Bo("milliseconds"),bK=Bo("seconds"),NK=Bo("minutes"),DK=Bo("hours"),OK=Bo("days"),MK=Bo("months"),VK=Bo("years");function LK(){return zn(this.days()/7)}var Xr=Math.round,Aa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function FK(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function UK(t,e,n,r){var i=pr(t).abs(),s=Xr(i.as("s")),o=Xr(i.as("m")),a=Xr(i.as("h")),l=Xr(i.as("d")),u=Xr(i.as("M")),c=Xr(i.as("w")),d=Xr(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+t>0,h[4]=r,FK.apply(null,h)}function $K(t){return t===void 0?Xr:typeof t=="function"?(Xr=t,!0):!1}function jK(t,e){return Aa[t]===void 0?!1:e===void 0?Aa[t]:(Aa[t]=e,t==="s"&&(Aa.ss=e-1),!0)}function BK(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Aa,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Aa,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=UK(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var ly=Math.abs;function na(t){return(t>0)-(t<0)||+t}function Ym(){if(!this.isValid())return this.localeData().invalidDate();var t=ly(this._milliseconds)/1e3,e=ly(this._days),n=ly(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=zn(t/60),i=zn(r/60),t%=60,r%=60,s=zn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=na(this._months)!==na(a)?"-":"",c=na(this._days)!==na(a)?"-":"",d=na(this._milliseconds)!==na(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+o+"S":"")):"P0D"}var ue=Hm.prototype;ue.isValid=OH;ue.abs=fK;ue.add=pK;ue.subtract=mK;ue.as=yK;ue.asMilliseconds=vK;ue.asSeconds=wK;ue.asMinutes=EK;ue.asHours=IK;ue.asDays=TK;ue.asWeeks=SK;ue.asMonths=AK;ue.asQuarters=RK;ue.asYears=kK;ue.valueOf=_K;ue._bubble=gK;ue.clone=PK;ue.get=CK;ue.milliseconds=xK;ue.seconds=bK;ue.minutes=NK;ue.hours=DK;ue.days=OK;ue.weeks=LK;ue.months=MK;ue.years=VK;ue.humanize=BK;ue.toISOString=Ym;ue.toString=Ym;ue.toJSON=Ym;ue.locale=OD;ue.localeData=VD;ue.toIsoString=Jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ym);ue.lang=MD;G("X",0,0,"unix");G("x",0,0,"valueOf");$("x",zm);$("X",c8);Ie("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Ie("x",function(t,e,n){n._d=new Date(ee(t))});//! moment.js
F.version="2.29.4";zG(Ne);F.fn=N;F.min=xH;F.max=bH;F.now=NH;F.utc=Wr;F.unix=oK;F.months=lK;F.isDate=xd;F.locale=ls;F.invalid=Fm;F.duration=pr;F.isMoment=fr;F.weekdays=cK;F.parseZone=aK;F.localeData=Pi;F.isDuration=qh;F.monthsShort=uK;F.weekdaysMin=hK;F.defineLocale=UE;F.updateLocale=aH;F.locales=lH;F.weekdaysShort=dK;F.normalizeUnits=Zn;F.relativeTimeRounding=$K;F.relativeTimeThreshold=jK;F.calendarFormat=r7;F.prototype=N;F.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function KE({id:t,image:e,title:n,price:r,rating:i,hideButton:s}){const[{basket:o},a]=ks(),l=()=>{a({type:"REMOVE_FROM_BASKET",id:t})};return v.jsxs("div",{className:"checkoutProduct",children:[v.jsx("img",{className:"checkoutProduct__image",src:e}),v.jsxs("div",{className:"checkoutProduct__info",children:[v.jsx("p",{className:"checkoutProduct__title",children:n}),v.jsxs("p",{className:"checkoutProduct__price",children:[v.jsx("small",{children:"$"}),v.jsx("strong",{children:r})]}),v.jsx("div",{className:"checkoutProduct__rating",children:Array(i).fill().map((u,c)=>v.jsx("p",{children:""}))}),!s&&v.jsx("button",{onClick:l,className:"remove-button",children:"Remove from Basket"})," "]})]})}var Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.noop=zK;Un.returnTrue=WK;Un.charIsNumber=qK;Un.escapeRegExp=GK;Un.fixLeadingZero=HK;Un.splitString=KK;Un.limitToScale=HD;Un.roundToPrecision=YK;Un.omit=QK;Un.setCaretPosition=XK;function zK(){}function WK(){return!0}function qK(t){return!!(t||"").match(/\d/)}function GK(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function HK(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function KK(t,e){return[t.substring(0,e),t.substring(e)]}function HD(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function YK(t,e,n){var r=t.split("."),i=parseFloat("0."+(r[1]||"0")).toFixed(e).split("."),s=r[0].split("").reverse().reduce(function(a,l,u){return a.length>u?(Number(a[0])+Number(l)).toString()+a.substring(1,a.length):l+a},i[0]),o=HD(i[1]||"",(r[1]||"").length,n);return s+(o?"."+o:"")}function QK(t,e){var n={};return Object.keys(t).forEach(function(r){e[r]||(n[r]=t[r])}),n}function XK(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}Un.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"};var JK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),eY=Dk,ce=KD(eY),tY=P,fh=KD(tY),Ve=Un;function KD(t){return t&&t.__esModule?t:{default:t}}function nY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var YD={thousandSeparator:ce.default.oneOfType([ce.default.string,ce.default.oneOf([!0])]),thousandSpacing:ce.default.oneOf(["2","2s","3","4"]),decimalSeparator:ce.default.string,decimalScale:ce.default.number,fixedDecimalScale:ce.default.bool,displayType:ce.default.oneOf(["input","text"]),prefix:ce.default.string,suffix:ce.default.string,format:ce.default.oneOfType([ce.default.string,ce.default.func]),removeFormatting:ce.default.func,mask:ce.default.oneOfType([ce.default.string,ce.default.arrayOf(ce.default.string)]),value:ce.default.oneOfType([ce.default.number,ce.default.string]),isNumericString:ce.default.bool,customInput:ce.default.func,allowNegative:ce.default.bool,onValueChange:ce.default.func,onKeyDown:ce.default.func,onMouseUp:ce.default.func,onChange:ce.default.func,onFocus:ce.default.func,onBlur:ce.default.func,type:ce.default.oneOf(["text","tel"]),isAllowed:ce.default.func,renderText:ce.default.func},sY={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:Ve.noop,onChange:Ve.noop,onKeyDown:Ve.noop,onMouseUp:Ve.noop,onFocus:Ve.noop,onBlur:Ve.noop,isAllowed:Ve.returnTrue},YE=function(t){iY(e,t);function e(n){nY(this,e);var r=rY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.validateProps();var i=r.formatValueProp();return r.state={value:i,numAsString:r.removeFormatting(i)},r.onChange=r.onChange.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r}return ZK(e,[{key:"componentDidUpdate",value:function(r){this.updateValueIfRequired(r)}},{key:"updateValueIfRequired",value:function(r){var i=this.props,s=this.state;if(r!==i){this.validateProps();var o=s.value,a=s.numAsString||"",l=i.value===void 0?this.formatNumString(a):this.formatValueProp();l!==o&&this.setState({value:l,numAsString:this.removeFormatting(l)})}}},{key:"getFloatString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.getSeparators(),s=i.decimalSeparator,o=this.getNumberRegex(!0),a=r[0]==="-";a&&(r=r.replace("-","")),r=(r.match(o)||[]).join("").replace(s,".");var l=r.indexOf(".");return l!==-1&&(r=r.substring(0,l)+"."+r.substring(l+1,r.length).replace(new RegExp((0,Ve.escapeRegExp)(s),"g"),"")),a&&(r="-"+r),r}},{key:"getNumberRegex",value:function(r,i){var s=this.props,o=s.format,a=s.decimalScale,l=this.getSeparators(),u=l.decimalSeparator;return new RegExp("\\d"+(u&&a!==0&&!i&&!o?"|"+(0,Ve.escapeRegExp)(u):""),r?"g":void 0)}},{key:"getSeparators",value:function(){var r=this.props,i=r.decimalSeparator,s=r.thousandSpacing,o=this.props.thousandSeparator;return o===!0&&(o=","),{decimalSeparator:i,thousandSeparator:o,thousandSpacing:s}}},{key:"getMaskAtIndex",value:function(r){var i=this.props.mask,s=i===void 0?" ":i;return typeof s=="string"?s:s[r]||" "}},{key:"validateProps",value:function(){var r=this.props.mask,i=this.getSeparators(),s=i.decimalSeparator,o=i.thousandSeparator;if(s===o)throw new Error(`
          Decimal separator can't be same as thousand separator.

          thousandSeparator: `+o+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+s+` (default value for decimalSeparator is .)
       `);if(r){var a=r==="string"?r:r.toString();if(a.match(/\d/g))throw new Error(`
          Mask `+r+` should not contain numeric character;
        `)}}},{key:"splitDecimal",value:function(r){var i=this.props.allowNegative,s=r[0]==="-",o=s&&i;r=r.replace("-","");var a=r.split("."),l=a[0],u=a[1]||"";return{beforeDecimal:l,afterDecimal:u,hasNagation:s,addNegation:o}}},{key:"setPatchedCaretPosition",value:function(r,i,s){(0,Ve.setCaretPosition)(r,i),setTimeout(function(){r.value===s&&(0,Ve.setCaretPosition)(r,i)},0)}},{key:"correctCaretPosition",value:function(r,i,s){var o=this.props,a=o.prefix,l=o.suffix,u=o.format;if(!u){var c=r[0]==="-";return Math.min(Math.max(i,a.length+(c?1:0)),r.length-l.length)}if(typeof u=="function"||u[i]==="#"&&(0,Ve.charIsNumber)(r[i])||u[i-1]==="#"&&(0,Ve.charIsNumber)(r[i-1]))return i;var d=u.indexOf("#"),h=u.lastIndexOf("#");i=Math.min(Math.max(i,d),h+1);for(var f=u.substring(i,u.length).indexOf("#"),m=i,p=i+(f===-1?0:f);m>d&&(u[m]!=="#"||!(0,Ve.charIsNumber)(r[m]));)m-=1;var w=!(0,Ve.charIsNumber)(r[p])||s==="left"&&i!==d||i-m<p-i;return w?m+1:p}},{key:"getCaretPosition",value:function(r,i,s){var o=this.props.format,a=this.state.value,l=this.getNumberRegex(!0),u=(r.match(l)||[]).join(""),c=(i.match(l)||[]).join(""),d=void 0,h=void 0;for(d=0,h=0;h<s;h++){var f=r[h]||"",m=i[d]||"";if(!(!f.match(l)&&f!==m)&&!(f==="0"&&m.match(l)&&m!=="0"&&u.length!==c.length)){for(;f!==i[d]&&d<i.length;)d++;d++}}return typeof o=="string"&&!a&&(d=i.length),d=this.correctCaretPosition(i,d),d}},{key:"removePrefixAndSuffix",value:function(r){var i=this.props,s=i.format,o=i.prefix,a=i.suffix;if(!s&&r){var l=r[0]==="-";l&&(r=r.substring(1,r.length)),r=o&&r.indexOf(o)===0?r.substring(o.length,r.length):r;var u=r.lastIndexOf(a);r=a&&u!==-1&&u===r.length-a.length?r.substring(0,u):r,l&&(r="-"+r)}return r}},{key:"removePatternFormatting",value:function(r){for(var i=this.props.format,s=i.split("#").filter(function(h){return h!==""}),o=0,a="",l=0,u=s.length;l<=u;l++){var c=s[l]||"",d=l===u?r.length:r.indexOf(c,o);if(d===-1){a=r;break}else a+=r.substring(o,d),o=d+c.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(r){var i=this.props,s=i.format,o=i.removeFormatting;return r&&(s?typeof s=="string"?r=this.removePatternFormatting(r):typeof o=="function"?r=o(r):r=(r.match(/\d/g)||[]).join(""):(r=this.removePrefixAndSuffix(r),r=this.getFloatString(r)),r)}},{key:"formatWithPattern",value:function(r){for(var i=this.props.format,s=0,o=i.split(""),a=0,l=i.length;a<l;a++)i[a]==="#"&&(o[a]=r[s]||this.getMaskAtIndex(s),s+=1);return o.join("")}},{key:"formatThousand",value:function(r,i,s){var o=void 0;switch(s){case Ve.thousandGroupSpacing.two:o=/(\d)(?=(\d{2})+(?!\d))/g;break;case Ve.thousandGroupSpacing.twoScaled:o=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case Ve.thousandGroupSpacing.four:o=/(\d)(?=(\d{4})+(?!\d))/g;break;default:o=/(\d)(?=(\d{3})+(?!\d))/g}return r.replace(o,"$1"+i)}},{key:"formatAsNumber",value:function(r){var i=this.props,s=i.decimalScale,o=i.fixedDecimalScale,a=i.prefix,l=i.suffix,u=this.getSeparators(),c=u.thousandSeparator,d=u.decimalSeparator,h=u.thousandSpacing,f=r.indexOf(".")!==-1||s&&o,m=this.splitDecimal(r),p=m.beforeDecimal,w=m.afterDecimal,y=m.addNegation;return s!==void 0&&(w=(0,Ve.limitToScale)(w,s,o)),c&&(p=this.formatThousand(p,c,h)),a&&(p=a+p),l&&(w=w+l),y&&(p="-"+p),r=p+(f&&d||"")+w,r}},{key:"formatNumString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format,s=r;return r===""?s="":r==="-"&&!i?(s="-",r=""):typeof i=="string"?s=this.formatWithPattern(s):typeof i=="function"?s=i(s):s=this.formatAsNumber(s),s}},{key:"formatValueProp",value:function(){var r=this.props,i=r.format,s=r.decimalScale,o=r.fixedDecimalScale,a=this.props,l=a.value,u=a.isNumericString;if(l===void 0)return"";typeof l=="number"&&(l=l.toString(),u=!0),u&&!i&&typeof s=="number"&&(l=(0,Ve.roundToPrecision)(l,s,o));var c=u?this.formatNumString(l):this.formatInput(l);return c}},{key:"formatNegation",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.allowNegative,s=new RegExp("(-)"),o=new RegExp("(-)(.)*(-)"),a=s.test(r),l=o.test(r);return r=r.replace(/-/g,""),a&&!l&&i&&(r="-"+r),r}},{key:"formatInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format;return i||(r=this.formatNegation(r)),r=this.removeFormatting(r),this.formatNumString(r)}},{key:"isCharacterAFormat",value:function(r,i){var s=this.props,o=s.format,a=s.prefix,l=s.suffix,u=s.decimalScale,c=s.fixedDecimalScale,d=this.getSeparators(),h=d.decimalSeparator;return!!(typeof o=="string"&&o[r]!=="#"||!o&&(r<a.length||r>=i.length-l.length||u&&c&&i[r]===h))}},{key:"checkIfFormatGotDeleted",value:function(r,i,s){for(var o=r;o<i;o++)if(this.isCharacterAFormat(o,s))return!0;return!1}},{key:"correctInputValue",value:function(r,i,s){var o=this.props.format,a=this.state.numAsString||"";if(s.length>=i.length||!s.length)return s;var l=r,u=(0,Ve.splitString)(i,r),c=(0,Ve.splitString)(s,r),d=u[1].lastIndexOf(c[1]),h=d!==-1?u[1].substring(0,d):"",f=l+h.length;if(this.checkIfFormatGotDeleted(l,f,i)&&(s=i),!o){var m=this.removeFormatting(s),p=this.splitDecimal(m),w=p.beforeDecimal,y=p.afterDecimal,g=p.addNegation;if(m.length<a.length&&w===""&&!parseFloat(y))return g?"-":""}return s}},{key:"onChange",value:function(r){r.persist();var i=r.target,s=i.value,o=this.state,a=this.props,l=a.isAllowed,u=o.value||"",c=Math.max(i.selectionStart,i.selectionEnd);s=this.correctInputValue(c,u,s);var d=this.formatInput(s)||"",h=this.removeFormatting(d),f={formattedValue:d,value:h,floatValue:parseFloat(h)};l(f)||(d=u),i.value=d;var m=this.getCaretPosition(s,d,c);this.setPatchedCaretPosition(i,m,d),d!==u?this.setState({value:d,numAsString:h},function(){a.onValueChange(f),a.onChange(r)}):a.onChange(r)}},{key:"onBlur",value:function(r){var i=this.props,s=this.state,o=i.format,a=i.onBlur,l=s.numAsString,u=s.value;if(!o){l=(0,Ve.fixLeadingZero)(l);var c=this.formatNumString(l),d={formattedValue:c,value:l,floatValue:parseFloat(l)};if(c!==u){r.persist(),this.setState({value:c,numAsString:l},function(){i.onValueChange(d),a(r)});return}}a(r)}},{key:"onKeyDown",value:function(r){var i=r.target,s=r.key,o=i.selectionEnd,a=i.value,l=i.selectionStart,u=void 0,c=this.props,d=c.decimalScale,h=c.fixedDecimalScale,f=c.prefix,m=c.suffix,p=c.format,w=c.onKeyDown,y=d!==void 0&&h,g=this.getNumberRegex(!1,y),_=new RegExp("-"),E=typeof p=="string";if(s==="ArrowLeft"||s==="Backspace"?u=l-1:s==="ArrowRight"?u=l+1:s==="Delete"&&(u=l),u===void 0||l!==o){w(r);return}var S=u,R=E?p.indexOf("#"):f.length,A=E?p.lastIndexOf("#")+1:a.length-m.length;if(s==="ArrowLeft"||s==="ArrowRight"){var L=s==="ArrowLeft"?"left":"right";S=this.correctCaretPosition(a,u,L)}else if(s==="Delete"&&!g.test(a[u])&&!_.test(a[u]))for(;!g.test(a[S])&&S<A;)S++;else if(s==="Backspace"&&!g.test(a[u])&&!_.test(a[u])){for(;!g.test(a[S-1])&&S>R;)S--;S=this.correctCaretPosition(a,S,"left")}(S!==u||u<R||u>A)&&(r.preventDefault(),this.setPatchedCaretPosition(i,S,a)),r.isUnitTestRun&&this.setPatchedCaretPosition(i,S,a),this.props.onKeyDown(r)}},{key:"onMouseUp",value:function(r){var i=r.target,s=i.selectionStart,o=i.selectionEnd,a=i.value;if(s===o){var l=this.correctCaretPosition(a,s);l!==s&&this.setPatchedCaretPosition(i,l,a)}this.props.onMouseUp(r)}},{key:"onFocus",value:function(r){var i=this;r.persist(),setTimeout(function(){var s=r.target,o=s.selectionStart,a=s.value,l=i.correctCaretPosition(a,o);l!==o&&i.setPatchedCaretPosition(s,l,a),i.props.onFocus(r)})}},{key:"render",value:function(){var r=this.props,i=r.type,s=r.displayType,o=r.customInput,a=r.renderText,l=this.state.value,u=(0,Ve.omit)(this.props,YD),c=JK({},u,{type:i,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(s==="text")return a?a(l)||null:fh.default.createElement("span",u,l);if(o){var d=o;return fh.default.createElement(d,c)}return fh.default.createElement("input",c)}}]),e}(fh.default.Component);YE.propTypes=YD;YE.defaultProps=sY;var oY=YE;const QE=Iv(oY);function aY({order:t}){var e;return v.jsxs("div",{className:"order",children:[v.jsx("h2",{children:"Order"}),v.jsx("p",{children:F.unix(t.data.created).format("MMMM Do YYYY, h:mma")}),v.jsx("p",{className:"order__id",children:v.jsx("small",{children:t.id})}),(e=t.data.basket)==null?void 0:e.map(n=>v.jsx(KE,{id:n.id,title:n.title,image:n.image,price:n.price,rating:n.rating,hideButton:!0})),v.jsx(QE,{renderText:n=>v.jsxs("h3",{className:"order__total",children:["Order Total: ",n]}),decimalScale:2,value:t.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})}function lY(){const[{basket:t,user:e},n]=ks(),[r,i]=P.useState([]);return P.useEffect(()=>{e?tD.collection("users").doc(e==null?void 0:e.uid).collection("orders").orderBy("created","desc").onSnapshot(s=>i(s.docs.map(o=>({id:o.id,data:o.data()})))):i([])},[e]),v.jsxs("div",{className:"orders",children:[v.jsx("h1",{children:"Your Orders"}),v.jsx("div",{className:"orders__order",children:r==null?void 0:r.map(s=>v.jsx(aY,{order:s}))})]})}function uy(){const[{basket:t,user:e},n]=ks(),r=()=>{e&&ip.signOut()};return v.jsxs("div",{className:"header",children:[v.jsx(Gi,{to:"/",children:v.jsx("img",{className:"header-logo",src:"https://pngimg.com/uploads/amazon/amazon_PNG25.png"})}),v.jsxs("div",{className:"header-search",children:[v.jsx("input",{className:"header-searchInput",type:"text"}),v.jsx(aP,{className:"header-searchicon"})]}),v.jsxs("div",{className:"header-nav",children:[v.jsx(Gi,{to:!e&&"/login",className:"headr-clearlink",children:v.jsxs("div",{onClick:r,className:"header-option",children:[v.jsxs("span",{className:"header-option-linkone",children:["Hello ",e?e.email:"Guest"]}),v.jsx("span",{className:"header-option-linktwo",children:e?"Sign Out":"Sign In"})]})}),v.jsx(Gi,{to:"/Orders",className:"headr-clearlink",children:v.jsxs("div",{className:"header-option",children:[v.jsx("span",{className:"header-option-linkone",children:"Returns"}),v.jsx("span",{className:"header-option-linktwo",children:"& Orders"})]})}),v.jsxs("div",{className:"header-option",children:[v.jsx("span",{className:"header-option-linkone",children:"Your"}),v.jsx("span",{className:"header-option-linktwo",children:"Prime"})]}),v.jsx(Gi,{to:"/Checkout",className:"headr-clearlink",children:v.jsxs("div",{className:"header-optionbasket",children:[v.jsx(lP,{}),v.jsx("span",{className:"header-optionlinktwo header-basketcount",children:t==null?void 0:t.length})]})})]})]})}function Te({id:t,title:e,image:n,price:r,rating:i}){const[{basket:s},o]=ks(),a=()=>{o({type:"ADD_TO_BASKET",item:{id:t,title:e,image:n,price:r,rating:i}})};return v.jsxs("div",{className:"product",children:[v.jsxs("div",{className:"product-info",children:[v.jsx("p",{children:e}),v.jsxs("p",{className:"product-price",children:[v.jsx("small",{children:"$"}),v.jsx("strong",{children:r})]}),v.jsx("div",{className:"product-rating",children:Array(i).fill().map(()=>v.jsx("p",{children:""}))})]}),v.jsx("img",{src:n,alt:"ProductImage"}),v.jsx("button",{onClick:a,className:"add-basket",children:"Add to Basket"})]})}function uY({imageSrc:t}){return v.jsx("div",{className:"slider-container",children:v.jsx("div",{className:"slide",children:v.jsx("img",{src:t})})})}var XE={},cY=Pp;Object.defineProperty(XE,"__esModule",{value:!0});var QD=XE.default=void 0,dY=cY(Up()),hY=v,fY=(0,dY.default)((0,hY.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");QD=XE.default=fY;var JE={},pY=Pp;Object.defineProperty(JE,"__esModule",{value:!0});var XD=JE.default=void 0,mY=pY(Up()),gY=v,yY=(0,mY.default)((0,gY.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");XD=JE.default=yY;function _Y(){const[t,e]=P.useState(0),n=[{imageSrc:"https://m.media-amazon.com/images/I/61lwJy4B8PL._SX3000_.jpg",text:"Kitchen favorites Under $50"},{imageSrc:"https://m.media-amazon.com/images/I/71Ie3JXGfVL._SX3000_.jpg",text:"Shop Books"},{imageSrc:"https://m.media-amazon.com/images/I/71U-Q+N7PXL._SX3000_.jpg",text:"Shop Gaming essentials"},{imageSrc:"https://m.media-amazon.com/images/I/61zAjw4bqPL._SX3000_.jpg",text:"Beauty products"},{imageSrc:"https://m.media-amazon.com/images/I/81KkrQWEHIL._SX3000_.jpg",text:"New arrivals Toys"}],r=()=>{e(s=>s===0?n.length-1:s-1)},i=()=>{e(s=>s===n.length-1?0:s+1)};return v.jsxs("div",{children:[v.jsx(uY,{imageSrc:n[t].imageSrc,text:n[t].text}),v.jsx("button",{className:"arrow prev",onClick:r,children:v.jsx(QD,{fontSize:"large"})}),v.jsx("button",{className:"arrow next",onClick:i,children:v.jsx(XD,{fontSize:"large"})})]})}function vY(){const[t,e]=P.useState(""),[n,r]=P.useState(""),i=Bp(),s=a=>{a.preventDefault(),cC(ip,t,n).then(l=>{l&&i("/")}).catch(l=>alert(l.message))},o=a=>{a.preventDefault(),uC(ip,t,n).then(l=>{l&&i("/")}).catch(l=>{const u=l.message;alert(u)})};return v.jsxs("div",{className:"login",children:[v.jsx(Gi,{to:"/",children:v.jsx("img",{className:"login__image",src:"http://pngimg.com/uploads/amazon/amazon_PNG21.png",alt:"amazon"})}),v.jsxs("div",{className:"login__container",children:[v.jsx("h1",{children:"Sign in"}),v.jsxs("form",{children:[v.jsx("h5",{children:"E-mail"}),v.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value)}),v.jsx("h5",{className:"login__label",children:"Password"}),v.jsx("input",{type:"password",value:n,onChange:a=>r(a.target.value)}),v.jsx("button",{type:"submit",onClick:s,className:"login__signinButton",children:"Sign in"})]}),v.jsx("p",{className:"login__terms",children:"By continuing, you agree to Amazon's Conditions of Use and Privacy Notice."}),v.jsx("button",{onClick:o,className:"login__signupButton",children:"Create your Amazon account"})]})]})}function wY(){return v.jsx("div",{className:"home",children:v.jsxs("div",{className:"home-container",children:[v.jsx(_Y,{}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"12321341",title:"Acer Aspire 5 A515-56-36UT, 15.6 Full HD Display, 11th Gen Intel Core i3-1115G4 Processor, 4GB DDR4, 128GB NVMe SSD, WiFi 6, Windows 11 Home (S Mode)",price:1125.96,rating:5,image:"https://m.media-amazon.com/images/I/71233PTgAjL._AC_SX679_.jpg"}),v.jsx(Te,{id:"49538094",title:"Roku Express 4K+ | Roku Streaming Device 4K/HDR, Roku Voice Remote, Free & Live TV",price:239,rating:4,image:"https://m.media-amazon.com/images/I/71EZAE6fljL._AC_SX466_.jpg"})]}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"490854",title:`\r
            Kindle Paperwhite (8 GB)  Now with a 6.8 display and adjustable warm light - Without Lockscreen Ads - Black`,price:852.99,rating:4,image:"https://m.media-amazon.com/images/I/61P+vrvFZ9L._AC_SL1000_.jpg"}),v.jsx(Te,{id:"4903850",title:"SAMSUNG Electronics Galaxy Watch 4 44mm R870 Smartwatch GPS WiFi Bluetooth (International Model) (Black), (SM-R870)",price:399.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),v.jsx(Te,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:198.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),v.jsx(Te,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"13",title:`\r
            GIGABYTE B650M DS3H (AM5/ LGA 1718/ AMD/ B650/ Micro ATX/ 5-Year Warranty/ DDR5/ PCIe 4.0 M.2/ PCIe 4.0/ USB 3.2`,price:745,rating:4,image:"https://m.media-amazon.com/images/I/81LJcmxuEPL._AC_SL1500_.jpg "}),v.jsx(Te,{id:"13",title:"Silicon Power 256GB SSD 3D NAND A55 SLC Cache Performance Boost SATA III 2.5",price:745,rating:4,image:"https://fakestoreapi.com/img/71kWymZ+c+L._AC_SX679_.jpg"}),v.jsx(Te,{id:"14",title:"D 4TB Gaming Drive Works with Playstation 4 Portable External Hard Drive",price:1879,rating:5,image:"https://fakestoreapi.com/img/61mtL65D4cL._AC_SX679_.jpg"}),v.jsx(Te,{id:"12",title:"SanDisk SSD PLUS 1TB Internal SSD - SATA III 6 Gb/s",price:629,rating:3,image:"https://fakestoreapi.com/img/61U7T1koQqL._AC_SX679_.jpg"})]}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"1896532",title:"iHome 2 Port USB Wall Charger: AC Pro Multiport USB Charger",price:16.99,rating:4,image:"https://m.media-amazon.com/images/I/8147Byy8CXS._AC_CR0%2C0%2C0%2C0_SX615_SY462_.jpg"}),v.jsx(Te,{id:"1896532",title:"Fjallraven - Foldsack No. 1 Backpack, Fits 15 Laptops",price:722,rating:4,image:"https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg"}),v.jsx(Te,{id:"2785665",title:"Solid Gold Petite Micropave",price:899,rating:5,image:"https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg"}),v.jsx(Te,{id:"245622",title:"JBL FLIP 5, Waterproof Portable Bluetooth Speaker, Black, Small",price:410,rating:5,image:"https://m.media-amazon.com/images/I/6182S7MYC2L._AC_SL1000_.jpg"})]}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"3378",title:"COOFANDY Men's Suit Jacket and Vest Set Slim Fit 2 Pieces Suits Two Button Blazer Jacket ",price:389,rating:5,image:"https://m.media-amazon.com/images/I/614mp3WCqKL._AC_UX569_.jpg"}),v.jsx(Te,{id:"3",title:"Mens Cotton Jacket",price:89,rating:5,image:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"}),v.jsx(Te,{id:"4",title:"Mens Casual Slim Fit",price:125,rating:3,image:"https://fakestoreapi.com/img/71YXzeOuslL._AC_UY879_.jpg"}),v.jsx(Te,{id:"5",title:"Mens Casual Premium Slim Fit T-Shirts",price:98,rating:5,image:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg"})]}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"356",title:"Cuisinart 15-Piece Knife Set with Block, High Carbon Stainless Steel",price:499,rating:5,image:"https://m.media-amazon.com/images/I/61U4h+PfExL._AC_SL1080_.jpg"}),v.jsx(Te,{id:"3",title:"Modern Home Narrow Sliding Storage Organizer Rack",price:499,rating:5,image:"https://m.media-amazon.com/images/I/61H5xMP8s5L._AC_UL320_.jpg "}),v.jsx(Te,{id:"4",title:"IMUSA USA B120-42V Aluminum Espresso Stovetop Coffeemaker 3-Cup, Silver",price:699,rating:3,image:"https://m.media-amazon.com/images/I/51tOIsbcjBS._AC_UL320_.jpg"}),v.jsx(Te,{id:"5",title:"Amazon Basics 8 Sheet Cross Cut Paper and Credit Card Shredder with 4.1 Gallon Bin, Black",price:500,rating:5,image:"https://m.media-amazon.com/images/I/81vKaylqd6L.__AC_SX300_SY300_QL70_FMwebp_.jpg"})]}),v.jsx("div",{className:"home-row",children:v.jsx(Te,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})}),v.jsxs("div",{className:"home-row",children:[v.jsx(Te,{id:"31",title:"American Flag with Machine Guns Mens Novelty Tank Top Gym Muscle",price:20,rating:5,image:"https://m.media-amazon.com/images/I/71l+R6CF4rL._AC_SL1500_.jpg "}),v.jsx(Te,{id:"31",title:"Body-Solid (EXM3000LPS) Multi-Station 210lb Dual Weight Stack Machine for Home & Commercial Gym",price:491,rating:5,image:"https://m.media-amazon.com/images/I/81oRa-SJJqL._AC_SX425_.jpg "}),v.jsx(Te,{id:"41",title:"Bowflex SelectTech 552 Adjustable Dumbbells",price:799,rating:4,image:"https://m.media-amazon.com/images/I/71+pOdQ7iKL._AC_SX466_.jpg"}),v.jsx(Te,{id:"51",title:"Marcy Recumbent Exercise Bike with Resistance ME-709",price:300,rating:5,image:"https://m.media-amazon.com/images/I/61y65rHxiZL._AC_SX425_.jpg"})]}),v.jsx("div",{className:"SignIn-container",children:v.jsxs("div",{className:"footer-border",children:[v.jsx("p",{children:"See personalized recommendations"}),v.jsx(Gi,{to:"/Login",className:"Button-link",children:v.jsx("div",{className:"button-container",children:v.jsx("button",{className:"in-button",children:"Sign in"})})}),v.jsxs("p",{children:["New customer?"," ",v.jsx(Gi,{to:"/Login",className:"link",children:"Start here."})]})]})})]})})}function EY(){const[{basket:t},e]=ks(),n=Bp(),r=i=>i==null?void 0:i.reduce((s,o)=>o.price+s,0);return v.jsxs("div",{className:"subtotal",children:[v.jsx(QE,{renderText:i=>v.jsxs("div",{children:[v.jsxs("p",{children:["Subtotal (",t.length,"items): ",v.jsx("strong",{children:i})]}),v.jsxs("small",{className:"subtotal__gift",children:[v.jsx("input",{type:"checkbox"})," This order contains a gift"]})]}),decimalScale:2,value:r(t),displayType:"text",thousandSeparator:!0,prefix:"$"}),v.jsx("button",{onClick:i=>n("/payment"),children:"Proceed to Checkout"})]})}function IY(){const[{basket:t},e]=ks();return v.jsxs("div",{className:"checkout",children:[v.jsxs("div",{className:"checkout-left",children:[v.jsx("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),v.jsx("h3",{children:"Hello"}),v.jsx("h2",{className:"checkout__title",children:"Your shopping Basket"}),t.map(n=>v.jsx(KE,{id:n.id,title:n.title,image:n.image,price:n.price,rating:n.rating}))]}),v.jsx("div",{className:"checkout__right",children:v.jsx(EY,{})})]})}const TY=()=>{const[t,e]=P.useState(!1),n=()=>{window.pageYOffset>300?e(!0):e(!1)},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};P.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]);const i={display:t?"block":"none"};return v.jsx("div",{className:"scroll-up-button",style:i,onClick:r,children:v.jsx("span",{children:"Back to top"})})},cy=()=>v.jsxs("footer",{className:"footer",children:[v.jsx("div",{className:"footer__backToTop",children:v.jsx(TY,{})}),v.jsxs("div",{className:"footer__linkContainer",children:[v.jsxs("div",{className:"footer__links",children:[v.jsx("h3",{className:"footer__linksTitle",children:"Get to Know Us"}),v.jsx("p",{className:"footer__link",children:"About Us"}),v.jsx("p",{className:"footer__link",children:"Careers"}),v.jsx("p",{className:"footer__link",children:"Press Releases"}),v.jsx("p",{className:"footer__link",children:"Amazon Cares"}),v.jsx("p",{className:"footer__link",children:"Gift a Smile"}),v.jsx("p",{className:"footer__link",children:"Investor Relations"}),v.jsx("p",{className:"footer__link",children:"Amazon Devices"}),v.jsx("p",{className:"footer__link",children:"Amazone Scince"})]}),v.jsxs("div",{className:"footer__links",children:[v.jsx("h3",{className:"footer__linksTitle",children:"Connect with Us"}),v.jsx("p",{className:"footer__link",children:"Facebook"}),v.jsx("p",{className:"footer__link",children:"Twitter"}),v.jsx("p",{className:"footer__link",children:"Instagram"})]}),v.jsxs("div",{className:"footer__links",children:[v.jsx("h3",{className:"footer__linksTitle",children:"Make Money with Us"}),v.jsx("p",{className:"footer__link",children:"Sell on Amazon"}),v.jsx("p",{className:"footer__link",children:"Sell under Amazon Accelerator"}),v.jsx("p",{className:"footer__link",children:"Amazon Global Selling"}),v.jsx("p",{className:"footer__link",children:"Become an Affiliate"}),v.jsx("p",{className:"footer__link",children:"Amazon Pay on Merchants"}),v.jsx("p",{className:"footer__link",children:"Advertise Your Products"})]}),v.jsxs("div",{className:"footer__links",children:[v.jsx("h3",{className:"footer__linksTitle",children:"Let Us Help You"}),v.jsx("p",{className:"footer__link",children:"COVID-19 and Amazon"}),v.jsx("p",{className:"footer__link",children:"Your Account"}),v.jsx("p",{className:"footer__link",children:"Returns Centre"}),v.jsx("p",{className:"footer__link",children:"100% Purchase Protection"}),v.jsx("p",{className:"footer__link",children:"Amazon App Download"}),v.jsx("p",{className:"footer__link",children:"Help"})]})]})]});function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){JD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hh=function(e){return typeof e}:Hh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function JD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kh(t,e){return SY(t)||AY(t,e)||RY(t,e)||kY()}function SY(t){if(Array.isArray(t))return t}function AY(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function RY(t,e){if(t){if(typeof t=="string")return X1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X1(t,e)}}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mv=function(e){var n=de.useRef(e);return de.useEffect(function(){n.current=e},[e]),n.current},yl=function(e){return e!==null&&Hh(e)==="object"},PY=function(e){return yl(e)&&typeof e.then=="function"},CY=function(e){return yl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},J1="[object Object]",xY=function t(e,n){if(!yl(e)||!yl(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===J1,o=Object.prototype.toString.call(n)===J1;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var f=e,m=n,p=function(y){return t(f[y],m[y])};return h.every(p)},ZD=function(e,n,r){return yl(e)?Object.keys(e).reduce(function(i,s){var o=!yl(n)||!xY(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?Q1(Q1({},i||{}),{},JD({},s,e[s])):i},null):null},eO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Z1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eO;if(e===null||CY(e))return e;throw new Error(n)},bY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eO;if(PY(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Z1(i,n)})};var r=Z1(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},NY=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},tO=de.createContext(null);tO.displayName="CustomCheckoutSdkContext";var DY=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},OY=de.createContext(null);OY.displayName="CustomCheckoutContext";Pe.any,Pe.shape({clientSecret:Pe.string.isRequired,elementsOptions:Pe.object}).isRequired;var gv=function(e){var n=de.useContext(tO),r=de.useContext(Qm);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?DY(n,e):nO(r,e)},Qm=de.createContext(null);Qm.displayName="ElementsContext";var nO=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},ZE=de.createContext(null);ZE.displayName="CartElementContext";var MY=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},rO=function(e){var n=e.stripe,r=e.options,i=e.children,s=de.useMemo(function(){return bY(n)},[n]),o=de.useState(null),a=Kh(o,2),l=a[0],u=a[1],c=de.useState(null),d=Kh(c,2),h=d[0],f=d[1],m=de.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),p=Kh(m,2),w=p[0],y=p[1];de.useEffect(function(){var E=!0,S=function(A){y(function(L){return L.stripe?L:{stripe:A,elements:A.elements(r)}})};return s.tag==="async"&&!w.stripe?s.stripePromise.then(function(R){R&&E&&S(R)}):s.tag==="sync"&&!w.stripe&&S(s.stripe),function(){E=!1}},[s,w,r]);var g=mv(n);de.useEffect(function(){g!==null&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,n]);var _=mv(r);return de.useEffect(function(){if(w.elements){var E=ZD(r,_,["clientSecret","fonts"]);E&&w.elements.update(E)}},[r,_,w.elements]),de.useEffect(function(){NY(w.stripe)},[w.stripe]),de.createElement(Qm.Provider,{value:w},de.createElement(ZE.Provider,{value:{cart:l,setCart:u,cartState:h,setCartState:f}},i))};rO.propTypes={stripe:Pe.any,options:Pe.object};var VY=function(e){var n=de.useContext(Qm);return nO(n,e)},LY={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},eA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=de.useContext(ZE);return n?LY:MY(r,e)},FY=function(){var e=VY("calls useElements()"),n=e.elements;return n},UY=function(){var e=gv("calls useStripe()"),n=e.stripe;return n};Pe.func.isRequired;var Jt=function(e,n,r){var i=!!r,s=de.useRef(r);de.useEffect(function(){s.current=r},[r]),de.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},$Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},mt=function(e,n){var r="".concat($Y(e),"Element"),i=function(l){var u=l.id,c=l.className,d=l.options,h=d===void 0?{}:d,f=l.onBlur,m=l.onFocus,p=l.onReady,w=l.onChange,y=l.onEscape,g=l.onClick,_=l.onLoadError,E=l.onLoaderStart,S=l.onNetworksChange,R=l.onCheckout,A=l.onLineItemClick,L=l.onConfirm,te=l.onCancel,j=l.onShippingAddressChange,Ge=l.onShippingRateChange,dn=gv("mounts <".concat(r,">")),Sn="elements"in dn?dn.elements:null,Hr="customCheckoutSdk"in dn?dn.customCheckoutSdk:null,Vs=de.useState(null),zo=Kh(Vs,2),at=zo[0],B=zo[1],K=de.useRef(null),X=de.useRef(null),Oe=eA("mounts <".concat(r,">"),"customCheckoutSdk"in dn),He=Oe.setCart,xi=Oe.setCartState;Jt(at,"blur",f),Jt(at,"focus",m),Jt(at,"escape",y),Jt(at,"click",g),Jt(at,"loaderror",_),Jt(at,"loaderstart",E),Jt(at,"networkschange",S),Jt(at,"lineitemclick",A),Jt(at,"confirm",L),Jt(at,"cancel",te),Jt(at,"shippingaddresschange",j),Jt(at,"shippingratechange",Ge);var $n;e==="cart"?$n=function(oI){xi(oI),p&&p(oI)}:p&&(e==="expressCheckout"?$n=p:$n=function(){p(at)}),Jt(at,"ready",$n);var zl=e==="cart"?function(yt){xi(yt),w&&w(yt)}:w;Jt(at,"change",zl);var Kr=e==="cart"?function(yt){xi(yt),R&&R(yt)}:R;Jt(at,"checkout",Kr),de.useLayoutEffect(function(){if(K.current===null&&X.current!==null&&(Sn||Hr)){var yt=null;Hr?yt=Hr.createElement(e,h):Sn&&(yt=Sn.create(e,h)),e==="cart"&&He&&He(yt),K.current=yt,B(yt),yt&&yt.mount(X.current)}},[Sn,Hr,h,He]);var Ls=mv(h);return de.useEffect(function(){if(K.current){var yt=ZD(h,Ls,["paymentRequest"]);yt&&K.current.update(yt)}},[h,Ls]),de.useLayoutEffect(function(){return function(){if(K.current&&typeof K.current.destroy=="function")try{K.current.destroy(),K.current=null}catch{}}},[]),de.createElement("div",{id:u,className:c,ref:X})},s=function(l){var u=gv("mounts <".concat(r,">"));eA("mounts <".concat(r,">"),"customCheckoutSdk"in u);var c=l.id,d=l.className;return de.createElement("div",{id:c,className:d})},o=n?s:i;return o.propTypes={id:Pe.string,className:Pe.string,onChange:Pe.func,onBlur:Pe.func,onFocus:Pe.func,onReady:Pe.func,onEscape:Pe.func,onClick:Pe.func,onLoadError:Pe.func,onLoaderStart:Pe.func,onNetworksChange:Pe.func,onCheckout:Pe.func,onLineItemClick:Pe.func,onConfirm:Pe.func,onCancel:Pe.func,onShippingAddressChange:Pe.func,onShippingRateChange:Pe.func,options:Pe.object},o.displayName=r,o.__elementType=e,o},gt=typeof window>"u",jY=de.createContext(null);jY.displayName="EmbeddedCheckoutProviderContext";mt("auBankAccount",gt);var tA=mt("card",gt);mt("cardNumber",gt);mt("cardExpiry",gt);mt("cardCvc",gt);mt("fpxBank",gt);mt("iban",gt);mt("idealBank",gt);mt("p24Bank",gt);mt("epsBank",gt);mt("payment",gt);mt("expressCheckout",gt);mt("paymentRequestButton",gt);mt("linkAuthentication",gt);mt("address",gt);mt("shippingAddress",gt);mt("cart",gt);mt("paymentMethodMessaging",gt);mt("affirmMessage",gt);mt("afterpayClearpayMessage",gt);var iO="https://js.stripe.com/v3",BY=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",zY=function(){for(var e=document.querySelectorAll('script[src^="'.concat(iO,'"]')),n=0;n<e.length;n++){var r=e[n];if(BY.test(r.src))return r}return null},WY=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(iO).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},qY=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.1.6",startTime:n})},ph=null,GY=function(e){return ph!==null||(ph=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(nA),window.Stripe){n(window.Stripe);return}try{var i=zY();i&&e?console.warn(nA):i||(i=WY(e)),i.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(s){r(s);return}})),ph},HY=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return qY(i,r),i},sO=Promise.resolve().then(function(){return GY(null)}),oO=!1;sO.catch(function(t){oO||console.warn(t)});var KY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];oO=!0;var i=Date.now();return sO.then(function(s){return HY(s,n,i)})};function aO(t,e){return function(){return t.apply(e,arguments)}}const{toString:YY}=Object.prototype,{getPrototypeOf:eI}=Object,Xm=(t=>e=>{const n=YY.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=t=>(t=t.toLowerCase(),e=>Xm(e)===t),Jm=t=>e=>typeof e===t,{isArray:Bl}=Array,Kc=Jm("undefined");function QY(t){return t!==null&&!Kc(t)&&t.constructor!==null&&!Kc(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lO=Gr("ArrayBuffer");function XY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lO(t.buffer),e}const JY=Jm("string"),Kn=Jm("function"),uO=Jm("number"),Zm=t=>t!==null&&typeof t=="object",ZY=t=>t===!0||t===!1,Yh=t=>{if(Xm(t)!=="object")return!1;const e=eI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eQ=Gr("Date"),tQ=Gr("File"),nQ=Gr("Blob"),rQ=Gr("FileList"),iQ=t=>Zm(t)&&Kn(t.pipe),sQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=Xm(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},oQ=Gr("URLSearchParams"),aQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Od(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Bl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function cO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const dO=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hO=t=>!Kc(t)&&t!==dO;function yv(){const{caseless:t}=hO(this)&&this||{},e={},n=(r,i)=>{const s=t&&cO(e,i)||i;Yh(e[s])&&Yh(r)?e[s]=yv(e[s],r):Yh(r)?e[s]=yv({},r):Bl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Od(arguments[r],n);return e}const lQ=(t,e,n,{allOwnKeys:r}={})=>(Od(e,(i,s)=>{n&&Kn(i)?t[s]=aO(i,n):t[s]=i},{allOwnKeys:r}),t),uQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cQ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dQ=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&eI(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},fQ=t=>{if(!t)return null;if(Bl(t))return t;let e=t.length;if(!uO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},pQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eI(Uint8Array)),mQ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},gQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yQ=Gr("HTMLFormElement"),_Q=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),rA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vQ=Gr("RegExp"),fO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Od(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},wQ=t=>{fO(t,(e,n)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Kn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},EQ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Bl(t)?r(t):r(String(t).split(e)),n},IQ=()=>{},TQ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),dy="abcdefghijklmnopqrstuvwxyz",iA="0123456789",pO={DIGIT:iA,ALPHA:dy,ALPHA_DIGIT:dy+dy.toUpperCase()+iA},SQ=(t=16,e=pO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function AQ(t){return!!(t&&Kn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const RQ=t=>{const e=new Array(10),n=(r,i)=>{if(Zm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Bl(r)?[]:{};return Od(r,(o,a)=>{const l=n(o,i+1);!Kc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},kQ=Gr("AsyncFunction"),PQ=t=>t&&(Zm(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),k={isArray:Bl,isArrayBuffer:lO,isBuffer:QY,isFormData:sQ,isArrayBufferView:XY,isString:JY,isNumber:uO,isBoolean:ZY,isObject:Zm,isPlainObject:Yh,isUndefined:Kc,isDate:eQ,isFile:tQ,isBlob:nQ,isRegExp:vQ,isFunction:Kn,isStream:iQ,isURLSearchParams:oQ,isTypedArray:pQ,isFileList:rQ,forEach:Od,merge:yv,extend:lQ,trim:aQ,stripBOM:uQ,inherits:cQ,toFlatObject:dQ,kindOf:Xm,kindOfTest:Gr,endsWith:hQ,toArray:fQ,forEachEntry:mQ,matchAll:gQ,isHTMLForm:yQ,hasOwnProperty:rA,hasOwnProp:rA,reduceDescriptors:fO,freezeMethods:wQ,toObjectSet:EQ,toCamelCase:_Q,noop:IQ,toFiniteNumber:TQ,findKey:cO,global:dO,isContextDefined:hO,ALPHABET:pO,generateString:SQ,isSpecCompliantForm:AQ,toJSONObject:RQ,isAsyncFn:kQ,isThenable:PQ};function ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}k.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mO=ae.prototype,gO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gO[t]={value:t}});Object.defineProperties(ae,gO);Object.defineProperty(mO,"isAxiosError",{value:!0});ae.from=(t,e,n,r,i,s)=>{const o=Object.create(mO);return k.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const CQ=null;function _v(t){return k.isPlainObject(t)||k.isArray(t)}function yO(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function sA(t,e,n){return t?t.concat(e).map(function(i,s){return i=yO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function xQ(t){return k.isArray(t)&&!t.some(_v)}const bQ=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function eg(t,e,n){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!k.isUndefined(w[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(!l&&k.isBlob(m))throw new ae("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,w){let y=m;if(m&&!w&&typeof m=="object"){if(k.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&xQ(m)||(k.isFileList(m)||k.endsWith(p,"[]"))&&(y=k.toArray(m)))return p=yO(p),y.forEach(function(_,E){!(k.isUndefined(_)||_===null)&&e.append(o===!0?sA([p],E,s):o===null?p:p+"[]",u(_))}),!1}return _v(m)?!0:(e.append(sA(w,p,s),u(m)),!1)}const d=[],h=Object.assign(bQ,{defaultVisitor:c,convertValue:u,isVisitable:_v});function f(m,p){if(!k.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),k.forEach(m,function(y,g){(!(k.isUndefined(y)||y===null)&&i.call(e,y,k.isString(g)?g.trim():g,p,h))===!0&&f(y,p?p.concat(g):[g])}),d.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return f(t),e}function oA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tI(t,e){this._pairs=[],t&&eg(t,this,e)}const _O=tI.prototype;_O.append=function(e,n){this._pairs.push([e,n])};_O.toString=function(e){const n=e?function(r){return e.call(this,r,oA)}:oA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function NQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vO(t,e,n){if(!e)return t;const r=n&&n.encode||NQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=k.isURLSearchParams(e)?e.toString():new tI(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class DQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aA=DQ,wO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OQ=typeof URLSearchParams<"u"?URLSearchParams:tI,MQ=typeof FormData<"u"?FormData:null,VQ=typeof Blob<"u"?Blob:null,LQ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),FQ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Nr={isBrowser:!0,classes:{URLSearchParams:OQ,FormData:MQ,Blob:VQ},isStandardBrowserEnv:LQ,isStandardBrowserWebWorkerEnv:FQ,protocols:["http","https","file","blob","url","data"]};function UQ(t,e){return eg(t,new Nr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Nr.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $Q(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function EO(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&k.isArray(i)?i.length:o,l?(k.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!k.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&k.isArray(i[o])&&(i[o]=jQ(i[o])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const n={};return k.forEachEntry(t,(r,i)=>{e($Q(r),i,n,0)}),n}return null}function BQ(t,e,n){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nI={transitional:wO,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=k.isObject(e);if(s&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return i&&i?JSON.stringify(EO(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return UQ(e,this.formSerializer).toString();if((a=k.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return eg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),BQ(e)):e}],transformResponse:[function(e){const n=this.transitional||nI.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&k.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{nI.headers[t]={}});const rI=nI,zQ=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&zQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lA=Symbol("internals");function fu(t){return t&&String(t).trim().toLowerCase()}function Qh(t){return t===!1||t==null?t:k.isArray(t)?t.map(Qh):String(t)}function qQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const GQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hy(t,e,n,r,i){if(k.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!k.isString(e)){if(k.isString(r))return e.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(e)}}function HQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function KQ(t,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class tg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=fu(l);if(!c)throw new Error("header name must be a non-empty string");const d=k.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Qh(a))}const o=(a,l)=>k.forEach(a,(u,c)=>s(u,c,l));return k.isPlainObject(e)||e instanceof this.constructor?o(e,n):k.isString(e)&&(e=e.trim())&&!GQ(e)?o(WQ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=fu(e),e){const r=k.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return qQ(i);if(k.isFunction(n))return n.call(this,i,r);if(k.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fu(e),e){const r=k.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||hy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=fu(o),o){const a=k.findKey(r,o);a&&(!n||hy(r,r[a],a,n))&&(delete r[a],i=!0)}}return k.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||hy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return k.forEach(this,(i,s)=>{const o=k.findKey(r,s);if(o){n[o]=Qh(i),delete n[s];return}const a=e?HQ(s):String(s).trim();a!==s&&delete n[s],n[a]=Qh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lA]=this[lA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=fu(o);r[a]||(KQ(i,o),r[a]=!0)}return k.isArray(e)?e.forEach(s):s(e),this}}tg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(tg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});k.freezeMethods(tg);const di=tg;function fy(t,e){const n=this||rI,r=e||n,i=di.from(r.headers);let s=r.data;return k.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function IO(t){return!!(t&&t.__CANCEL__)}function Md(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}k.inherits(Md,ae,{__CANCEL__:!0});function YQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const QQ=Nr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),k.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),k.isString(s)&&l.push("path="+s),k.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function XQ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function JQ(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function TO(t,e){return t&&!XQ(e)?JQ(t,e):e}const ZQ=Nr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=k.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function eX(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tX(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function uA(t,e){let n=0;const r=tX(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const nX=typeof XMLHttpRequest<"u",rX=nX&&function(t){return new Promise(function(n,r){let i=t.data;const s=di.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;k.isFormData(i)&&(Nr.isStandardBrowserEnv||Nr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?k.isString(u=s.getContentType())&&s.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+p))}const d=TO(t.baseURL,t.url);c.open(t.method.toUpperCase(),vO(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const m=di.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:m,config:t,request:c};YQ(function(g){n(g),l()},function(g){r(g),l()},w),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new ae("Request aborted",ae.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new ae("Network Error",ae.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||wO;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new ae(p,w.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,c)),c=null},Nr.isStandardBrowserEnv){const m=(t.withCredentials||ZQ(d))&&t.xsrfCookieName&&QQ.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&k.forEach(s.toJSON(),function(p,w){c.setRequestHeader(w,p)}),k.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",uA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",uA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{c&&(r(!m||m.type?new Md(null,t,c):m),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=eX(d);if(f&&Nr.protocols.indexOf(f)===-1){r(new ae("Unsupported protocol "+f+":",ae.ERR_BAD_REQUEST,t));return}c.send(i||null)})},vv={http:CQ,xhr:rX};k.forEach(vv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cA=t=>`- ${t}`,iX=t=>k.isFunction(t)||t===null||t===!1,SO={getAdapter:t=>{t=k.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!iX(n)&&(r=vv[(o=String(n)).toLowerCase()],r===void 0))throw new ae(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(cA).join(`
`):" "+cA(s[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:vv};function py(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Md(null,t)}function dA(t){return py(t),t.headers=di.from(t.headers),t.data=fy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SO.getAdapter(t.adapter||rI.adapter)(t).then(function(r){return py(t),r.data=fy.call(t,t.transformResponse,r),r.headers=di.from(r.headers),r},function(r){return IO(r)||(py(t),r&&r.response&&(r.response.data=fy.call(t,t.transformResponse,r.response),r.response.headers=di.from(r.response.headers))),Promise.reject(r)})}const hA=t=>t instanceof di?t.toJSON():t;function _l(t,e){e=e||{};const n={};function r(u,c,d){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:d},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function i(u,c,d){if(k.isUndefined(c)){if(!k.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!k.isUndefined(c))return r(void 0,c)}function o(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(hA(u),hA(c),!0)};return k.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);k.isUndefined(h)&&d!==a||(n[c]=h)}),n}const AO="1.5.1",iI={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{iI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fA={};iI.transitional=function(e,n,r){function i(s,o){return"[Axios v"+AO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ae(i(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!fA[o]&&(fA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function sX(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const wv={assertOptions:sX,validators:iI},Vi=wv.validators;class dp{constructor(e){this.defaults=e,this.interceptors={request:new aA,response:new aA}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_l(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&wv.assertOptions(r,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),i!=null&&(k.isFunction(i)?n.paramsSerializer={serialize:i}:wv.assertOptions(i,{encode:Vi.function,serialize:Vi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&k.merge(s.common,s[n.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=di.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const m=[dA.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(n);d<h;)c=c.then(m[d++],m[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const m=a[d++],p=a[d++];try{f=m(f)}catch(w){p.call(this,w);break}}try{c=dA.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=_l(this.defaults,e);const n=TO(e.baseURL,e.url);return vO(n,e.params,e.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(e){dp.prototype[e]=function(n,r){return this.request(_l(r||{},{method:e,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(_l(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dp.prototype[e]=n(),dp.prototype[e+"Form"]=n(!0)});const Xh=dp;class sI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Md(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new sI(function(i){e=i}),cancel:e}}}const oX=sI;function aX(t){return function(n){return t.apply(null,n)}}function lX(t){return k.isObject(t)&&t.isAxiosError===!0}const Ev={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ev).forEach(([t,e])=>{Ev[e]=t});const uX=Ev;function RO(t){const e=new Xh(t),n=aO(Xh.prototype.request,e);return k.extend(n,Xh.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return RO(_l(t,i))},n}const ft=RO(rI);ft.Axios=Xh;ft.CanceledError=Md;ft.CancelToken=oX;ft.isCancel=IO;ft.VERSION=AO;ft.toFormData=eg;ft.AxiosError=ae;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=aX;ft.isAxiosError=lX;ft.mergeConfig=_l;ft.AxiosHeaders=di;ft.formToJSON=t=>EO(k.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=SO.getAdapter;ft.HttpStatusCode=uX;ft.default=ft;const cX=ft,dX=cX.create({baseURL:"https://amazone-clone.cyclic.cloud"});function hX(){const[{basket:t,user:e},n]=ks(),r=Bp(),i=_=>_==null?void 0:_.reduce((E,S)=>S.price+E,0),s=UY(),o=FY(),[a,l]=P.useState(null),[u,c]=P.useState(!0),[d,h]=P.useState(!1),[f,m]=P.useState(""),[p,w]=P.useState(!0);P.useEffect(()=>{(async()=>{const E=await dX({method:"post",url:`/payments/create?total=${i(t)*100}`});w(E.data.clientSecret)})()},[t]),console.log("THE SECRET IS >>>",p);const y=async _=>{_.preventDefault(),m(!0),await s.confirmCardPayment(p,{payment_method:{card:o.getElement(tA)}}).then(({paymentIntent:E})=>{tD.collection("users").doc(e==null?void 0:e.uid).collection("orders").doc(E.id).set({basket:t,amount:E.amount,created:E.created}),h(!0),l(null),m(!1),n({type:"EMPTY_BASKET"}),r("/Orders")})},g=_=>{c(_.empty),l(_.error?_.error.message:"")};return v.jsx("div",{className:"payment",children:v.jsxs("div",{className:"payment__container",children:[v.jsxs("h1",{children:["Checkout (",v.jsxs(Gi,{to:"/checkout",children:[t==null?void 0:t.length," items"]}),")"]}),v.jsxs("div",{className:"payment__section",children:[v.jsx("div",{className:"payment__title",children:v.jsx("h3",{children:"Delivery Address"})}),v.jsxs("div",{className:"payment__address",children:[v.jsx("p",{children:e==null?void 0:e.email}),v.jsx("p",{children:"123 React Lane"}),v.jsx("p",{children:"Los Angeles, CA"})]})]}),v.jsxs("div",{className:"payment__section",children:[v.jsx("div",{className:"payment__title",children:v.jsx("h3",{children:"Review items and delivery"})}),v.jsx("div",{className:"payment__items",children:t.map(_=>v.jsx(KE,{id:_.id,title:_.title,image:_.image,price:_.price,rating:_.rating}))})]}),v.jsxs("div",{className:"payment__section",children:[v.jsx("div",{className:"payment__title",children:v.jsx("h3",{children:"Payment Method"})}),v.jsx("div",{className:"payment__details",children:v.jsxs("form",{onSubmit:y,children:[v.jsx(tA,{onChange:g}),v.jsxs("div",{className:"payment__priceContainer",children:[v.jsx(QE,{renderText:_=>v.jsxs("h3",{children:["Order Total: ",_]}),decimalScale:2,value:i(t),displayType:"text",thousandSeparator:!0,prefix:"$"}),v.jsx("button",{disabled:f||u||d,children:v.jsx("span",{children:f?v.jsx("p",{children:"Processing"}):"Buy Now"})})]}),a&&v.jsx("div",{children:a})]})})]})]})})}const fX=KY("pk_test_51NusjqDqTKhDgRCw6NK48GBS5e29zyOjkbmWr16PI3rNhXJEtaLzNsQyskYOwKpkeFcDYPuSPYukn6D7jCEdbjFs00lLtKeiHk");function pX(){const[{},t]=ks();return P.useEffect(()=>{ip.onAuthStateChanged(e=>{t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})})},[]),v.jsx(jU,{children:v.jsx("div",{className:"App",children:v.jsxs(MU,{children:[v.jsx(ia,{path:"/login",element:v.jsx(vY,{})}),v.jsx(ia,{path:"/",element:v.jsxs(v.Fragment,{children:[v.jsx(uy,{}),v.jsx(wY,{}),v.jsx(cy,{})]})}),v.jsx(ia,{path:"/Checkout",element:v.jsxs(v.Fragment,{children:[v.jsx(uy,{}),v.jsx(IY,{}),v.jsx(cy,{})]})}),v.jsx(ia,{path:"/payment",element:v.jsx(v.Fragment,{children:v.jsx(rO,{stripe:fX,children:v.jsx(hX,{})})})}),v.jsx(ia,{path:"/Orders",element:v.jsxs(v.Fragment,{children:[v.jsx(uy,{}),v.jsx(lY,{}),v.jsx(cy,{})]})})]})})})}my.createRoot(document.getElementById("root")).render(v.jsx(rV,{initialState:tV,reducer:nV,children:v.jsx(pX,{})}))});export default mX();
